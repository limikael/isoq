

//
// This file is automatically generated.
//
// Don't edit this file, and don't put it under version control!
//

import {IsoqRequestHandler} from "/home/micke/Repo/isoq/src/main/server-exports.js";
import * as clientModule from "/tmp/isoq-4808b68bbc4b94b6727145b00909df8ed31d5e4a/client-ssr.js";
let clientSource="var fn=Object.create;var Ke=Object.defineProperty;var _n=Object.getOwnPropertyDescriptor;var dn=Object.getOwnPropertyNames;var hn=Object.getPrototypeOf,pn=Object.prototype.hasOwnProperty;var Ye=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var mn=(t,e,n,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of dn(e))!pn.call(t,o)&&o!==n&&Ke(t,o,{get:()=>e[o],enumerable:!(r=_n(e,o))||r.enumerable});return t};var Qe=(t,e,n)=>(n=t!=null?fn(hn(t)):{},mn(e||!t||!t.__esModule?Ke(n,\"default\",{value:t,enumerable:!0}):n,t));var Yt=Ye((ze,Ge)=>{(function(t,e){typeof ze==\"object\"&&typeof Ge<\"u\"?Ge.exports=e():typeof define==\"function\"&&define.amd?define(e):(t=typeof globalThis<\"u\"?globalThis:t||self,t.resolveURI=e())})(ze,(function(){\"use strict\";let t=/^[\\w+.-]+:\\/\\//,e=/^([\\w+.-]+:)\\/\\/([^@/#?]*@)?([^:/#?]*)(:\\d+)?(\\/[^#?]*)?(\\?[^#]*)?(#.*)?/,n=/^file:(?:\\/\\/((?![a-z]:)[^/#?]*)?)?(\\/?[^#?]*)(\\?[^#]*)?(#.*)?/i;function r(_){return t.test(_)}function o(_){return _.startsWith(\"//\")}function i(_){return _.startsWith(\"/\")}function s(_){return _.startsWith(\"file:\")}function l(_){return/^[.?#]/.test(_)}function a(_){let h=e.exec(_);return f(h[1],h[2]||\"\",h[3],h[4]||\"\",h[5]||\"/\",h[6]||\"\",h[7]||\"\")}function c(_){let h=n.exec(_),d=h[2];return f(\"file:\",\"\",h[1]||\"\",\"\",i(d)?d:\"/\"+d,h[3]||\"\",h[4]||\"\")}function f(_,h,d,w,C,x,E){return{scheme:_,user:h,host:d,port:w,path:C,query:x,hash:E,type:7}}function u(_){if(o(_)){let d=a(\"http:\"+_);return d.scheme=\"\",d.type=6,d}if(i(_)){let d=a(\"http://foo.com\"+_);return d.scheme=\"\",d.host=\"\",d.type=5,d}if(s(_))return c(_);if(r(_))return a(_);let h=a(\"http://foo.com/\"+_);return h.scheme=\"\",h.host=\"\",h.type=_?_.startsWith(\"?\")?3:_.startsWith(\"#\")?2:4:1,h}function g(_){if(_.endsWith(\"/..\"))return _;let h=_.lastIndexOf(\"/\");return _.slice(0,h+1)}function p(_,h){y(h,h.type),_.path===\"/\"?_.path=h.path:_.path=g(h.path)+_.path}function y(_,h){let d=h<=4,w=_.path.split(\"/\"),C=1,x=0,E=!1;for(let L=1;L<w.length;L++){let N=w[L];if(!N){E=!0;continue}if(E=!1,N!==\".\"){if(N===\"..\"){x?(E=!0,x--,C--):d&&(w[C++]=N);continue}w[C++]=N,x++}}let O=\"\";for(let L=1;L<C;L++)O+=\"/\"+w[L];(!O||E&&!O.endsWith(\"/..\"))&&(O+=\"/\"),_.path=O}function R(_,h){if(!_&&!h)return\"\";let d=u(_),w=d.type;if(h&&w!==7){let x=u(h),E=x.type;switch(w){case 1:d.hash=x.hash;case 2:d.query=x.query;case 3:case 4:p(d,x);case 5:d.user=x.user,d.host=x.host,d.port=x.port;case 6:d.scheme=x.scheme}E>w&&(w=E)}y(d,w);let C=d.query+d.hash;switch(w){case 2:case 3:return C;case 4:{let x=d.path.slice(1);return x?l(h||_)&&!l(x)?\"./\"+x+C:x+C:C||\".\"}case 5:return d.path+C;default:return d.scheme+\"//\"+d.user+d.host+d.port+d.path+C}}return R}))});var sn=Ye((Oo,on)=>{\"use strict\";function T(t){if(typeof t!=\"string\")throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function rn(t,e){for(var n=\"\",r=0,o=-1,i=0,s,l=0;l<=t.length;++l){if(l<t.length)s=t.charCodeAt(l);else{if(s===47)break;s=47}if(s===47){if(!(o===l-1||i===1))if(o!==l-1&&i===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var a=n.lastIndexOf(\"/\");if(a!==n.length-1){a===-1?(n=\"\",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf(\"/\")),o=l,i=0;continue}}else if(n.length===2||n.length===1){n=\"\",r=0,o=l,i=0;continue}}e&&(n.length>0?n+=\"/..\":n=\"..\",r=2)}else n.length>0?n+=\"/\"+t.slice(o+1,l):n=t.slice(o+1,l),r=l-o-1;o=l,i=0}else s===46&&i!==-1?++i:i=-1}return n}function Ir(t,e){var n=e.dir||e.root,r=e.base||(e.name||\"\")+(e.ext||\"\");return n?n===e.root?n+r:n+t+r:r}var z={resolve:function(){for(var e=\"\",n=!1,r,o=arguments.length-1;o>=-1&&!n;o--){var i;o>=0?i=arguments[o]:(r===void 0&&(r=process.cwd()),i=r),T(i),i.length!==0&&(e=i+\"/\"+e,n=i.charCodeAt(0)===47)}return e=rn(e,!n),n?e.length>0?\"/\"+e:\"/\":e.length>0?e:\".\"},normalize:function(e){if(T(e),e.length===0)return\".\";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=rn(e,!n),e.length===0&&!n&&(e=\".\"),e.length>0&&r&&(e+=\"/\"),n?\"/\"+e:e},isAbsolute:function(e){return T(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return\".\";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];T(r),r.length>0&&(e===void 0?e=r:e+=\"/\"+r)}return e===void 0?\".\":z.normalize(e)},relative:function(e,n){if(T(e),T(n),e===n||(e=z.resolve(e),n=z.resolve(n),e===n))return\"\";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var o=e.length,i=o-r,s=1;s<n.length&&n.charCodeAt(s)===47;++s);for(var l=n.length,a=l-s,c=i<a?i:a,f=-1,u=0;u<=c;++u){if(u===c){if(a>c){if(n.charCodeAt(s+u)===47)return n.slice(s+u+1);if(u===0)return n.slice(s+u)}else i>c&&(e.charCodeAt(r+u)===47?f=u:u===0&&(f=0));break}var g=e.charCodeAt(r+u),p=n.charCodeAt(s+u);if(g!==p)break;g===47&&(f=u)}var y=\"\";for(u=r+f+1;u<=o;++u)(u===o||e.charCodeAt(u)===47)&&(y.length===0?y+=\"..\":y+=\"/..\");return y.length>0?y+n.slice(s+f):(s+=f,n.charCodeAt(s)===47&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(T(e),e.length===0)return\".\";for(var n=e.charCodeAt(0),r=n===47,o=-1,i=!0,s=e.length-1;s>=1;--s)if(n=e.charCodeAt(s),n===47){if(!i){o=s;break}}else i=!1;return o===-1?r?\"/\":\".\":r&&o===1?\"//\":e.slice(0,o)},basename:function(e,n){if(n!==void 0&&typeof n!=\"string\")throw new TypeError('\"ext\" argument must be a string');T(e);var r=0,o=-1,i=!0,s;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return\"\";var l=n.length-1,a=-1;for(s=e.length-1;s>=0;--s){var c=e.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),l>=0&&(c===n.charCodeAt(l)?--l===-1&&(o=s):(l=-1,o=a))}return r===o?o=a:o===-1&&(o=e.length),e.slice(r,o)}else{for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!i){r=s+1;break}}else o===-1&&(i=!1,o=s+1);return o===-1?\"\":e.slice(r,o)}},extname:function(e){T(e);for(var n=-1,r=0,o=-1,i=!0,s=0,l=e.length-1;l>=0;--l){var a=e.charCodeAt(l);if(a===47){if(!i){r=l+1;break}continue}o===-1&&(i=!1,o=l+1),a===46?n===-1?n=l:s!==1&&(s=1):n!==-1&&(s=-1)}return n===-1||o===-1||s===0||s===1&&n===o-1&&n===r+1?\"\":e.slice(n,o)},format:function(e){if(e===null||typeof e!=\"object\")throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof e);return Ir(\"/\",e)},parse:function(e){T(e);var n={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(e.length===0)return n;var r=e.charCodeAt(0),o=r===47,i;o?(n.root=\"/\",i=1):i=0;for(var s=-1,l=0,a=-1,c=!0,f=e.length-1,u=0;f>=i;--f){if(r=e.charCodeAt(f),r===47){if(!c){l=f+1;break}continue}a===-1&&(c=!1,a=f+1),r===46?s===-1?s=f:u!==1&&(u=1):s!==-1&&(u=-1)}return s===-1||a===-1||u===0||u===1&&s===a-1&&s===l+1?a!==-1&&(l===0&&o?n.base=n.name=e.slice(1,a):n.base=n.name=e.slice(l,a)):(l===0&&o?(n.name=e.slice(1,s),n.base=e.slice(1,a)):(n.name=e.slice(l,s),n.base=e.slice(l,a)),n.ext=e.slice(s,a)),l>0?n.dir=e.slice(0,l-1):o&&(n.dir=\"/\"),n},sep:\"/\",delimiter:\":\",win32:null,posix:null};z.posix=z;on.exports=z});var se,m,nt,vn,W,Xe,rt,ot,it,Se,ye,xe,st,G={},lt=[],gn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function A(t,e){for(var n in e)t[n]=e[n];return t}function we(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function F(t,e,n){var r,o,i,s={};for(i in e)i==\"key\"?r=e[i]:i==\"ref\"?o=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?se.call(arguments,2):n),typeof t==\"function\"&&t.defaultProps!=null)for(i in t.defaultProps)s[i]===void 0&&(s[i]=t.defaultProps[i]);return oe(t,s,r,o,null)}function oe(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++nt,__i:-1,__u:0};return o==null&&m.vnode!=null&&m.vnode(i),i}function k(t){return t.children}function I(t,e){this.props=t,this.context=e}function q(t,e){if(e==null)return t.__?q(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type==\"function\"?q(t):null}function ut(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return ut(t)}}function be(t){(!t.__d&&(t.__d=!0)&&W.push(t)&&!ie.__r++||Xe!=m.debounceRendering)&&((Xe=m.debounceRendering)||rt)(ie)}function ie(){for(var t,e,n,r,o,i,s,l=1;W.length;)W.length>l&&W.sort(ot),t=W.shift(),l=W.length,t.__d&&(n=void 0,o=(r=(e=t).__v).__e,i=[],s=[],e.__P&&((n=A({},r)).__v=r.__v+1,m.vnode&&m.vnode(n),ke(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[o]:null,i,o??q(r),!!(32&r.__u),s),n.__v=r.__v,n.__.__k[n.__i]=n,ft(i,n,s),n.__e!=o&&ut(n)));ie.__r=0}function ct(t,e,n,r,o,i,s,l,a,c,f){var u,g,p,y,R,_,h=r&&r.__k||lt,d=e.length;for(a=yn(n,e,h,a,d),u=0;u<d;u++)(p=n.__k[u])!=null&&(g=p.__i==-1?G:h[p.__i]||G,p.__i=u,_=ke(t,p,g,o,i,s,l,a,c,f),y=p.__e,p.ref&&g.ref!=p.ref&&(g.ref&&Ee(g.ref,null,p),f.push(p.ref,p.__c||y,p)),R==null&&y!=null&&(R=y),4&p.__u||g.__k===p.__k?a=at(p,a,t):typeof p.type==\"function\"&&_!==void 0?a=_:y&&(a=y.nextSibling),p.__u&=-7);return n.__e=R,a}function yn(t,e,n,r,o){var i,s,l,a,c,f=n.length,u=f,g=0;for(t.__k=new Array(o),i=0;i<o;i++)(s=e[i])!=null&&typeof s!=\"boolean\"&&typeof s!=\"function\"?(a=i+g,(s=t.__k[i]=typeof s==\"string\"||typeof s==\"number\"||typeof s==\"bigint\"||s.constructor==String?oe(null,s,null,null,null):J(s)?oe(k,{children:s},null,null,null):s.constructor==null&&s.__b>0?oe(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,l=null,(c=s.__i=xn(s,n,a,u))!=-1&&(u--,(l=n[c])&&(l.__u|=2)),l==null||l.__v==null?(c==-1&&(o>f?g--:o<f&&g++),typeof s.type!=\"function\"&&(s.__u|=4)):c!=a&&(c==a-1?g--:c==a+1?g++:(c>a?g--:g++,s.__u|=4))):t.__k[i]=null;if(u)for(i=0;i<f;i++)(l=n[i])!=null&&(2&l.__u)==0&&(l.__e==r&&(r=q(l)),dt(l,l));return r}function at(t,e,n){var r,o;if(typeof t.type==\"function\"){for(r=t.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=t,e=at(r[o],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=q(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Z(t,e){return e=e||[],t==null||typeof t==\"boolean\"||(J(t)?t.some(function(n){Z(n,e)}):e.push(t)),e}function xn(t,e,n,r){var o,i,s,l=t.key,a=t.type,c=e[n],f=c!=null&&(2&c.__u)==0;if(c===null&&t.key==null||f&&l==c.key&&a==c.type)return n;if(r>(f?1:0)){for(o=n-1,i=n+1;o>=0||i<e.length;)if((c=e[s=o>=0?o--:i++])!=null&&(2&c.__u)==0&&l==c.key&&a==c.type)return s}return-1}function et(t,e,n){e[0]==\"-\"?t.setProperty(e,n??\"\"):t[e]=n==null?\"\":typeof n!=\"number\"||gn.test(e)?n:n+\"px\"}function re(t,e,n,r,o){var i,s;e:if(e==\"style\")if(typeof n==\"string\")t.style.cssText=n;else{if(typeof r==\"string\"&&(t.style.cssText=r=\"\"),r)for(e in r)n&&e in n||et(t.style,e,\"\");if(n)for(e in n)r&&n[e]==r[e]||et(t.style,e,n[e])}else if(e[0]==\"o\"&&e[1]==\"n\")i=e!=(e=e.replace(it,\"$1\")),s=e.toLowerCase(),e=s in t||e==\"onFocusOut\"||e==\"onFocusIn\"?s.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=Se,t.addEventListener(e,i?xe:ye,i)):t.removeEventListener(e,i?xe:ye,i);else{if(o==\"http://www.w3.org/2000/svg\")e=e.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(e!=\"width\"&&e!=\"height\"&&e!=\"href\"&&e!=\"list\"&&e!=\"form\"&&e!=\"tabIndex\"&&e!=\"download\"&&e!=\"rowSpan\"&&e!=\"colSpan\"&&e!=\"role\"&&e!=\"popover\"&&e in t)try{t[e]=n??\"\";break e}catch{}typeof n==\"function\"||(n==null||n===!1&&e[4]!=\"-\"?t.removeAttribute(e):t.setAttribute(e,e==\"popover\"&&n==1?\"\":n))}}function tt(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Se++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function ke(t,e,n,r,o,i,s,l,a,c){var f,u,g,p,y,R,_,h,d,w,C,x,E,O,L,N,ge,U=e.type;if(e.constructor!=null)return null;128&n.__u&&(a=!!(32&n.__u),i=[l=e.__e=n.__e]),(f=m.__b)&&f(e);e:if(typeof U==\"function\")try{if(h=e.props,d=\"prototype\"in U&&U.prototype.render,w=(f=U.contextType)&&r[f.__c],C=f?w?w.props.value:f.__:r,n.__c?_=(u=e.__c=n.__c).__=u.__E:(d?e.__c=u=new U(h,C):(e.__c=u=new I(h,C),u.constructor=U,u.render=Cn),w&&w.sub(u),u.props=h,u.state||(u.state={}),u.context=C,u.__n=r,g=u.__d=!0,u.__h=[],u._sb=[]),d&&u.__s==null&&(u.__s=u.state),d&&U.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=A({},u.__s)),A(u.__s,U.getDerivedStateFromProps(h,u.__s))),p=u.props,y=u.state,u.__v=e,g)d&&U.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),d&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(d&&U.getDerivedStateFromProps==null&&h!==p&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(h,C),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(h,u.__s,C)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(u.props=h,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(j){j&&(j.__=e)}),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(h,u.__s,C),d&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(p,y,R)})}if(u.context=C,u.props=h,u.__P=t,u.__e=!1,E=m.__r,O=0,d){for(u.state=u.__s,u.__d=!1,E&&E(e),f=u.render(u.props,u.state,u.context),L=0;L<u._sb.length;L++)u.__h.push(u._sb[L]);u._sb=[]}else do u.__d=!1,E&&E(e),f=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++O<25);u.state=u.__s,u.getChildContext!=null&&(r=A(A({},r),u.getChildContext())),d&&!g&&u.getSnapshotBeforeUpdate!=null&&(R=u.getSnapshotBeforeUpdate(p,y)),N=f,f!=null&&f.type===k&&f.key==null&&(N=_t(f.props.children)),l=ct(t,J(N)?N:[N],e,n,r,o,i,s,l,a,c),u.base=e.__e,e.__u&=-161,u.__h.length&&s.push(u),_&&(u.__E=u.__=null)}catch(j){if(e.__v=null,a||i!=null)if(j.then){for(e.__u|=a?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;i[i.indexOf(l)]=null,e.__e=l}else{for(ge=i.length;ge--;)we(i[ge]);Ce(e)}else e.__e=n.__e,e.__k=n.__k,j.then||Ce(e);m.__e(j,e,n)}else i==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):l=e.__e=bn(n.__e,e,n,r,o,i,s,a,c);return(f=m.diffed)&&f(e),128&e.__u?void 0:l}function Ce(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(Ce)}function ft(t,e,n){for(var r=0;r<n.length;r++)Ee(n[r],n[++r],n[++r]);m.__c&&m.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(i){i.call(o)})}catch(i){m.__e(i,o.__v)}})}function _t(t){return typeof t!=\"object\"||t==null||t.__b&&t.__b>0?t:J(t)?t.map(_t):A({},t)}function bn(t,e,n,r,o,i,s,l,a){var c,f,u,g,p,y,R,_=n.props,h=e.props,d=e.type;if(d==\"svg\"?o=\"http://www.w3.org/2000/svg\":d==\"math\"?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),i!=null){for(c=0;c<i.length;c++)if((p=i[c])&&\"setAttribute\"in p==!!d&&(d?p.localName==d:p.nodeType==3)){t=p,i[c]=null;break}}if(t==null){if(d==null)return document.createTextNode(h);t=document.createElementNS(o,d,h.is&&h),l&&(m.__m&&m.__m(e,i),l=!1),i=null}if(d==null)_===h||l&&t.data==h||(t.data=h);else{if(i=i&&se.call(t.childNodes),_=n.props||G,!l&&i!=null)for(_={},c=0;c<t.attributes.length;c++)_[(p=t.attributes[c]).name]=p.value;for(c in _)if(p=_[c],c!=\"children\"){if(c==\"dangerouslySetInnerHTML\")u=p;else if(!(c in h)){if(c==\"value\"&&\"defaultValue\"in h||c==\"checked\"&&\"defaultChecked\"in h)continue;re(t,c,null,p,o)}}for(c in h)p=h[c],c==\"children\"?g=p:c==\"dangerouslySetInnerHTML\"?f=p:c==\"value\"?y=p:c==\"checked\"?R=p:l&&typeof p!=\"function\"||_[c]===p||re(t,c,p,_[c],o);if(f)l||u&&(f.__html==u.__html||f.__html==t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(u&&(t.innerHTML=\"\"),ct(e.type==\"template\"?t.content:t,J(g)?g:[g],e,n,r,d==\"foreignObject\"?\"http://www.w3.org/1999/xhtml\":o,i,s,i?i[0]:n.__k&&q(n,0),l,a),i!=null)for(c=i.length;c--;)we(i[c]);l||(c=\"value\",d==\"progress\"&&y==null?t.removeAttribute(\"value\"):y!=null&&(y!==t[c]||d==\"progress\"&&!y||d==\"option\"&&y!=_[c])&&re(t,c,y,_[c],o),c=\"checked\",R!=null&&R!=t[c]&&re(t,c,R,_[c],o))}return t}function Ee(t,e,n){try{if(typeof t==\"function\"){var r=typeof t.__u==\"function\";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(o){m.__e(o,n)}}function dt(t,e,n){var r,o;if(m.unmount&&m.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||Ee(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){m.__e(i,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&dt(r[o],e,n||typeof t.type!=\"function\");n||we(t.__e),t.__c=t.__=t.__e=void 0}function Cn(t,e,n){return this.constructor(t,n)}function ht(t,e,n){var r,o,i,s;e==document&&(e=document.documentElement),m.__&&m.__(t,e),o=(r=typeof n==\"function\")?null:n&&n.__k||e.__k,i=[],s=[],ke(e,t=(!r&&n||e).__k=F(k,null,[t]),o||G,G,e.namespaceURI,!r&&n?[n]:o?null:e.firstChild?se.call(e.childNodes):null,i,!r&&n?n:o?o.__e:e.firstChild,r,s),ft(i,t,s)}function le(t,e){ht(t,e,le)}function P(t){function e(n){var r,o;return this.getChildContext||(r=new Set,(o={})[e.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(i){this.props.value!=i.value&&r.forEach(function(s){s.__e=!0,be(s)})},this.sub=function(i){r.add(i);var s=i.componentWillUnmount;i.componentWillUnmount=function(){r&&r.delete(i),s&&s.call(i)}}),n.children}return e.__c=\"__cC\"+st++,e.__=t,e.Provider=e.__l=(e.Consumer=function(n,r){return n.children(r)}).contextType=e,e}se=lt.slice,m={__e:function(t,e,n,r){for(var o,i,s;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(t)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,r||{}),s=o.__d),s)return o.__E=o}catch(l){t=l}throw t}},nt=0,vn=function(t){return t!=null&&t.constructor==null},I.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=A({},this.state),typeof t==\"function\"&&(t=t(A({},n),this.props)),t&&A(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),be(this))},I.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),be(this))},I.prototype.render=k,W=[],rt=typeof Promise==\"function\"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ot=function(t,e){return t.__v.__b-e.__v.__b},ie.__r=0,it=/(PointerCapture)$|Capture$/i,Se=0,ye=tt(!1),xe=tt(!0),st=0;var V,b,Re,pt,K=0,St=[],S=m,mt=S.__b,vt=S.__r,gt=S.diffed,yt=S.__c,xt=S.unmount,bt=S.__;function Y(t,e){S.__h&&S.__h(b,t,K||e),K=0;var n=b.__H||(b.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function H(t){return K=1,wt(kt,t)}function wt(t,e,n){var r=Y(V++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):kt(void 0,e),function(l){var a=r.__N?r.__N[0]:r.__[0],c=r.t(a,l);a!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=b,!b.__f)){var o=function(l,a,c){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(g){return!!g.__c});if(f.every(function(g){return!g.__N}))return!i||i.call(this,l,a,c);var u=r.__c.props!==l;return f.forEach(function(g){if(g.__N){var p=g.__[0];g.__=g.__N,g.__N=void 0,p!==g.__[0]&&(u=!0)}}),i&&i.call(this,l,a,c)||u};b.__f=!0;var i=b.shouldComponentUpdate,s=b.componentWillUpdate;b.componentWillUpdate=function(l,a,c){if(this.__e){var f=i;i=void 0,o(l,a,c),i=f}s&&s.call(this,l,a,c)},b.shouldComponentUpdate=o}return r.__N||r.__}function Le(t,e){var n=Y(V++,3);!S.__s&&Te(n.__H,e)&&(n.__=t,n.u=e,b.__H.__h.push(n))}function B(t,e){var n=Y(V++,4);!S.__s&&Te(n.__H,e)&&(n.__=t,n.u=e,b.__h.push(n))}function Ne(t){return K=5,Ue(function(){return{current:t}},[])}function Ue(t,e){var n=Y(V++,7);return Te(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Pe(t,e){return K=8,Ue(function(){return t},e)}function M(t){var e=b.context[t.__c],n=Y(V++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(b)),e.props.value):t.__}function Sn(){for(var t;t=St.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ue),t.__H.__h.forEach(Ie),t.__H.__h=[]}catch(e){t.__H.__h=[],S.__e(e,t.__v)}}S.__b=function(t){b=null,mt&&mt(t)},S.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),bt&&bt(t,e)},S.__r=function(t){vt&&vt(t),V=0;var e=(b=t.__c).__H;e&&(Re===b?(e.__h=[],b.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(ue),e.__h.forEach(Ie),e.__h=[],V=0)),Re=b},S.diffed=function(t){gt&&gt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(St.push(e)!==1&&pt===S.requestAnimationFrame||((pt=S.requestAnimationFrame)||wn)(Sn)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Re=b=null},S.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ue),n.__h=n.__h.filter(function(r){return!r.__||Ie(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],S.__e(r,n.__v)}}),yt&&yt(t,e)},S.unmount=function(t){xt&&xt(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ue(r)}catch(o){e=o}}),n.__H=void 0,e&&S.__e(e,n.__v))};var Ct=typeof requestAnimationFrame==\"function\";function wn(t){var e,n=function(){clearTimeout(r),Ct&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);Ct&&(e=requestAnimationFrame(n))}function ue(t){var e=b,n=t.__c;typeof n==\"function\"&&(t.__c=void 0,n()),b=e}function Ie(t){var e=b;t.__c=t.__(),b=e}function Te(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function kt(t,e){return typeof e==\"function\"?e(t):e}function En(t,e){for(var n in e)t[n]=e[n];return t}function Et(t,e){for(var n in t)if(n!==\"__source\"&&!(n in e))return!0;for(var r in e)if(r!==\"__source\"&&t[r]!==e[r])return!0;return!1}function Rt(t,e){this.props=t,this.context=e}(Rt.prototype=new I).isPureReactComponent=!0,Rt.prototype.shouldComponentUpdate=function(t,e){return Et(this.props,t)||Et(this.state,e)};var It=m.__b;m.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),It&&It(t)};var zr=typeof Symbol<\"u\"&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;var Rn=m.__e;m.__e=function(t,e,n,r){if(t.then){for(var o,i=e;i=i.__;)if((o=i.__c)&&o.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),o.__c(t,e)}Rn(t,e,n,r)};var Lt=m.unmount;function Mt(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c==\"function\"&&r.__c()}),t.__c.__H=null),(t=En({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return Mt(r,e,n)})),t}function Ot(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return Ot(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function Q(){this.__u=0,this.o=null,this.__b=null}function Ft(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function ce(){this.i=null,this.l=null}m.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),Lt&&Lt(t)},(Q.prototype=new I).__c=function(t,e){var n=e.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=Ft(r.__v),i=!1,s=function(){i||(i=!0,n.__R=null,o?o(l):l())};n.__R=s;var l=function(){if(!--r.__u){if(r.state.__a){var a=r.state.__a;r.__v.__k[0]=Ot(a,a.__c.__P,a.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.o.pop();)c.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(s,s)},Q.prototype.componentWillUnmount=function(){this.o=[]},Q.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=Mt(this.__b,n,r.__O=r.__P)}this.__b=null}var o=e.__a&&F(k,null,t.fallback);return o&&(o.__u&=-33),[F(k,null,e.__a?null:t.children),o]};var Nt=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!==\"t\"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};(ce.prototype=new I).__a=function(t){var e=this,n=Ft(e.__v),r=e.l.get(t);return r[0]++,function(o){var i=function(){e.props.revealOrder?(r.push(o),Nt(e,t,r)):o()};n?n(i):i()}},ce.prototype.render=function(t){this.i=null,this.l=new Map;var e=Z(t.children);t.revealOrder&&t.revealOrder[0]===\"b\"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},ce.prototype.componentDidUpdate=ce.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,n){Nt(t,n,e)})};var In=typeof Symbol<\"u\"&&Symbol.for&&Symbol.for(\"react.element\")||60103,Ln=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Nn=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Un=/[A-Z0-9]/g,Pn=typeof document<\"u\",Tn=function(t){return(typeof Symbol<\"u\"&&typeof Symbol()==\"symbol\"?/fil|che|rad/:/fil|che|ra/).test(t)};I.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(I.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Ut=m.event;function An(){}function Mn(){return this.cancelBubble}function On(){return this.defaultPrevented}m.event=function(t){return Ut&&(t=Ut(t)),t.persist=An,t.isPropagationStopped=Mn,t.isDefaultPrevented=On,t.nativeEvent=t};var Dt,Fn={enumerable:!1,configurable:!0,get:function(){return this.class}},Pt=m.vnode;m.vnode=function(t){typeof t.type==\"string\"&&(function(e){var n=e.props,r=e.type,o={},i=r.indexOf(\"-\")===-1;for(var s in n){var l=n[s];if(!(s===\"value\"&&\"defaultValue\"in n&&l==null||Pn&&s===\"children\"&&r===\"noscript\"||s===\"class\"||s===\"className\")){var a=s.toLowerCase();s===\"defaultValue\"&&\"value\"in n&&n.value==null?s=\"value\":s===\"download\"&&l===!0?l=\"\":a===\"translate\"&&l===\"no\"?l=!1:a[0]===\"o\"&&a[1]===\"n\"?a===\"ondoubleclick\"?s=\"ondblclick\":a!==\"onchange\"||r!==\"input\"&&r!==\"textarea\"||Tn(n.type)?a===\"onfocus\"?s=\"onfocusin\":a===\"onblur\"?s=\"onfocusout\":Nn.test(s)&&(s=a):a=s=\"oninput\":i&&Ln.test(s)?s=s.replace(Un,\"-$$CLIENT_SOURCE$$\").toLowerCase():l===null&&(l=void 0),a===\"oninput\"&&o[s=a]&&(s=\"oninputCapture\"),o[s]=l}}r==\"select\"&&o.multiple&&Array.isArray(o.value)&&(o.value=Z(n.children).forEach(function(c){c.props.selected=o.value.indexOf(c.props.value)!=-1})),r==\"select\"&&o.defaultValue!=null&&(o.value=Z(n.children).forEach(function(c){c.props.selected=o.multiple?o.defaultValue.indexOf(c.props.value)!=-1:o.defaultValue==c.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,\"className\",Fn)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),e.props=o})(t),t.$typeof=In,Pt&&Pt(t)};var Tt=m.__r;m.__r=function(t){Tt&&Tt(t),Dt=t.__c};var At=m.diffed;m.diffed=function(t){At&&At(t);var e=t.props,n=t.__e;n!=null&&t.type===\"textarea\"&&\"value\"in e&&e.value!==n.value&&(n.value=e.value==null?\"\":e.value),Dt=null};var Vt,Ae,Dn=!1,Wt=m.__r;m.__r=t=>{Vt=t,Ae=0,Wt&&Wt(t)};function Me(t){if(!t)return\"\";if(t.type===k&&t.key==null)return Me(t.__);let e=t.type;typeof e==\"function\"&&(Dn?e=e.name:e=\"C\");let n=t.key;n||(t.__i>=0?n=t.__i:t.__&&t.__.__k?n=t.__.__k.indexOf(t):n=0,n<0&&console.log(\"warning: negative key in refid\"));let r=Me(t.__);return r+(r?\"/\":\"\")+e+n}function Oe(){return Ae++,Me(Vt)+\"#\"+Ae}function Ht(t){if(t===void 0)throw new Error(\"Undefined pathname\");return t.split(\"/\").filter(e=>e.length>0)}function Wn(t,e){function n(r,o){for(var i=[];o<e.length;){var s=e[o];if(s===\"**\"){var l=n(r,o+1);if(l!==null)return i.concat(l);if(r<t.length){var a=n(r+1,o);if(a!==null){var c=String(t[r]);return i.concat([c],a)}}return null}if(r>=t.length)return null;if(s===\"*\")i.push(String(t[r]));else if(s!==String(t[r]))return null;r++,o++}return r===t.length?i:null}return n(0,0)}function Bt(t,e){if(!t)return;let n=new URL(t),r=Ht(n.pathname),o=Ht(e);return Wn(r,o)}function Fe(t,e){let n=t.indexOf(e);return n>=0&&t.splice(n,1),t}var _e=P(),ae=class{constructor(e,n,r){this.isoRefState=e,this.refCount=0,this.current=n,this.ids=[],this.shared=r.shared,this.shared===void 0&&(this.shared=!0)}ref(e){this.ids.includes(e)||this.ids.push(e)}unref(e){Fe(this.ids,e),this.ids.length||this.isoRefState.scheduleSweep()}},fe=class{constructor({initialRefValues:e}={}){if(this.refs={},this.sweepTimeout=null,this.sweepBlockIds=[],e)for(let n in e)this.refs[n]=new ae(this,e[n],{shared:!0})}getRef(e,n,r){return this.refs[e]||(this.refs[e]=new ae(this,n,r),this.scheduleSweep()),this.refs[e]}scheduleSweep(){!globalThis.window||this.sweepTimeout||this.sweepBlockIds.length||(this.sweepTimeout=requestAnimationFrame(this.handleSweep))}handleSweep=()=>{if(this.sweepTimeout=null,!this.sweepBlockIds.length)for(let e in this.refs)this.refs[e].ids.length||delete this.refs[e]};refSweepBlock(e){this.sweepBlockIds.includes(e)||this.sweepBlockIds.push(e)}unrefSweepBlock(e){Fe(this.sweepBlockIds,e),this.sweepBlockIds.length||this.scheduleSweep()}getSharedRefValues(){let e={};for(let n in this.refs)this.refs[n].shared&&(e[n]=this.refs[n].current);return e}};function De({children:t,fallback:e}){let n=M(_e),r=Oe();function o(){return B(()=>(n.refSweepBlock(r),()=>{n.unrefSweepBlock(r)}),[]),e}return F(Q,{fallback:F(o)},t)}function de(t,e={}){typeof e==\"boolean\"&&(e={shared:e});let n=Oe(),o=M(_e).getRef(n,t,e);return B(()=>(o.ref(n),()=>{o.unref(n)}),[]),o}function Vn(t,e,n){B(()=>(t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}),[t,e,n])}function We(t,e){let[n,r]=H(),o=Pe(()=>r({}));Vn(t,e,o)}var Hn=0,fo=Array.isArray;function v(t,e,n,r,o,i){e||(e={});var s,l,a=e;if(\"ref\"in a)for(l in a={},e)l==\"ref\"?s=e[l]:a[l]=e[l];var c={type:t,props:a,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Hn,__i:-1,__u:0,__source:o,__self:i};if(typeof t==\"function\"&&(s=t.defaultProps))for(l in s)a[l]===void 0&&(a[l]=s[l]);return m.vnode&&m.vnode(c),c}var $t=P(),Ve=P(),jt=P();function He(){let t=Ne(),e=M($t);return(n=>{t.current!=n&&(t.current=n,e.setUrl(n))})}function he({path:t,children:e}){let n=M(Ve);return Bt(n.url,t)?v(jt.Provider,{value:{path:t},children:e}):v(jt.Provider,{})}var X=class extends EventTarget{constructor({url:e}){super(),this.baseUrl=new URL(e).origin,this.committedUrl=new URL(e).toString(),this.committedVersion=1,this.nextVersion=0,this.nextUrl=\"\",this.isSsr=!globalThis.window,this.isSsr||globalThis.window.addEventListener(\"popstate\",n=>{this.setUrl(String(globalThis.window.location))})}setUrl(e){if(this.isSsr){this.redirectUrl=e;return}this.nextUrl=new URL(e,this.baseUrl).toString(),this.nextVersion?this.nextVersion++:this.nextVersion=this.committedVersion+1,this.dispatchEvent(new Event(\"change\"))}postNavScroll(){let e=globalThis.window,n=new URL(this.committedUrl),r;if(n.hash){let o=n.hash.replace(\"#\",\"\"),i=e.document.getElementsByName(o);i.length&&(r=i[0])}r?r.scrollIntoView({behavior:\"smooth\"}):e.scrollTo(0,0)}commit(){if(this.committedUrl=this.nextUrl,this.committedVersion=this.nextVersion,this.nextVersion=null,this.nextUrl=null,this.dispatchEvent(new Event(\"change\")),!this.isSsr){let e=globalThis.window;e.location!=this.committedUrl&&(e.history.scrollRestoration=\"manual\",e.history.pushState(null,null,this.committedUrl)),setTimeout(()=>this.postNavScroll(),0)}}};function qt({onMount:t,children:e}){return Le(()=>{t&&t()}),e}function Be({routerState:t,children:e}){return We(t,\"change\"),v($t.Provider,{value:t,children:[v(De,{children:v(\"div\",{style:{display:\"contents\"},children:v(qt,{children:v(Ve.Provider,{value:{url:t.committedUrl},children:e})})})},\"route-\"+t.committedVersion),!!t.nextVersion&&v(De,{children:v(\"div\",{style:{display:\"none\"},children:v(qt,{onMount:()=>t.commit(),children:v(Ve.Provider,{value:{url:t.nextUrl},children:e})})})},\"route-\"+t.nextVersion)]})}function qe({error:t}){let[e,n]=H(),r={position:\"fixed\",left:\"0\",top:\"0\",width:\"100%\",height:\"100%\",zOrder:\"100\",backgroundColor:\"#000000\",color:\"#ff0000\",fontSize:\"16px\",fontFamily:\"monospace\",borderStyle:\"solid\",borderWidth:\"0.5em\",borderColor:\"#ff0000\",padding:\"0.5em\",boxSizing:\"border-box\"},o={marginLeft:\"40px\",textDecoration:\"underline\",cursor:\"pointer\"};return v(\"div\",{style:r,children:[v(\"div\",{children:String(t)}),t.stackFrames&&v(k,{children:[t.stackFrames.filter(i=>e||!i.noisy).map(i=>v(\"div\",{style:{marginLeft:\"40px\"},children:[\"at \",i.file,\":\",i.line,\":\",i.column,i.name?` (in ${i.name})`:\"\"]})),!e&&t.stackFrames.filter(i=>i.noisy).length>0&&v(\"a\",{style:o,onClick:()=>n(!0),children:\"more...\"})]})]})}var je=class extends I{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.props.onError&&this.props.onError(e,n)}render(e,n){return n.hasError?this.props.fallback??null:this.props.children}};function $e({fallback:t,children:e}){let[n,r]=H(),o=$();o.errorFallback=t;async function i(l){let a=new Error;a.name=l.name,a.message=l.message,r(a),await o.processError(l),r(l)}let s=t;return n?v(s,{error:n}):v(je,{onError:i,children:e})}var ee=\"<unknown>\";function zt(t){var e=t.split(`\n`);return e.reduce(function(n,r){var o=$n(r)||Gn(r)||Kn(r)||er(r)||Qn(r);return o&&n.push(o),n},[])}var jn=/^\\s*at (.*?) ?\\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\\/|[a-z]:\\\\|\\\\\\\\).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,qn=/\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;function $n(t){var e=jn.exec(t);if(!e)return null;var n=e[2]&&e[2].indexOf(\"native\")===0,r=e[2]&&e[2].indexOf(\"eval\")===0,o=qn.exec(e[2]);return r&&o!=null&&(e[2]=o[1],e[3]=o[2],e[4]=o[3]),{file:n?null:e[2],methodName:e[1]||ee,arguments:n?[e[2]]:[],lineNumber:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}var zn=/^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;function Gn(t){var e=zn.exec(t);return e?{file:e[2],methodName:e[1]||ee,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}var Jn=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i,Zn=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;function Kn(t){var e=Jn.exec(t);if(!e)return null;var n=e[3]&&e[3].indexOf(\" > eval\")>-1,r=Zn.exec(e[3]);return n&&r!=null&&(e[3]=r[1],e[4]=r[2],e[5]=null),{file:e[3],methodName:e[1]||ee,arguments:e[2]?e[2].split(\",\"):[],lineNumber:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}var Yn=/^\\s*(?:([^@]*)(?:\\((.*?)\\))?@)?(\\S.*?):(\\d+)(?::(\\d+))?\\s*$/i;function Qn(t){var e=Yn.exec(t);return e?{file:e[3],methodName:e[1]||ee,arguments:[],lineNumber:+e[4],column:e[5]?+e[5]:null}:null}var Xn=/^\\s*at (?:((?:\\[object object\\])?[^\\\\/]+(?: \\[as \\S+\\])?) )?\\(?(.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;function er(t){var e=Xn.exec(t);return e?{file:e[2],methodName:e[1]||ee,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}var nr=44;var Gt=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",rr=new Uint8Array(64),Zt=new Uint8Array(128);for(let t=0;t<Gt.length;t++){let e=Gt.charCodeAt(t);rr[t]=e,Zt[e]=t}function te(t,e){let n=0,r=0,o=0;do{let s=t.next();o=Zt[s],n|=(o&31)<<r,r+=5}while(o&32);let i=n&1;return n>>>=1,i&&(n=-2147483648|-n),e+n}function Jt(t,e){return t.pos>=e?!1:t.peek()!==nr}var Lo=1024*16;var or=class{constructor(t){this.pos=0,this.buffer=t}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(t){let{buffer:e,pos:n}=this,r=e.indexOf(t,n);return r===-1?e.length:r}};function Kt(t){let{length:e}=t,n=new or(t),r=[],o=0,i=0,s=0,l=0,a=0;do{let c=n.indexOf(\";\"),f=[],u=!0,g=0;for(o=0;n.pos<c;){let p;o=te(n,o),o<g&&(u=!1),g=o,Jt(n,c)?(i=te(n,i),s=te(n,s),l=te(n,l),Jt(n,c)?(a=te(n,a),p=[o,i,s,l,a]):p=[o,i,s,l]):p=[o],f.push(p),n.pos++}u||ir(f),r.push(f),n.pos=c+1}while(n.pos<=e);return r}function ir(t){t.sort(sr)}function sr(t,e){return t[0]-e[0]}var en=Qe(Yt(),1);function lr(t){if(!t)return\"\";let e=t.lastIndexOf(\"/\");return t.slice(0,e+1)}function ur(t,e){let n=lr(t),r=e?e+\"/\":\"\";return o=>(0,en.default)(r+(o||\"\"),n)}var D=0,cr=1,ar=2,fr=3,_r=4;function dr(t,e){let n=Qt(t,0);if(n===t.length)return t;e||(t=t.slice());for(let r=n;r<t.length;r=Qt(t,r+1))t[r]=pr(t[r],e);return t}function Qt(t,e){for(let n=e;n<t.length;n++)if(!hr(t[n]))return n;return t.length}function hr(t){for(let e=1;e<t.length;e++)if(t[e][D]<t[e-1][D])return!1;return!0}function pr(t,e){return e||(t=t.slice()),t.sort(mr)}function mr(t,e){return t[D]-e[D]}var me=!1;function vr(t,e,n,r){for(;n<=r;){let o=n+(r-n>>1),i=t[o][D]-e;if(i===0)return me=!0,o;i<0?n=o+1:r=o-1}return me=!1,n-1}function gr(t,e,n){for(let r=n+1;r<t.length&&t[r][D]===e;n=r++);return n}function yr(t,e,n){for(let r=n-1;r>=0&&t[r][D]===e;n=r--);return n}function xr(){return{lastKey:-1,lastNeedle:-1,lastIndex:-1}}function br(t,e,n,r){let{lastKey:o,lastNeedle:i,lastIndex:s}=n,l=0,a=t.length-1;if(r===o){if(e===i)return me=s!==-1&&t[s][D]===e,s;e>=i?l=s===-1?0:s:a=s}return n.lastKey=r,n.lastNeedle=e,n.lastIndex=vr(t,e,l,a)}function Cr(t){return typeof t==\"string\"?JSON.parse(t):t}var Sr=\"`line` must be greater than 0 (lines start at line 1)\",wr=\"`column` must be greater than or equal to 0 (columns start at column 0)\",Xt=-1,kr=1,tn=class{constructor(t,e){let n=typeof t==\"string\";if(!n&&t._decodedMemo)return t;let r=Cr(t),{version:o,file:i,names:s,sourceRoot:l,sources:a,sourcesContent:c}=r;this.version=o,this.file=i,this.names=s||[],this.sourceRoot=l,this.sources=a,this.sourcesContent=c,this.ignoreList=r.ignoreList||r.x_google_ignoreList||void 0;let f=ur(e,l);this.resolvedSources=a.map(f);let{mappings:u}=r;if(typeof u==\"string\")this._encoded=u,this._decoded=void 0;else if(Array.isArray(u))this._encoded=void 0,this._decoded=dr(u,n);else throw r.sections?new Error(\"TraceMap passed sectioned source map, please use FlattenMap export instead\"):new Error(`invalid source map: ${JSON.stringify(r)}`);this._decodedMemo=xr(),this._bySources=void 0,this._bySourceMemos=void 0}};function Er(t){var e;return(e=t)._decoded||(e._decoded=Kt(t._encoded))}function nn(t,e){let{line:n,column:r,bias:o}=e;if(n--,n<0)throw new Error(Sr);if(r<0)throw new Error(wr);let i=Er(t);if(n>=i.length)return pe(null,null,null,null);let s=i[n],l=Rr(s,t._decodedMemo,n,r,o||kr);if(l===-1)return pe(null,null,null,null);let a=s[l];if(a.length===1)return pe(null,null,null,null);let{names:c,resolvedSources:f}=t;return pe(f[a[cr]],a[ar]+1,a[fr],a.length===5?c[a[_r]]:null)}function pe(t,e,n,r){return{source:t,line:e,column:n,name:r}}function Rr(t,e,n,r,o){let i=br(t,r,e,n);return me?i=(o===Xt?gr:yr)(t,r,i):o===Xt&&i++,i===-1||i===t.length?-1:i}var ln=Qe(sn(),1),Lr=t=>decodeURIComponent(new URL(t).pathname).replace(/^\\/([a-zA-Z]:)/,\"$1\");function Nr(t){let e=t.match(/\\/\\/# sourceMappingURL=data:application\\/json[^,]+base64,([A-Za-z0-9+/=]+)/);return e?JSON.parse(atob(e[1])):void 0}async function un({stack:t,fs:e,sourceRoot:n,sourcemap:r}){let o=zt(t),i=[...new Set(o.map(a=>a.file))],s={};if(r)for(let a of i){let c;if(a.startsWith(\"file://\")&&(c=await e.promises.readFile(Lr(a),\"utf8\")),(a.startsWith(\"http://\")||a.startsWith(\"https://\"))&&(c=await(await fetch(a)).text()),c){let f=Nr(c);f&&(s[a]=new tn(f))}}let l=[];for(let a of o){let c={thrown:a};s[a.file]&&(c.orig=nn(s[a.file],{line:a.lineNumber,column:a.column}),c.orig&&c.orig.source&&(c.line=c.orig.line,c.column=c.orig.column,c.name=c.orig.name,n?c.file=ln.default.relative(n,c.orig.source):c.file=c.orig.source,(c.orig.source.includes(\"node_modules\")||c.file.startsWith(\"..\"))&&(c.noisy=!0))),(!c.orig||!c.orig.source)&&(c.file=c.thrown.file,c.name=c.thrown.methodName,c.line=c.thrown.lineNumber,c.column=c.thrown.column),l.push(c)}return l}var ne=class{constructor({refs:e,props:n,url:r,localFetch:o,sourceRoot:i,sourcemap:s,fs:l,request:a}={}){this.isoRefState=new fe({initialRefValues:e}),this.routerState=new X({url:r}),this.url=r,this.props=n,this.headChildren=[],this.localFetch=o,this.errorFallback=qe,this.sourceRoot=i,this.sourcemap=s,this.fs=l,this.request=a}isSsr(){return!globalThis.window}getData(){return{refs:this.isoRefState.getSharedRefValues(),props:this.props}}fetch=async(e,n={})=>{if(this.isSsr()&&e.startsWith(\"/\")&&this.localFetch){e=new URL(this.request.url).origin+e;let r=new Request(e.toString(),n);this.request.headers.get(\"cookie\")&&r.headers.set(\"cookie\",this.request.headers.get(\"cookie\"));let o=await this.localFetch(r);return o.status!=200&&console.log(\"****** local fetch failed\"),o}return e.startsWith(\"/\")&&(e=new URL(this.url).origin+e),await globalThis.fetch(e,n)};async processError(e){e.stackFrames=await un({stack:e.stack,sourceRoot:this.sourceRoot,sourcemap:this.sourcemap,fs:this.fs})}};var Je=P();function $(){return M(Je)}function Ze({isoState:t,children:e}){return v(Je.Provider,{value:t,children:v($e,{fallback:qe,children:v(_e.Provider,{value:t.isoRefState,children:v(Be,{routerState:t.routerState,children:e})})})})}function ve({href:t,to:e,...n}){e&&!t&&(t=e);let r=He(),o=\"a\";function i(s){n.onClick&&n.onClick(s),n.onclick&&n.onclick(s),!s.defaultPrevented&&(s.preventDefault(),t&&r(t))}return v(o,{href:t,...n,onClick:i,children:n.children})}function Ur(){return v(\"div\",{children:\"This is page one\"})}function Pr(){throw new Error(\"this is an error...\")}function cn({hello:t}){let e=de();return e.current||(e.current=123),v(k,{children:[\"ref: \",e.current,\"hello: \",t,v(\"div\",{children:[v(ve,{href:\"/pageone\",children:\"One\"}),v(ve,{href:\"/pagetwo\",children:\"Two\"})]}),v(he,{path:\"/pageone\",children:v(Ur,{})}),v(he,{path:\"/pagetwo\",children:v(Pr,{})})]})}var Tr=[],an={sourceRoot:\"/home/micke/Repo/isoq/examples/basic\",sourcemap:!0};function Ar(t){return new ne({sourceRoot:an.sourceRoot,sourcemap:an.sourcemap,...t})}function Mr({isoState:t}){let e=v(cn,{...t.props});for(let n of[...Tr].reverse())e=v(n,{...t.props,children:e});return v(Ze,{isoState:t,children:e})}if(globalThis.window&&globalThis.window.__iso){let t=Ar({refs:globalThis.window.__iso.refs,props:globalThis.window.__iso.props,url:globalThis.window.location});le(v(Mr,{isoState:t}),globalThis.window.document.getElementById(\"isoq\"))}\n//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL0BqcmlkZ2V3ZWxsK3Jlc29sdmUtdXJpQDMuMS4yL25vZGVfbW9kdWxlcy9AanJpZGdld2VsbC9yZXNvbHZlLXVyaS9zcmMvcmVzb2x2ZS11cmkudHMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3BhdGgtYnJvd3NlcmlmeUAxLjAuMS9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMjcuMC9ub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9jb25zdGFudHMuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL3V0aWwuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL29wdGlvbnMuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2NyZWF0ZS1lbGVtZW50LmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMjcuMC9ub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9jb21wb25lbnQuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2RpZmYvcHJvcHMuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2NyZWF0ZS1jb250ZXh0LmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMjcuMC9ub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9kaWZmL2NoaWxkcmVuLmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMjcuMC9ub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9kaWZmL2luZGV4LmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMjcuMC9ub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9yZW5kZXIuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2Nsb25lLWVsZW1lbnQuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2RpZmYvY2F0Y2gtZXJyb3IuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3QvaG9va3Mvc3JjL2luZGV4LmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMjcuMC9ub2RlX21vZHVsZXMvcHJlYWN0L2NvbXBhdC9zcmMvdXRpbC5qcyIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9ub2RlX21vZHVsZXMvLnBucG0vcHJlYWN0QDEwLjI3LjAvbm9kZV9tb2R1bGVzL3ByZWFjdC9jb21wYXQvc3JjL2hvb2tzLmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMjcuMC9ub2RlX21vZHVsZXMvcHJlYWN0L2NvbXBhdC9zcmMvUHVyZUNvbXBvbmVudC5qcyIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9ub2RlX21vZHVsZXMvLnBucG0vcHJlYWN0QDEwLjI3LjAvbm9kZV9tb2R1bGVzL3ByZWFjdC9jb21wYXQvc3JjL21lbW8uanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3QvY29tcGF0L3NyYy9mb3J3YXJkUmVmLmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMjcuMC9ub2RlX21vZHVsZXMvcHJlYWN0L2NvbXBhdC9zcmMvQ2hpbGRyZW4uanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3QvY29tcGF0L3NyYy9zdXNwZW5zZS5qcyIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9ub2RlX21vZHVsZXMvLnBucG0vcHJlYWN0QDEwLjI3LjAvbm9kZV9tb2R1bGVzL3ByZWFjdC9jb21wYXQvc3JjL3N1c3BlbnNlLWxpc3QuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2NvbnN0YW50cy5qcyIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9ub2RlX21vZHVsZXMvLnBucG0vcHJlYWN0QDEwLjI3LjAvbm9kZV9tb2R1bGVzL3ByZWFjdC9jb21wYXQvc3JjL3BvcnRhbHMuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3QvY29tcGF0L3NyYy9yZW5kZXIuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3QvY29tcGF0L3NyYy9pbmRleC5qcyIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9zcmMvdXRpbHMvcHJlYWN0LXJlZmlkLmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL3NyYy91dGlscy9qcy11dGlsLmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL3NyYy9jb21wb25lbnRzL2lzby1yZWYuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evc3JjL3V0aWxzL3JlYWN0LXV0aWwuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3QvanN4LXJ1bnRpbWUvc3JjL3V0aWxzLmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMjcuMC9ub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9jb25zdGFudHMuanMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4yNy4wL25vZGVfbW9kdWxlcy9wcmVhY3QvanN4LXJ1bnRpbWUvc3JjL2luZGV4LmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL3NyYy9jb21wb25lbnRzL3JvdXRlci5qc3giLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evc3JjL2NvbXBvbmVudHMvSXNvRXJyb3JCb3VuZGFyeS5qc3giLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL3N0YWNrdHJhY2UtcGFyc2VyQDAuMS4xMS9ub2RlX21vZHVsZXMvc3RhY2t0cmFjZS1wYXJzZXIvZGlzdC9zdGFjay10cmFjZS1wYXJzZXIuZXNtLmpzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9AanJpZGdld2VsbCtzb3VyY2VtYXAtY29kZWNAMS41LjUvbm9kZV9tb2R1bGVzL0BqcmlkZ2V3ZWxsL3NvdXJjZW1hcC1jb2RlYy9zcmMvdmxxLnRzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9AanJpZGdld2VsbCtzb3VyY2VtYXAtY29kZWNAMS41LjUvbm9kZV9tb2R1bGVzL0BqcmlkZ2V3ZWxsL3NvdXJjZW1hcC1jb2RlYy9zcmMvc3RyaW5ncy50cyIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9ub2RlX21vZHVsZXMvLnBucG0vQGpyaWRnZXdlbGwrc291cmNlbWFwLWNvZGVjQDEuNS41L25vZGVfbW9kdWxlcy9AanJpZGdld2VsbC9zb3VyY2VtYXAtY29kZWMvc3JjL3Njb3Blcy50cyIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9ub2RlX21vZHVsZXMvLnBucG0vQGpyaWRnZXdlbGwrc291cmNlbWFwLWNvZGVjQDEuNS41L25vZGVfbW9kdWxlcy9AanJpZGdld2VsbC9zb3VyY2VtYXAtY29kZWMvc3JjL3NvdXJjZW1hcC1jb2RlYy50cyIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9ub2RlX21vZHVsZXMvLnBucG0vQGpyaWRnZXdlbGwrdHJhY2UtbWFwcGluZ0AwLjMuMzAvbm9kZV9tb2R1bGVzL0BqcmlkZ2V3ZWxsL3RyYWNlLW1hcHBpbmcvc3JjL3RyYWNlLW1hcHBpbmcudHMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL0BqcmlkZ2V3ZWxsK3RyYWNlLW1hcHBpbmdAMC4zLjMwL25vZGVfbW9kdWxlcy9AanJpZGdld2VsbC90cmFjZS1tYXBwaW5nL3NyYy9yZXNvbHZlLnRzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9AanJpZGdld2VsbCt0cmFjZS1tYXBwaW5nQDAuMy4zMC9ub2RlX21vZHVsZXMvQGpyaWRnZXdlbGwvdHJhY2UtbWFwcGluZy9zcmMvc3RyaXAtZmlsZW5hbWUudHMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL0BqcmlkZ2V3ZWxsK3RyYWNlLW1hcHBpbmdAMC4zLjMwL25vZGVfbW9kdWxlcy9AanJpZGdld2VsbC90cmFjZS1tYXBwaW5nL3NyYy9zb3VyY2VtYXAtc2VnbWVudC50cyIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9ub2RlX21vZHVsZXMvLnBucG0vQGpyaWRnZXdlbGwrdHJhY2UtbWFwcGluZ0AwLjMuMzAvbm9kZV9tb2R1bGVzL0BqcmlkZ2V3ZWxsL3RyYWNlLW1hcHBpbmcvc3JjL3NvcnQudHMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL0BqcmlkZ2V3ZWxsK3RyYWNlLW1hcHBpbmdAMC4zLjMwL25vZGVfbW9kdWxlcy9AanJpZGdld2VsbC90cmFjZS1tYXBwaW5nL3NyYy9iaW5hcnktc2VhcmNoLnRzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9AanJpZGdld2VsbCt0cmFjZS1tYXBwaW5nQDAuMy4zMC9ub2RlX21vZHVsZXMvQGpyaWRnZXdlbGwvdHJhY2UtbWFwcGluZy9zcmMvYnktc291cmNlLnRzIiwgIi4uLy4uL2hvbWUvbWlja2UvUmVwby9pc29xL25vZGVfbW9kdWxlcy8ucG5wbS9AanJpZGdld2VsbCt0cmFjZS1tYXBwaW5nQDAuMy4zMC9ub2RlX21vZHVsZXMvQGpyaWRnZXdlbGwvdHJhY2UtbWFwcGluZy9zcmMvdHlwZXMudHMiLCAiLi4vLi4vaG9tZS9taWNrZS9SZXBvL2lzb3Evbm9kZV9tb2R1bGVzLy5wbnBtL0BqcmlkZ2V3ZWxsK3RyYWNlLW1hcHBpbmdAMC4zLjMwL25vZGVfbW9kdWxlcy9AanJpZGdld2VsbC90cmFjZS1tYXBwaW5nL3NyYy9mbGF0dGVuLW1hcC50cyIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9zcmMvdXRpbHMvZXJyb3ItdXRpbC5qcyIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9zcmMvY29tcG9uZW50cy9Jc29Db250ZXh0LmpzeCIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9zcmMvY29tcG9uZW50cy9MaW5rLmpzeCIsICIuLi8uLi9ob21lL21pY2tlL1JlcG8vaXNvcS9leGFtcGxlcy9iYXNpYy9pbmRleC5qc3giLCAiY2xpZW50LmpzeCJdLAogICJzb3VyY2VSb290IjogIi90bXAvaXNvcS00ODA4YjY4YmJjNGI5NGI2NzI3MTQ1YjAwOTA5ZGY4ZWQzMWQ1ZTRhIiwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vIE1hdGNoZXMgdGhlIHNjaGVtZSBvZiBhIFVSTCwgZWcgXCJodHRwOi8vXCJcbmNvbnN0IHNjaGVtZVJlZ2V4ID0gL15bXFx3Ky4tXSs6XFwvXFwvLztcblxuLyoqXG4gKiBNYXRjaGVzIHRoZSBwYXJ0cyBvZiBhIFVSTDpcbiAqIDEuIFNjaGVtZSwgaW5jbHVkaW5nIFwiOlwiLCBndWFyYW50ZWVkLlxuICogMi4gVXNlci9wYXNzd29yZCwgaW5jbHVkaW5nIFwiQFwiLCBvcHRpb25hbC5cbiAqIDMuIEhvc3QsIGd1YXJhbnRlZWQuXG4gKiA0LiBQb3J0LCBpbmNsdWRpbmcgXCI6XCIsIG9wdGlvbmFsLlxuICogNS4gUGF0aCwgaW5jbHVkaW5nIFwiL1wiLCBvcHRpb25hbC5cbiAqIDYuIFF1ZXJ5LCBpbmNsdWRpbmcgXCI/XCIsIG9wdGlvbmFsLlxuICogNy4gSGFzaCwgaW5jbHVkaW5nIFwiI1wiLCBvcHRpb25hbC5cbiAqL1xuY29uc3QgdXJsUmVnZXggPSAvXihbXFx3Ky4tXSs6KVxcL1xcLyhbXkAvIz9dKkApPyhbXjovIz9dKikoOlxcZCspPyhcXC9bXiM/XSopPyhcXD9bXiNdKik/KCMuKik/LztcblxuLyoqXG4gKiBGaWxlIFVSTHMgYXJlIHdlaXJkLiBUaGV5IGRvbnQnIG5lZWQgdGhlIHJlZ3VsYXIgYC8vYCBpbiB0aGUgc2NoZW1lLCB0aGV5IG1heSBvciBtYXkgbm90IHN0YXJ0XG4gKiB3aXRoIGEgbGVhZGluZyBgL2AsIHRoZXkgY2FuIGhhdmUgYSBkb21haW4gKGJ1dCBvbmx5IGlmIHRoZXkgZG9uJ3Qgc3RhcnQgd2l0aCBhIFdpbmRvd3MgZHJpdmUpLlxuICpcbiAqIDEuIEhvc3QsIG9wdGlvbmFsLlxuICogMi4gUGF0aCwgd2hpY2ggbWF5IGluY2x1ZGUgXCIvXCIsIGd1YXJhbnRlZWQuXG4gKiAzLiBRdWVyeSwgaW5jbHVkaW5nIFwiP1wiLCBvcHRpb25hbC5cbiAqIDQuIEhhc2gsIGluY2x1ZGluZyBcIiNcIiwgb3B0aW9uYWwuXG4gKi9cbmNvbnN0IGZpbGVSZWdleCA9IC9eZmlsZTooPzpcXC9cXC8oKD8hW2Etel06KVteLyM/XSopPyk/KFxcLz9bXiM/XSopKFxcP1teI10qKT8oIy4qKT8vaTtcblxudHlwZSBVcmwgPSB7XG4gIHNjaGVtZTogc3RyaW5nO1xuICB1c2VyOiBzdHJpbmc7XG4gIGhvc3Q6IHN0cmluZztcbiAgcG9ydDogc3RyaW5nO1xuICBwYXRoOiBzdHJpbmc7XG4gIHF1ZXJ5OiBzdHJpbmc7XG4gIGhhc2g6IHN0cmluZztcbiAgdHlwZTogVXJsVHlwZTtcbn07XG5cbmNvbnN0IGVudW0gVXJsVHlwZSB7XG4gIEVtcHR5ID0gMSxcbiAgSGFzaCA9IDIsXG4gIFF1ZXJ5ID0gMyxcbiAgUmVsYXRpdmVQYXRoID0gNCxcbiAgQWJzb2x1dGVQYXRoID0gNSxcbiAgU2NoZW1lUmVsYXRpdmUgPSA2LFxuICBBYnNvbHV0ZSA9IDcsXG59XG5cbmZ1bmN0aW9uIGlzQWJzb2x1dGVVcmwoaW5wdXQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gc2NoZW1lUmVnZXgudGVzdChpbnB1dCk7XG59XG5cbmZ1bmN0aW9uIGlzU2NoZW1lUmVsYXRpdmVVcmwoaW5wdXQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gaW5wdXQuc3RhcnRzV2l0aCgnLy8nKTtcbn1cblxuZnVuY3Rpb24gaXNBYnNvbHV0ZVBhdGgoaW5wdXQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gaW5wdXQuc3RhcnRzV2l0aCgnLycpO1xufVxuXG5mdW5jdGlvbiBpc0ZpbGVVcmwoaW5wdXQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gaW5wdXQuc3RhcnRzV2l0aCgnZmlsZTonKTtcbn1cblxuZnVuY3Rpb24gaXNSZWxhdGl2ZShpbnB1dDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAvXlsuPyNdLy50ZXN0KGlucHV0KTtcbn1cblxuZnVuY3Rpb24gcGFyc2VBYnNvbHV0ZVVybChpbnB1dDogc3RyaW5nKTogVXJsIHtcbiAgY29uc3QgbWF0Y2ggPSB1cmxSZWdleC5leGVjKGlucHV0KSE7XG4gIHJldHVybiBtYWtlVXJsKFxuICAgIG1hdGNoWzFdLFxuICAgIG1hdGNoWzJdIHx8ICcnLFxuICAgIG1hdGNoWzNdLFxuICAgIG1hdGNoWzRdIHx8ICcnLFxuICAgIG1hdGNoWzVdIHx8ICcvJyxcbiAgICBtYXRjaFs2XSB8fCAnJyxcbiAgICBtYXRjaFs3XSB8fCAnJyxcbiAgKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VGaWxlVXJsKGlucHV0OiBzdHJpbmcpOiBVcmwge1xuICBjb25zdCBtYXRjaCA9IGZpbGVSZWdleC5leGVjKGlucHV0KSE7XG4gIGNvbnN0IHBhdGggPSBtYXRjaFsyXTtcbiAgcmV0dXJuIG1ha2VVcmwoXG4gICAgJ2ZpbGU6JyxcbiAgICAnJyxcbiAgICBtYXRjaFsxXSB8fCAnJyxcbiAgICAnJyxcbiAgICBpc0Fic29sdXRlUGF0aChwYXRoKSA/IHBhdGggOiAnLycgKyBwYXRoLFxuICAgIG1hdGNoWzNdIHx8ICcnLFxuICAgIG1hdGNoWzRdIHx8ICcnLFxuICApO1xufVxuXG5mdW5jdGlvbiBtYWtlVXJsKFxuICBzY2hlbWU6IHN0cmluZyxcbiAgdXNlcjogc3RyaW5nLFxuICBob3N0OiBzdHJpbmcsXG4gIHBvcnQ6IHN0cmluZyxcbiAgcGF0aDogc3RyaW5nLFxuICBxdWVyeTogc3RyaW5nLFxuICBoYXNoOiBzdHJpbmcsXG4pOiBVcmwge1xuICByZXR1cm4ge1xuICAgIHNjaGVtZSxcbiAgICB1c2VyLFxuICAgIGhvc3QsXG4gICAgcG9ydCxcbiAgICBwYXRoLFxuICAgIHF1ZXJ5LFxuICAgIGhhc2gsXG4gICAgdHlwZTogVXJsVHlwZS5BYnNvbHV0ZSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VVcmwoaW5wdXQ6IHN0cmluZyk6IFVybCB7XG4gIGlmIChpc1NjaGVtZVJlbGF0aXZlVXJsKGlucHV0KSkge1xuICAgIGNvbnN0IHVybCA9IHBhcnNlQWJzb2x1dGVVcmwoJ2h0dHA6JyArIGlucHV0KTtcbiAgICB1cmwuc2NoZW1lID0gJyc7XG4gICAgdXJsLnR5cGUgPSBVcmxUeXBlLlNjaGVtZVJlbGF0aXZlO1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICBpZiAoaXNBYnNvbHV0ZVBhdGgoaW5wdXQpKSB7XG4gICAgY29uc3QgdXJsID0gcGFyc2VBYnNvbHV0ZVVybCgnaHR0cDovL2Zvby5jb20nICsgaW5wdXQpO1xuICAgIHVybC5zY2hlbWUgPSAnJztcbiAgICB1cmwuaG9zdCA9ICcnO1xuICAgIHVybC50eXBlID0gVXJsVHlwZS5BYnNvbHV0ZVBhdGg7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIGlmIChpc0ZpbGVVcmwoaW5wdXQpKSByZXR1cm4gcGFyc2VGaWxlVXJsKGlucHV0KTtcblxuICBpZiAoaXNBYnNvbHV0ZVVybChpbnB1dCkpIHJldHVybiBwYXJzZUFic29sdXRlVXJsKGlucHV0KTtcblxuICBjb25zdCB1cmwgPSBwYXJzZUFic29sdXRlVXJsKCdodHRwOi8vZm9vLmNvbS8nICsgaW5wdXQpO1xuICB1cmwuc2NoZW1lID0gJyc7XG4gIHVybC5ob3N0ID0gJyc7XG4gIHVybC50eXBlID0gaW5wdXRcbiAgICA/IGlucHV0LnN0YXJ0c1dpdGgoJz8nKVxuICAgICAgPyBVcmxUeXBlLlF1ZXJ5XG4gICAgICA6IGlucHV0LnN0YXJ0c1dpdGgoJyMnKVxuICAgICAgPyBVcmxUeXBlLkhhc2hcbiAgICAgIDogVXJsVHlwZS5SZWxhdGl2ZVBhdGhcbiAgICA6IFVybFR5cGUuRW1wdHk7XG4gIHJldHVybiB1cmw7XG59XG5cbmZ1bmN0aW9uIHN0cmlwUGF0aEZpbGVuYW1lKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIElmIGEgcGF0aCBlbmRzIHdpdGggYSBwYXJlbnQgZGlyZWN0b3J5IFwiLi5cIiwgdGhlbiBpdCdzIGEgcmVsYXRpdmUgcGF0aCB3aXRoIGV4Y2VzcyBwYXJlbnRcbiAgLy8gcGF0aHMuIEl0J3Mgbm90IGEgZmlsZSwgc28gd2UgY2FuJ3Qgc3RyaXAgaXQuXG4gIGlmIChwYXRoLmVuZHNXaXRoKCcvLi4nKSkgcmV0dXJuIHBhdGg7XG4gIGNvbnN0IGluZGV4ID0gcGF0aC5sYXN0SW5kZXhPZignLycpO1xuICByZXR1cm4gcGF0aC5zbGljZSgwLCBpbmRleCArIDEpO1xufVxuXG5mdW5jdGlvbiBtZXJnZVBhdGhzKHVybDogVXJsLCBiYXNlOiBVcmwpIHtcbiAgbm9ybWFsaXplUGF0aChiYXNlLCBiYXNlLnR5cGUpO1xuXG4gIC8vIElmIHRoZSBwYXRoIGlzIGp1c3QgYSBcIi9cIiwgdGhlbiBpdCB3YXMgYW4gZW1wdHkgcGF0aCB0byBiZWdpbiB3aXRoIChyZW1lbWJlciwgd2UncmUgYSByZWxhdGl2ZVxuICAvLyBwYXRoKS5cbiAgaWYgKHVybC5wYXRoID09PSAnLycpIHtcbiAgICB1cmwucGF0aCA9IGJhc2UucGF0aDtcbiAgfSBlbHNlIHtcbiAgICAvLyBSZXNvbHV0aW9uIGhhcHBlbnMgcmVsYXRpdmUgdG8gdGhlIGJhc2UgcGF0aCdzIGRpcmVjdG9yeSwgbm90IHRoZSBmaWxlLlxuICAgIHVybC5wYXRoID0gc3RyaXBQYXRoRmlsZW5hbWUoYmFzZS5wYXRoKSArIHVybC5wYXRoO1xuICB9XG59XG5cbi8qKlxuICogVGhlIHBhdGggY2FuIGhhdmUgZW1wdHkgZGlyZWN0b3JpZXMgXCIvL1wiLCB1bm5lZWRlZCBwYXJlbnRzIFwiZm9vLy4uXCIsIG9yIGN1cnJlbnQgZGlyZWN0b3J5XG4gKiBcImZvby8uXCIuIFdlIG5lZWQgdG8gbm9ybWFsaXplIHRvIGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb24uXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVBhdGgodXJsOiBVcmwsIHR5cGU6IFVybFR5cGUpIHtcbiAgY29uc3QgcmVsID0gdHlwZSA8PSBVcmxUeXBlLlJlbGF0aXZlUGF0aDtcbiAgY29uc3QgcGllY2VzID0gdXJsLnBhdGguc3BsaXQoJy8nKTtcblxuICAvLyBXZSBuZWVkIHRvIHByZXNlcnZlIHRoZSBmaXJzdCBwaWVjZSBhbHdheXMsIHNvIHRoYXQgd2Ugb3V0cHV0IGEgbGVhZGluZyBzbGFzaC4gVGhlIGl0ZW0gYXRcbiAgLy8gcGllY2VzWzBdIGlzIGFuIGVtcHR5IHN0cmluZy5cbiAgbGV0IHBvaW50ZXIgPSAxO1xuXG4gIC8vIFBvc2l0aXZlIGlzIHRoZSBudW1iZXIgb2YgcmVhbCBkaXJlY3RvcmllcyB3ZSd2ZSBvdXRwdXQsIHVzZWQgZm9yIHBvcHBpbmcgYSBwYXJlbnQgZGlyZWN0b3J5LlxuICAvLyBFZywgXCJmb28vYmFyLy4uXCIgd2lsbCBoYXZlIGEgcG9zaXRpdmUgMiwgYW5kIHdlIGNhbiBkZWNyZW1lbnQgdG8gYmUgbGVmdCB3aXRoIGp1c3QgXCJmb29cIi5cbiAgbGV0IHBvc2l0aXZlID0gMDtcblxuICAvLyBXZSBuZWVkIHRvIGtlZXAgYSB0cmFpbGluZyBzbGFzaCBpZiB3ZSBlbmNvdW50ZXIgYW4gZW1wdHkgZGlyZWN0b3J5IChlZywgc3BsaXR0aW5nIFwiZm9vL1wiIHdpbGxcbiAgLy8gZ2VuZXJhdGUgYFtcImZvb1wiLCBcIlwiXWAgcGllY2VzKS4gQW5kLCBpZiB3ZSBwb3AgYSBwYXJlbnQgZGlyZWN0b3J5LiBCdXQgb25jZSB3ZSBlbmNvdW50ZXIgYVxuICAvLyByZWFsIGRpcmVjdG9yeSwgd2Ugd29uJ3QgbmVlZCB0byBhcHBlbmQsIHVubGVzcyB0aGUgb3RoZXIgY29uZGl0aW9ucyBoYXBwZW4gYWdhaW4uXG4gIGxldCBhZGRUcmFpbGluZ1NsYXNoID0gZmFsc2U7XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBwaWVjZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwaWVjZSA9IHBpZWNlc1tpXTtcblxuICAgIC8vIEFuIGVtcHR5IGRpcmVjdG9yeSwgY291bGQgYmUgYSB0cmFpbGluZyBzbGFzaCwgb3IganVzdCBhIGRvdWJsZSBcIi8vXCIgaW4gdGhlIHBhdGguXG4gICAgaWYgKCFwaWVjZSkge1xuICAgICAgYWRkVHJhaWxpbmdTbGFzaCA9IHRydWU7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBlbmNvdW50ZXIgYSByZWFsIGRpcmVjdG9yeSwgdGhlbiB3ZSBkb24ndCBuZWVkIHRvIGFwcGVuZCBhbnltb3JlLlxuICAgIGFkZFRyYWlsaW5nU2xhc2ggPSBmYWxzZTtcblxuICAgIC8vIEEgY3VycmVudCBkaXJlY3RvcnksIHdoaWNoIHdlIGNhbiBhbHdheXMgZHJvcC5cbiAgICBpZiAocGllY2UgPT09ICcuJykgY29udGludWU7XG5cbiAgICAvLyBBIHBhcmVudCBkaXJlY3RvcnksIHdlIG5lZWQgdG8gc2VlIGlmIHRoZXJlIGFyZSBhbnkgcmVhbCBkaXJlY3RvcmllcyB3ZSBjYW4gcG9wLiBFbHNlLCB3ZVxuICAgIC8vIGhhdmUgYW4gZXhjZXNzIG9mIHBhcmVudHMsIGFuZCB3ZSdsbCBuZWVkIHRvIGtlZXAgdGhlIFwiLi5cIi5cbiAgICBpZiAocGllY2UgPT09ICcuLicpIHtcbiAgICAgIGlmIChwb3NpdGl2ZSkge1xuICAgICAgICBhZGRUcmFpbGluZ1NsYXNoID0gdHJ1ZTtcbiAgICAgICAgcG9zaXRpdmUtLTtcbiAgICAgICAgcG9pbnRlci0tO1xuICAgICAgfSBlbHNlIGlmIChyZWwpIHtcbiAgICAgICAgLy8gSWYgd2UncmUgaW4gYSByZWxhdGl2ZVBhdGgsIHRoZW4gd2UgbmVlZCB0byBrZWVwIHRoZSBleGNlc3MgcGFyZW50cy4gRWxzZSwgaW4gYW4gYWJzb2x1dGVcbiAgICAgICAgLy8gVVJMLCBwcm90b2NvbCByZWxhdGl2ZSBVUkwsIG9yIGFuIGFic29sdXRlIHBhdGgsIHdlIGRvbid0IG5lZWQgdG8ga2VlcCBleGNlc3MuXG4gICAgICAgIHBpZWNlc1twb2ludGVyKytdID0gcGllY2U7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBXZSd2ZSBlbmNvdW50ZXJlZCBhIHJlYWwgZGlyZWN0b3J5LiBNb3ZlIGl0IHRvIHRoZSBuZXh0IGluc2VydGlvbiBwb2ludGVyLCB3aGljaCBhY2NvdW50cyBmb3JcbiAgICAvLyBhbnkgcG9wcGVkIG9yIGRyb3BwZWQgZGlyZWN0b3JpZXMuXG4gICAgcGllY2VzW3BvaW50ZXIrK10gPSBwaWVjZTtcbiAgICBwb3NpdGl2ZSsrO1xuICB9XG5cbiAgbGV0IHBhdGggPSAnJztcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBwb2ludGVyOyBpKyspIHtcbiAgICBwYXRoICs9ICcvJyArIHBpZWNlc1tpXTtcbiAgfVxuICBpZiAoIXBhdGggfHwgKGFkZFRyYWlsaW5nU2xhc2ggJiYgIXBhdGguZW5kc1dpdGgoJy8uLicpKSkge1xuICAgIHBhdGggKz0gJy8nO1xuICB9XG4gIHVybC5wYXRoID0gcGF0aDtcbn1cblxuLyoqXG4gKiBBdHRlbXB0cyB0byByZXNvbHZlIGBpbnB1dGAgVVJML3BhdGggcmVsYXRpdmUgdG8gYGJhc2VgLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXNvbHZlKGlucHV0OiBzdHJpbmcsIGJhc2U6IHN0cmluZyB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG4gIGlmICghaW5wdXQgJiYgIWJhc2UpIHJldHVybiAnJztcblxuICBjb25zdCB1cmwgPSBwYXJzZVVybChpbnB1dCk7XG4gIGxldCBpbnB1dFR5cGUgPSB1cmwudHlwZTtcblxuICBpZiAoYmFzZSAmJiBpbnB1dFR5cGUgIT09IFVybFR5cGUuQWJzb2x1dGUpIHtcbiAgICBjb25zdCBiYXNlVXJsID0gcGFyc2VVcmwoYmFzZSk7XG4gICAgY29uc3QgYmFzZVR5cGUgPSBiYXNlVXJsLnR5cGU7XG5cbiAgICBzd2l0Y2ggKGlucHV0VHlwZSkge1xuICAgICAgY2FzZSBVcmxUeXBlLkVtcHR5OlxuICAgICAgICB1cmwuaGFzaCA9IGJhc2VVcmwuaGFzaDtcbiAgICAgIC8vIGZhbGwgdGhyb3VnaFxuXG4gICAgICBjYXNlIFVybFR5cGUuSGFzaDpcbiAgICAgICAgdXJsLnF1ZXJ5ID0gYmFzZVVybC5xdWVyeTtcbiAgICAgIC8vIGZhbGwgdGhyb3VnaFxuXG4gICAgICBjYXNlIFVybFR5cGUuUXVlcnk6XG4gICAgICBjYXNlIFVybFR5cGUuUmVsYXRpdmVQYXRoOlxuICAgICAgICBtZXJnZVBhdGhzKHVybCwgYmFzZVVybCk7XG4gICAgICAvLyBmYWxsIHRocm91Z2hcblxuICAgICAgY2FzZSBVcmxUeXBlLkFic29sdXRlUGF0aDpcbiAgICAgICAgLy8gVGhlIGhvc3QsIHVzZXIsIGFuZCBwb3J0IGFyZSBqb2luZWQsIHlvdSBjYW4ndCBjb3B5IG9uZSB3aXRob3V0IHRoZSBvdGhlcnMuXG4gICAgICAgIHVybC51c2VyID0gYmFzZVVybC51c2VyO1xuICAgICAgICB1cmwuaG9zdCA9IGJhc2VVcmwuaG9zdDtcbiAgICAgICAgdXJsLnBvcnQgPSBiYXNlVXJsLnBvcnQ7XG4gICAgICAvLyBmYWxsIHRocm91Z2hcblxuICAgICAgY2FzZSBVcmxUeXBlLlNjaGVtZVJlbGF0aXZlOlxuICAgICAgICAvLyBUaGUgaW5wdXQgZG9lc24ndCBoYXZlIGEgc2NoZW1hIGF0IGxlYXN0LCBzbyB3ZSBuZWVkIHRvIGNvcHkgYXQgbGVhc3QgdGhhdCBvdmVyLlxuICAgICAgICB1cmwuc2NoZW1lID0gYmFzZVVybC5zY2hlbWU7XG4gICAgfVxuICAgIGlmIChiYXNlVHlwZSA+IGlucHV0VHlwZSkgaW5wdXRUeXBlID0gYmFzZVR5cGU7XG4gIH1cblxuICBub3JtYWxpemVQYXRoKHVybCwgaW5wdXRUeXBlKTtcblxuICBjb25zdCBxdWVyeUhhc2ggPSB1cmwucXVlcnkgKyB1cmwuaGFzaDtcbiAgc3dpdGNoIChpbnB1dFR5cGUpIHtcbiAgICAvLyBUaGlzIGlzIGltcG9zc2libGUsIGJlY2F1c2Ugb2YgdGhlIGVtcHR5IGNoZWNrcyBhdCB0aGUgc3RhcnQgb2YgdGhlIGZ1bmN0aW9uLlxuICAgIC8vIGNhc2UgVXJsVHlwZS5FbXB0eTpcblxuICAgIGNhc2UgVXJsVHlwZS5IYXNoOlxuICAgIGNhc2UgVXJsVHlwZS5RdWVyeTpcbiAgICAgIHJldHVybiBxdWVyeUhhc2g7XG5cbiAgICBjYXNlIFVybFR5cGUuUmVsYXRpdmVQYXRoOiB7XG4gICAgICAvLyBUaGUgZmlyc3QgY2hhciBpcyBhbHdheXMgYSBcIi9cIiwgYW5kIHdlIG5lZWQgaXQgdG8gYmUgcmVsYXRpdmUuXG4gICAgICBjb25zdCBwYXRoID0gdXJsLnBhdGguc2xpY2UoMSk7XG5cbiAgICAgIGlmICghcGF0aCkgcmV0dXJuIHF1ZXJ5SGFzaCB8fCAnLic7XG5cbiAgICAgIGlmIChpc1JlbGF0aXZlKGJhc2UgfHwgaW5wdXQpICYmICFpc1JlbGF0aXZlKHBhdGgpKSB7XG4gICAgICAgIC8vIElmIGJhc2Ugc3RhcnRlZCB3aXRoIGEgbGVhZGluZyBcIi5cIiwgb3IgdGhlcmUgaXMgbm8gYmFzZSBhbmQgaW5wdXQgc3RhcnRlZCB3aXRoIGEgXCIuXCIsXG4gICAgICAgIC8vIHRoZW4gd2UgbmVlZCB0byBlbnN1cmUgdGhhdCB0aGUgcmVsYXRpdmUgcGF0aCBzdGFydHMgd2l0aCBhIFwiLlwiLiBXZSBkb24ndCBrbm93IGlmXG4gICAgICAgIC8vIHJlbGF0aXZlIHN0YXJ0cyB3aXRoIGEgXCIuLlwiLCB0aG91Z2gsIHNvIGNoZWNrIGJlZm9yZSBwcmVwZW5kaW5nLlxuICAgICAgICByZXR1cm4gJy4vJyArIHBhdGggKyBxdWVyeUhhc2g7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXRoICsgcXVlcnlIYXNoO1xuICAgIH1cblxuICAgIGNhc2UgVXJsVHlwZS5BYnNvbHV0ZVBhdGg6XG4gICAgICByZXR1cm4gdXJsLnBhdGggKyBxdWVyeUhhc2g7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVybC5zY2hlbWUgKyAnLy8nICsgdXJsLnVzZXIgKyB1cmwuaG9zdCArIHVybC5wb3J0ICsgdXJsLnBhdGggKyBxdWVyeUhhc2g7XG4gIH1cbn1cbiIsICIvLyAncGF0aCcgbW9kdWxlIGV4dHJhY3RlZCBmcm9tIE5vZGUuanMgdjguMTEuMSAob25seSB0aGUgcG9zaXggcGFydClcbi8vIHRyYW5zcGxpdGVkIHdpdGggQmFiZWxcblxuLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gYXNzZXJ0UGF0aChwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXRoIG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkICcgKyBKU09OLnN0cmluZ2lmeShwYXRoKSk7XG4gIH1cbn1cblxuLy8gUmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIHdpdGggZGlyZWN0b3J5IG5hbWVzXG5mdW5jdGlvbiBub3JtYWxpemVTdHJpbmdQb3NpeChwYXRoLCBhbGxvd0Fib3ZlUm9vdCkge1xuICB2YXIgcmVzID0gJyc7XG4gIHZhciBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gIHZhciBsYXN0U2xhc2ggPSAtMTtcbiAgdmFyIGRvdHMgPSAwO1xuICB2YXIgY29kZTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gcGF0aC5sZW5ndGg7ICsraSkge1xuICAgIGlmIChpIDwgcGF0aC5sZW5ndGgpXG4gICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgIGVsc2UgaWYgKGNvZGUgPT09IDQ3IC8qLyovKVxuICAgICAgYnJlYWs7XG4gICAgZWxzZVxuICAgICAgY29kZSA9IDQ3IC8qLyovO1xuICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgaWYgKGxhc3RTbGFzaCA9PT0gaSAtIDEgfHwgZG90cyA9PT0gMSkge1xuICAgICAgICAvLyBOT09QXG4gICAgICB9IGVsc2UgaWYgKGxhc3RTbGFzaCAhPT0gaSAtIDEgJiYgZG90cyA9PT0gMikge1xuICAgICAgICBpZiAocmVzLmxlbmd0aCA8IDIgfHwgbGFzdFNlZ21lbnRMZW5ndGggIT09IDIgfHwgcmVzLmNoYXJDb2RlQXQocmVzLmxlbmd0aCAtIDEpICE9PSA0NiAvKi4qLyB8fCByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMikgIT09IDQ2IC8qLiovKSB7XG4gICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICB2YXIgbGFzdFNsYXNoSW5kZXggPSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCAhPT0gcmVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMgPSByZXMuc2xpY2UoMCwgbGFzdFNsYXNoSW5kZXgpO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gcmVzLmxlbmd0aCAtIDEgLSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChyZXMubGVuZ3RoID09PSAyIHx8IHJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHJlcyArPSAnLy4uJztcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXMgPSAnLi4nO1xuICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKVxuICAgICAgICAgIHJlcyArPSAnLycgKyBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmVzID0gcGF0aC5zbGljZShsYXN0U2xhc2ggKyAxLCBpKTtcbiAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSBpIC0gbGFzdFNsYXNoIC0gMTtcbiAgICAgIH1cbiAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICBkb3RzID0gMDtcbiAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDQ2IC8qLiovICYmIGRvdHMgIT09IC0xKSB7XG4gICAgICArK2RvdHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvdHMgPSAtMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gX2Zvcm1hdChzZXAsIHBhdGhPYmplY3QpIHtcbiAgdmFyIGRpciA9IHBhdGhPYmplY3QuZGlyIHx8IHBhdGhPYmplY3Qucm9vdDtcbiAgdmFyIGJhc2UgPSBwYXRoT2JqZWN0LmJhc2UgfHwgKHBhdGhPYmplY3QubmFtZSB8fCAnJykgKyAocGF0aE9iamVjdC5leHQgfHwgJycpO1xuICBpZiAoIWRpcikge1xuICAgIHJldHVybiBiYXNlO1xuICB9XG4gIGlmIChkaXIgPT09IHBhdGhPYmplY3Qucm9vdCkge1xuICAgIHJldHVybiBkaXIgKyBiYXNlO1xuICB9XG4gIHJldHVybiBkaXIgKyBzZXAgKyBiYXNlO1xufVxuXG52YXIgcG9zaXggPSB7XG4gIC8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgICB2YXIgcmVzb2x2ZWRQYXRoID0gJyc7XG4gICAgdmFyIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcbiAgICB2YXIgY3dkO1xuXG4gICAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICAgIHZhciBwYXRoO1xuICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgcGF0aCA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoY3dkID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgY3dkID0gcHJvY2Vzcy5jd2QoKTtcbiAgICAgICAgcGF0aCA9IGN3ZDtcbiAgICAgIH1cblxuICAgICAgYXNzZXJ0UGF0aChwYXRoKTtcblxuICAgICAgLy8gU2tpcCBlbXB0eSBlbnRyaWVzXG4gICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKi8qLztcbiAgICB9XG5cbiAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gICAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVTdHJpbmdQb3NpeChyZXNvbHZlZFBhdGgsICFyZXNvbHZlZEFic29sdXRlKTtcblxuICAgIGlmIChyZXNvbHZlZEFic29sdXRlKSB7XG4gICAgICBpZiAocmVzb2x2ZWRQYXRoLmxlbmd0aCA+IDApXG4gICAgICAgIHJldHVybiAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgfSBlbHNlIGlmIChyZXNvbHZlZFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVkUGF0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcuJztcbiAgICB9XG4gIH0sXG5cbiAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUocGF0aCkge1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG5cbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHJldHVybiAnLic7XG5cbiAgICB2YXIgaXNBYnNvbHV0ZSA9IHBhdGguY2hhckNvZGVBdCgwKSA9PT0gNDcgLyovKi87XG4gICAgdmFyIHRyYWlsaW5nU2VwYXJhdG9yID0gcGF0aC5jaGFyQ29kZUF0KHBhdGgubGVuZ3RoIC0gMSkgPT09IDQ3IC8qLyovO1xuXG4gICAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gICAgcGF0aCA9IG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgsICFpc0Fic29sdXRlKTtcblxuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCAmJiAhaXNBYnNvbHV0ZSkgcGF0aCA9ICcuJztcbiAgICBpZiAocGF0aC5sZW5ndGggPiAwICYmIHRyYWlsaW5nU2VwYXJhdG9yKSBwYXRoICs9ICcvJztcblxuICAgIGlmIChpc0Fic29sdXRlKSByZXR1cm4gJy8nICsgcGF0aDtcbiAgICByZXR1cm4gcGF0aDtcbiAgfSxcblxuICBpc0Fic29sdXRlOiBmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgIHJldHVybiBwYXRoLmxlbmd0aCA+IDAgJiYgcGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKi8qLztcbiAgfSxcblxuICBqb2luOiBmdW5jdGlvbiBqb2luKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuICcuJztcbiAgICB2YXIgam9pbmVkO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgYXNzZXJ0UGF0aChhcmcpO1xuICAgICAgaWYgKGFyZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChqb2luZWQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICBqb2luZWQgPSBhcmc7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBqb2luZWQgKz0gJy8nICsgYXJnO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoam9pbmVkID09PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gJy4nO1xuICAgIHJldHVybiBwb3NpeC5ub3JtYWxpemUoam9pbmVkKTtcbiAgfSxcblxuICByZWxhdGl2ZTogZnVuY3Rpb24gcmVsYXRpdmUoZnJvbSwgdG8pIHtcbiAgICBhc3NlcnRQYXRoKGZyb20pO1xuICAgIGFzc2VydFBhdGgodG8pO1xuXG4gICAgaWYgKGZyb20gPT09IHRvKSByZXR1cm4gJyc7XG5cbiAgICBmcm9tID0gcG9zaXgucmVzb2x2ZShmcm9tKTtcbiAgICB0byA9IHBvc2l4LnJlc29sdmUodG8pO1xuXG4gICAgaWYgKGZyb20gPT09IHRvKSByZXR1cm4gJyc7XG5cbiAgICAvLyBUcmltIGFueSBsZWFkaW5nIGJhY2tzbGFzaGVzXG4gICAgdmFyIGZyb21TdGFydCA9IDE7XG4gICAgZm9yICg7IGZyb21TdGFydCA8IGZyb20ubGVuZ3RoOyArK2Zyb21TdGFydCkge1xuICAgICAgaWYgKGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQpICE9PSA0NyAvKi8qLylcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciBmcm9tRW5kID0gZnJvbS5sZW5ndGg7XG4gICAgdmFyIGZyb21MZW4gPSBmcm9tRW5kIC0gZnJvbVN0YXJ0O1xuXG4gICAgLy8gVHJpbSBhbnkgbGVhZGluZyBiYWNrc2xhc2hlc1xuICAgIHZhciB0b1N0YXJ0ID0gMTtcbiAgICBmb3IgKDsgdG9TdGFydCA8IHRvLmxlbmd0aDsgKyt0b1N0YXJ0KSB7XG4gICAgICBpZiAodG8uY2hhckNvZGVBdCh0b1N0YXJ0KSAhPT0gNDcgLyovKi8pXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgdG9FbmQgPSB0by5sZW5ndGg7XG4gICAgdmFyIHRvTGVuID0gdG9FbmQgLSB0b1N0YXJ0O1xuXG4gICAgLy8gQ29tcGFyZSBwYXRocyB0byBmaW5kIHRoZSBsb25nZXN0IGNvbW1vbiBwYXRoIGZyb20gcm9vdFxuICAgIHZhciBsZW5ndGggPSBmcm9tTGVuIDwgdG9MZW4gPyBmcm9tTGVuIDogdG9MZW47XG4gICAgdmFyIGxhc3RDb21tb25TZXAgPSAtMTtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICg7IGkgPD0gbGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmIChpID09PSBsZW5ndGgpIHtcbiAgICAgICAgaWYgKHRvTGVuID4gbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRvLmNoYXJDb2RlQXQodG9TdGFydCArIGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYGZyb21gIGlzIHRoZSBleGFjdCBiYXNlIHBhdGggZm9yIGB0b2AuXG4gICAgICAgICAgICAvLyBGb3IgZXhhbXBsZTogZnJvbT0nL2Zvby9iYXInOyB0bz0nL2Zvby9iYXIvYmF6J1xuICAgICAgICAgICAgcmV0dXJuIHRvLnNsaWNlKHRvU3RhcnQgKyBpICsgMSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgZnJvbWAgaXMgdGhlIHJvb3RcbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvJzsgdG89Jy9mb28nXG4gICAgICAgICAgICByZXR1cm4gdG8uc2xpY2UodG9TdGFydCArIGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChmcm9tTGVuID4gbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQgKyBpKSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgICAgIC8vIFdlIGdldCBoZXJlIGlmIGB0b2AgaXMgdGhlIGV4YWN0IGJhc2UgcGF0aCBmb3IgYGZyb21gLlxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209Jy9mb28vYmFyL2Jheic7IHRvPScvZm9vL2JhcidcbiAgICAgICAgICAgIGxhc3RDb21tb25TZXAgPSBpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYHRvYCBpcyB0aGUgcm9vdC5cbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvZm9vJzsgdG89Jy8nXG4gICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2YXIgZnJvbUNvZGUgPSBmcm9tLmNoYXJDb2RlQXQoZnJvbVN0YXJ0ICsgaSk7XG4gICAgICB2YXIgdG9Db2RlID0gdG8uY2hhckNvZGVBdCh0b1N0YXJ0ICsgaSk7XG4gICAgICBpZiAoZnJvbUNvZGUgIT09IHRvQ29kZSlcbiAgICAgICAgYnJlYWs7XG4gICAgICBlbHNlIGlmIChmcm9tQ29kZSA9PT0gNDcgLyovKi8pXG4gICAgICAgIGxhc3RDb21tb25TZXAgPSBpO1xuICAgIH1cblxuICAgIHZhciBvdXQgPSAnJztcbiAgICAvLyBHZW5lcmF0ZSB0aGUgcmVsYXRpdmUgcGF0aCBiYXNlZCBvbiB0aGUgcGF0aCBkaWZmZXJlbmNlIGJldHdlZW4gYHRvYFxuICAgIC8vIGFuZCBgZnJvbWBcbiAgICBmb3IgKGkgPSBmcm9tU3RhcnQgKyBsYXN0Q29tbW9uU2VwICsgMTsgaSA8PSBmcm9tRW5kOyArK2kpIHtcbiAgICAgIGlmIChpID09PSBmcm9tRW5kIHx8IGZyb20uY2hhckNvZGVBdChpKSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgaWYgKG91dC5sZW5ndGggPT09IDApXG4gICAgICAgICAgb3V0ICs9ICcuLic7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBvdXQgKz0gJy8uLic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTGFzdGx5LCBhcHBlbmQgdGhlIHJlc3Qgb2YgdGhlIGRlc3RpbmF0aW9uIChgdG9gKSBwYXRoIHRoYXQgY29tZXMgYWZ0ZXJcbiAgICAvLyB0aGUgY29tbW9uIHBhdGggcGFydHNcbiAgICBpZiAob3V0Lmxlbmd0aCA+IDApXG4gICAgICByZXR1cm4gb3V0ICsgdG8uc2xpY2UodG9TdGFydCArIGxhc3RDb21tb25TZXApO1xuICAgIGVsc2Uge1xuICAgICAgdG9TdGFydCArPSBsYXN0Q29tbW9uU2VwO1xuICAgICAgaWYgKHRvLmNoYXJDb2RlQXQodG9TdGFydCkgPT09IDQ3IC8qLyovKVxuICAgICAgICArK3RvU3RhcnQ7XG4gICAgICByZXR1cm4gdG8uc2xpY2UodG9TdGFydCk7XG4gICAgfVxuICB9LFxuXG4gIF9tYWtlTG9uZzogZnVuY3Rpb24gX21ha2VMb25nKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aDtcbiAgfSxcblxuICBkaXJuYW1lOiBmdW5jdGlvbiBkaXJuYW1lKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcuJztcbiAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcbiAgICB2YXIgaGFzUm9vdCA9IGNvZGUgPT09IDQ3IC8qLyovO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDE7IC0taSkge1xuICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvclxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZW5kID09PSAtMSkgcmV0dXJuIGhhc1Jvb3QgPyAnLycgOiAnLic7XG4gICAgaWYgKGhhc1Jvb3QgJiYgZW5kID09PSAxKSByZXR1cm4gJy8vJztcbiAgICByZXR1cm4gcGF0aC5zbGljZSgwLCBlbmQpO1xuICB9LFxuXG4gIGJhc2VuYW1lOiBmdW5jdGlvbiBiYXNlbmFtZShwYXRoLCBleHQpIHtcbiAgICBpZiAoZXh0ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGV4dCAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZXh0XCIgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG5cbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICB2YXIgaTtcblxuICAgIGlmIChleHQgIT09IHVuZGVmaW5lZCAmJiBleHQubGVuZ3RoID4gMCAmJiBleHQubGVuZ3RoIDw9IHBhdGgubGVuZ3RoKSB7XG4gICAgICBpZiAoZXh0Lmxlbmd0aCA9PT0gcGF0aC5sZW5ndGggJiYgZXh0ID09PSBwYXRoKSByZXR1cm4gJyc7XG4gICAgICB2YXIgZXh0SWR4ID0gZXh0Lmxlbmd0aCAtIDE7XG4gICAgICB2YXIgZmlyc3ROb25TbGFzaEVuZCA9IC0xO1xuICAgICAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSByZWFjaGVkIGEgcGF0aCBzZXBhcmF0b3IgdGhhdCB3YXMgbm90IHBhcnQgb2YgYSBzZXQgb2YgcGF0aFxuICAgICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChmaXJzdE5vblNsYXNoRW5kID09PSAtMSkge1xuICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIHJlbWVtYmVyIHRoaXMgaW5kZXggaW4gY2FzZVxuICAgICAgICAgICAgLy8gd2UgbmVlZCBpdCBpZiB0aGUgZXh0ZW5zaW9uIGVuZHMgdXAgbm90IG1hdGNoaW5nXG4gICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgICAgIGZpcnN0Tm9uU2xhc2hFbmQgPSBpICsgMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV4dElkeCA+PSAwKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gbWF0Y2ggdGhlIGV4cGxpY2l0IGV4dGVuc2lvblxuICAgICAgICAgICAgaWYgKGNvZGUgPT09IGV4dC5jaGFyQ29kZUF0KGV4dElkeCkpIHtcbiAgICAgICAgICAgICAgaWYgKC0tZXh0SWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIGV4dGVuc2lvbiwgc28gbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyIHBhdGhcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnRcbiAgICAgICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBFeHRlbnNpb24gZG9lcyBub3QgbWF0Y2gsIHNvIG91ciByZXN1bHQgaXMgdGhlIGVudGlyZSBwYXRoXG4gICAgICAgICAgICAgIC8vIGNvbXBvbmVudFxuICAgICAgICAgICAgICBleHRJZHggPSAtMTtcbiAgICAgICAgICAgICAgZW5kID0gZmlyc3ROb25TbGFzaEVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpIGVuZCA9IGZpcnN0Tm9uU2xhc2hFbmQ7ZWxzZSBpZiAoZW5kID09PSAtMSkgZW5kID0gcGF0aC5sZW5ndGg7XG4gICAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydCwgZW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBpZiAocGF0aC5jaGFyQ29kZUF0KGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xuICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91clxuICAgICAgICAgIC8vIHBhdGggY29tcG9uZW50XG4gICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVuZCA9PT0gLTEpIHJldHVybiAnJztcbiAgICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgfSxcblxuICBleHRuYW1lOiBmdW5jdGlvbiBleHRuYW1lKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgIHZhciBzdGFydERvdCA9IC0xO1xuICAgIHZhciBzdGFydFBhcnQgPSAwO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgY2hhcmFjdGVycyAoaWYgYW55KSB3ZSBzZWUgYmVmb3JlIG91ciBmaXJzdCBkb3QgYW5kXG4gICAgLy8gYWZ0ZXIgYW55IHBhdGggc2VwYXJhdG9yIHdlIGZpbmRcbiAgICB2YXIgcHJlRG90U3RhdGUgPSAwO1xuICAgIGZvciAodmFyIGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgIC8vIGV4dGVuc2lvblxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICB9XG4gICAgICBpZiAoY29kZSA9PT0gNDYgLyouKi8pIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKVxuICAgICAgICAgICAgc3RhcnREb3QgPSBpO1xuICAgICAgICAgIGVsc2UgaWYgKHByZURvdFN0YXRlICE9PSAxKVxuICAgICAgICAgICAgcHJlRG90U3RhdGUgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcbiAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgICAgLy8gaGF2ZSBhIGdvb2QgY2hhbmNlIGF0IGhhdmluZyBhIG5vbi1lbXB0eSBleHRlbnNpb25cbiAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhcnREb3QgPT09IC0xIHx8IGVuZCA9PT0gLTEgfHxcbiAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBjaGFyYWN0ZXIgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBkb3RcbiAgICAgICAgcHJlRG90U3RhdGUgPT09IDAgfHxcbiAgICAgICAgLy8gVGhlIChyaWdodC1tb3N0KSB0cmltbWVkIHBhdGggY29tcG9uZW50IGlzIGV4YWN0bHkgJy4uJ1xuICAgICAgICBwcmVEb3RTdGF0ZSA9PT0gMSAmJiBzdGFydERvdCA9PT0gZW5kIC0gMSAmJiBzdGFydERvdCA9PT0gc3RhcnRQYXJ0ICsgMSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydERvdCwgZW5kKTtcbiAgfSxcblxuICBmb3JtYXQ6IGZ1bmN0aW9uIGZvcm1hdChwYXRoT2JqZWN0KSB7XG4gICAgaWYgKHBhdGhPYmplY3QgPT09IG51bGwgfHwgdHlwZW9mIHBhdGhPYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJwYXRoT2JqZWN0XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIHBhdGhPYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gX2Zvcm1hdCgnLycsIHBhdGhPYmplY3QpO1xuICB9LFxuXG4gIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShwYXRoKSB7XG4gICAgYXNzZXJ0UGF0aChwYXRoKTtcblxuICAgIHZhciByZXQgPSB7IHJvb3Q6ICcnLCBkaXI6ICcnLCBiYXNlOiAnJywgZXh0OiAnJywgbmFtZTogJycgfTtcbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHJldHVybiByZXQ7XG4gICAgdmFyIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoMCk7XG4gICAgdmFyIGlzQWJzb2x1dGUgPSBjb2RlID09PSA0NyAvKi8qLztcbiAgICB2YXIgc3RhcnQ7XG4gICAgaWYgKGlzQWJzb2x1dGUpIHtcbiAgICAgIHJldC5yb290ID0gJy8nO1xuICAgICAgc3RhcnQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHZhciBzdGFydERvdCA9IC0xO1xuICAgIHZhciBzdGFydFBhcnQgPSAwO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICB2YXIgaSA9IHBhdGgubGVuZ3RoIC0gMTtcblxuICAgIC8vIFRyYWNrIHRoZSBzdGF0ZSBvZiBjaGFyYWN0ZXJzIChpZiBhbnkpIHdlIHNlZSBiZWZvcmUgb3VyIGZpcnN0IGRvdCBhbmRcbiAgICAvLyBhZnRlciBhbnkgcGF0aCBzZXBhcmF0b3Igd2UgZmluZFxuICAgIHZhciBwcmVEb3RTdGF0ZSA9IDA7XG5cbiAgICAvLyBHZXQgbm9uLWRpciBpbmZvXG4gICAgZm9yICg7IGkgPj0gc3RhcnQ7IC0taSkge1xuICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgIC8vIGV4dGVuc2lvblxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICB9XG4gICAgICBpZiAoY29kZSA9PT0gNDYgLyouKi8pIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKSBzdGFydERvdCA9IGk7ZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpIHByZURvdFN0YXRlID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcbiAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgICAgLy8gaGF2ZSBhIGdvb2QgY2hhbmNlIGF0IGhhdmluZyBhIG5vbi1lbXB0eSBleHRlbnNpb25cbiAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhcnREb3QgPT09IC0xIHx8IGVuZCA9PT0gLTEgfHxcbiAgICAvLyBXZSBzYXcgYSBub24tZG90IGNoYXJhY3RlciBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGRvdFxuICAgIHByZURvdFN0YXRlID09PSAwIHx8XG4gICAgLy8gVGhlIChyaWdodC1tb3N0KSB0cmltbWVkIHBhdGggY29tcG9uZW50IGlzIGV4YWN0bHkgJy4uJ1xuICAgIHByZURvdFN0YXRlID09PSAxICYmIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSB7XG4gICAgICBpZiAoZW5kICE9PSAtMSkge1xuICAgICAgICBpZiAoc3RhcnRQYXJ0ID09PSAwICYmIGlzQWJzb2x1dGUpIHJldC5iYXNlID0gcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKDEsIGVuZCk7ZWxzZSByZXQuYmFzZSA9IHJldC5uYW1lID0gcGF0aC5zbGljZShzdGFydFBhcnQsIGVuZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGFydFBhcnQgPT09IDAgJiYgaXNBYnNvbHV0ZSkge1xuICAgICAgICByZXQubmFtZSA9IHBhdGguc2xpY2UoMSwgc3RhcnREb3QpO1xuICAgICAgICByZXQuYmFzZSA9IHBhdGguc2xpY2UoMSwgZW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldC5uYW1lID0gcGF0aC5zbGljZShzdGFydFBhcnQsIHN0YXJ0RG90KTtcbiAgICAgICAgcmV0LmJhc2UgPSBwYXRoLnNsaWNlKHN0YXJ0UGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldC5leHQgPSBwYXRoLnNsaWNlKHN0YXJ0RG90LCBlbmQpO1xuICAgIH1cblxuICAgIGlmIChzdGFydFBhcnQgPiAwKSByZXQuZGlyID0gcGF0aC5zbGljZSgwLCBzdGFydFBhcnQgLSAxKTtlbHNlIGlmIChpc0Fic29sdXRlKSByZXQuZGlyID0gJy8nO1xuXG4gICAgcmV0dXJuIHJldDtcbiAgfSxcblxuICBzZXA6ICcvJyxcbiAgZGVsaW1pdGVyOiAnOicsXG4gIHdpbjMyOiBudWxsLFxuICBwb3NpeDogbnVsbFxufTtcblxucG9zaXgucG9zaXggPSBwb3NpeDtcblxubW9kdWxlLmV4cG9ydHMgPSBwb3NpeDtcbiIsICIvKiogTm9ybWFsIGh5ZHJhdGlvbiB0aGF0IGF0dGFjaGVzIHRvIGEgRE9NIHRyZWUgYnV0IGRvZXMgbm90IGRpZmYgaXQuICovXG5leHBvcnQgY29uc3QgTU9ERV9IWURSQVRFID0gMSA8PCA1O1xuLyoqIFNpZ25pZmllcyB0aGlzIFZOb2RlIHN1c3BlbmRlZCBvbiB0aGUgcHJldmlvdXMgcmVuZGVyICovXG5leHBvcnQgY29uc3QgTU9ERV9TVVNQRU5ERUQgPSAxIDw8IDc7XG4vKiogSW5kaWNhdGVzIHRoYXQgdGhpcyBub2RlIG5lZWRzIHRvIGJlIGluc2VydGVkIHdoaWxlIHBhdGNoaW5nIGNoaWxkcmVuICovXG5leHBvcnQgY29uc3QgSU5TRVJUX1ZOT0RFID0gMSA8PCAyO1xuLyoqIEluZGljYXRlcyBhIFZOb2RlIGhhcyBiZWVuIG1hdGNoZWQgd2l0aCBhbm90aGVyIFZOb2RlIGluIHRoZSBkaWZmICovXG5leHBvcnQgY29uc3QgTUFUQ0hFRCA9IDEgPDwgMTtcblxuLyoqIFJlc2V0IGFsbCBtb2RlIGZsYWdzICovXG5leHBvcnQgY29uc3QgUkVTRVRfTU9ERSA9IH4oTU9ERV9IWURSQVRFIHwgTU9ERV9TVVNQRU5ERUQpO1xuXG5leHBvcnQgY29uc3QgU1ZHX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5leHBvcnQgY29uc3QgWEhUTUxfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnO1xuZXhwb3J0IGNvbnN0IE1BVEhfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnO1xuXG5leHBvcnQgY29uc3QgTlVMTCA9IG51bGw7XG5leHBvcnQgY29uc3QgVU5ERUZJTkVEID0gdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IEVNUFRZX09CSiA9IC8qKiBAdHlwZSB7YW55fSAqLyAoe30pO1xuZXhwb3J0IGNvbnN0IEVNUFRZX0FSUiA9IFtdO1xuZXhwb3J0IGNvbnN0IElTX05PTl9ESU1FTlNJT05BTCA9XG5cdC9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8Z3JpZHxvd3N8bW5jfG50d3xpbmVbY2hdfHpvb3xeb3JkfGl0ZXJhL2k7XG4iLCAiaW1wb3J0IHsgRU1QVFlfQVJSIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5leHBvcnQgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQXNzaWduIHByb3BlcnRpZXMgZnJvbSBgcHJvcHNgIHRvIGBvYmpgXG4gKiBAdGVtcGxhdGUgTywgUCBUaGUgb2JqIGFuZCBwcm9wcyB0eXBlc1xuICogQHBhcmFtIHtPfSBvYmogVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG9cbiAqIEBwYXJhbSB7UH0gcHJvcHMgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHJldHVybnMge08gJiBQfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKG9iaiwgcHJvcHMpIHtcblx0Ly8gQHRzLWV4cGVjdC1lcnJvciBXZSBjaGFuZ2UgdGhlIHR5cGUgb2YgYG9iamAgdG8gYmUgYE8gJiBQYFxuXHRmb3IgKGxldCBpIGluIHByb3BzKSBvYmpbaV0gPSBwcm9wc1tpXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7TyAmIFB9ICovIChvYmopO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhIGNoaWxkIG5vZGUgZnJvbSBpdHMgcGFyZW50IGlmIGF0dGFjaGVkLiBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3JcbiAqIElFMTEgd2hpY2ggZG9lc24ndCBzdXBwb3J0IGBFbGVtZW50LnByb3RvdHlwZS5yZW1vdmUoKWAuIFVzaW5nIHRoaXMgZnVuY3Rpb25cbiAqIGlzIHNtYWxsZXIgdGhhbiBpbmNsdWRpbmcgYSBkZWRpY2F0ZWQgcG9seWZpbGwuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbmRleCcpLkNvbnRhaW5lck5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcblx0aWYgKG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlKSBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG59XG5cbmV4cG9ydCBjb25zdCBzbGljZSA9IEVNUFRZX0FSUi5zbGljZTtcbiIsICJpbXBvcnQgeyBfY2F0Y2hFcnJvciB9IGZyb20gJy4vZGlmZi9jYXRjaC1lcnJvcic7XG5cbi8qKlxuICogVGhlIGBvcHRpb25gIG9iamVjdCBjYW4gcG90ZW50aWFsbHkgY29udGFpbiBjYWxsYmFjayBmdW5jdGlvbnNcbiAqIHRoYXQgYXJlIGNhbGxlZCBkdXJpbmcgdmFyaW91cyBzdGFnZXMgb2Ygb3VyIHJlbmRlcmVyLiBUaGlzIGlzIHRoZVxuICogZm91bmRhdGlvbiBvbiB3aGljaCBhbGwgb3VyIGFkZG9ucyBsaWtlIGBwcmVhY3QvZGVidWdgLCBgcHJlYWN0L2NvbXBhdGAsXG4gKiBhbmQgYHByZWFjdC9ob29rc2AgYXJlIGJhc2VkIG9uLiBTZWUgdGhlIGBPcHRpb25zYCB0eXBlIGluIGBpbnRlcm5hbC5kLnRzYFxuICogZm9yIGEgZnVsbCBsaXN0IG9mIGF2YWlsYWJsZSBvcHRpb24gaG9va3MgKG1vc3QgZWRpdG9ycy9JREVzIGFsbG93IHlvdSB0b1xuICogY3RybCtjbGljayBvciBjbWQrY2xpY2sgb24gbWFjIHRoZSB0eXBlIGRlZmluaXRpb24gYmVsb3cpLlxuICogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLk9wdGlvbnN9XG4gKi9cbmNvbnN0IG9wdGlvbnMgPSB7XG5cdF9jYXRjaEVycm9yXG59O1xuXG5leHBvcnQgZGVmYXVsdCBvcHRpb25zO1xuIiwgImltcG9ydCB7IHNsaWNlIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBOVUxMLCBVTkRFRklORUQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmxldCB2bm9kZUlkID0gMDtcblxuLyoqXG4gKiBDcmVhdGUgYW4gdmlydHVhbCBub2RlICh1c2VkIGZvciBKU1gpXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlW1widHlwZVwiXX0gdHlwZSBUaGUgbm9kZSBuYW1lIG9yIENvbXBvbmVudCBjb25zdHJ1Y3RvciBmb3IgdGhpc1xuICogdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge29iamVjdCB8IG51bGwgfCB1bmRlZmluZWR9IFtwcm9wc10gVGhlIHByb3BlcnRpZXMgb2YgdGhlIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4nKS5Db21wb25lbnRDaGlsZHJlbj59IFtjaGlsZHJlbl0gVGhlIGNoaWxkcmVuIG9mIHRoZVxuICogdmlydHVhbCBub2RlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xuXHRsZXQgbm9ybWFsaXplZFByb3BzID0ge30sXG5cdFx0a2V5LFxuXHRcdHJlZixcblx0XHRpO1xuXHRmb3IgKGkgaW4gcHJvcHMpIHtcblx0XHRpZiAoaSA9PSAna2V5Jykga2V5ID0gcHJvcHNbaV07XG5cdFx0ZWxzZSBpZiAoaSA9PSAncmVmJykgcmVmID0gcHJvcHNbaV07XG5cdFx0ZWxzZSBub3JtYWxpemVkUHJvcHNbaV0gPSBwcm9wc1tpXTtcblx0fVxuXG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikge1xuXHRcdG5vcm1hbGl6ZWRQcm9wcy5jaGlsZHJlbiA9XG5cdFx0XHRhcmd1bWVudHMubGVuZ3RoID4gMyA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSA6IGNoaWxkcmVuO1xuXHR9XG5cblx0Ly8gSWYgYSBDb21wb25lbnQgVk5vZGUsIGNoZWNrIGZvciBhbmQgYXBwbHkgZGVmYXVsdFByb3BzXG5cdC8vIE5vdGU6IHR5cGUgbWF5IGJlIHVuZGVmaW5lZCBpbiBkZXZlbG9wbWVudCwgbXVzdCBuZXZlciBlcnJvciBoZXJlLlxuXHRpZiAodHlwZW9mIHR5cGUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlLmRlZmF1bHRQcm9wcyAhPSBOVUxMKSB7XG5cdFx0Zm9yIChpIGluIHR5cGUuZGVmYXVsdFByb3BzKSB7XG5cdFx0XHRpZiAobm9ybWFsaXplZFByb3BzW2ldID09PSBVTkRFRklORUQpIHtcblx0XHRcdFx0bm9ybWFsaXplZFByb3BzW2ldID0gdHlwZS5kZWZhdWx0UHJvcHNbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG5vcm1hbGl6ZWRQcm9wcywga2V5LCByZWYsIE5VTEwpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIFZOb2RlICh1c2VkIGludGVybmFsbHkgYnkgUHJlYWN0KVxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInR5cGVcIl19IHR5cGUgVGhlIG5vZGUgbmFtZSBvciBDb21wb25lbnRcbiAqIENvbnN0cnVjdG9yIGZvciB0aGlzIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3QgfCBzdHJpbmcgfCBudW1iZXIgfCBudWxsfSBwcm9wcyBUaGUgcHJvcGVydGllcyBvZiB0aGlzIHZpcnR1YWwgbm9kZS5cbiAqIElmIHRoaXMgdmlydHVhbCBub2RlIHJlcHJlc2VudHMgYSB0ZXh0IG5vZGUsIHRoaXMgaXMgdGhlIHRleHQgb2YgdGhlIG5vZGUgKHN0cmluZyBvciBudW1iZXIpLlxuICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXIgfCBudWxsfSBrZXkgVGhlIGtleSBmb3IgdGhpcyB2aXJ0dWFsIG5vZGUsIHVzZWQgd2hlblxuICogZGlmZmluZyBpdCBhZ2FpbnN0IGl0cyBjaGlsZHJlblxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInJlZlwiXX0gcmVmIFRoZSByZWYgcHJvcGVydHkgdGhhdCB3aWxsXG4gKiByZWNlaXZlIGEgcmVmZXJlbmNlIHRvIGl0cyBjcmVhdGVkIGNoaWxkXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wcywga2V5LCByZWYsIG9yaWdpbmFsKSB7XG5cdC8vIFY4IHNlZW1zIHRvIGJlIGJldHRlciBhdCBkZXRlY3RpbmcgdHlwZSBzaGFwZXMgaWYgdGhlIG9iamVjdCBpcyBhbGxvY2F0ZWQgZnJvbSB0aGUgc2FtZSBjYWxsIHNpdGVcblx0Ly8gRG8gbm90IGlubGluZSBpbnRvIGNyZWF0ZUVsZW1lbnQgYW5kIGNvZXJjZVRvVk5vZGUhXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9ICovXG5cdGNvbnN0IHZub2RlID0ge1xuXHRcdHR5cGUsXG5cdFx0cHJvcHMsXG5cdFx0a2V5LFxuXHRcdHJlZixcblx0XHRfY2hpbGRyZW46IE5VTEwsXG5cdFx0X3BhcmVudDogTlVMTCxcblx0XHRfZGVwdGg6IDAsXG5cdFx0X2RvbTogTlVMTCxcblx0XHRfY29tcG9uZW50OiBOVUxMLFxuXHRcdGNvbnN0cnVjdG9yOiBVTkRFRklORUQsXG5cdFx0X29yaWdpbmFsOiBvcmlnaW5hbCA9PSBOVUxMID8gKyt2bm9kZUlkIDogb3JpZ2luYWwsXG5cdFx0X2luZGV4OiAtMSxcblx0XHRfZmxhZ3M6IDBcblx0fTtcblxuXHQvLyBPbmx5IGludm9rZSB0aGUgdm5vZGUgaG9vayBpZiB0aGlzIHdhcyAqbm90KiBhIGRpcmVjdCBjb3B5OlxuXHRpZiAob3JpZ2luYWwgPT0gTlVMTCAmJiBvcHRpb25zLnZub2RlICE9IE5VTEwpIG9wdGlvbnMudm5vZGUodm5vZGUpO1xuXG5cdHJldHVybiB2bm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlZigpIHtcblx0cmV0dXJuIHsgY3VycmVudDogTlVMTCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRnJhZ21lbnQocHJvcHMpIHtcblx0cmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgdGhlIGFyZ3VtZW50IGlzIGEgdmFsaWQgUHJlYWN0IFZOb2RlLlxuICogQHBhcmFtIHsqfSB2bm9kZVxuICogQHJldHVybnMge3Zub2RlIGlzIFZOb2RlfVxuICovXG5leHBvcnQgY29uc3QgaXNWYWxpZEVsZW1lbnQgPSB2bm9kZSA9PlxuXHR2bm9kZSAhPSBOVUxMICYmIHZub2RlLmNvbnN0cnVjdG9yID09IFVOREVGSU5FRDtcbiIsICJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgZGlmZiwgY29tbWl0Um9vdCB9IGZyb20gJy4vZGlmZi9pbmRleCc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgRnJhZ21lbnQgfSBmcm9tICcuL2NyZWF0ZS1lbGVtZW50JztcbmltcG9ydCB7IE1PREVfSFlEUkFURSwgTlVMTCB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuLyoqXG4gKiBCYXNlIENvbXBvbmVudCBjbGFzcy4gUHJvdmlkZXMgYHNldFN0YXRlKClgIGFuZCBgZm9yY2VVcGRhdGUoKWAsIHdoaWNoXG4gKiB0cmlnZ2VyIHJlbmRlcmluZ1xuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIFRoZSBpbml0aWFsIGNvbXBvbmVudCBwcm9wc1xuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgVGhlIGluaXRpYWwgY29udGV4dCBmcm9tIHBhcmVudCBjb21wb25lbnRzJ1xuICogZ2V0Q2hpbGRDb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCYXNlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KSB7XG5cdHRoaXMucHJvcHMgPSBwcm9wcztcblx0dGhpcy5jb250ZXh0ID0gY29udGV4dDtcbn1cblxuLyoqXG4gKiBVcGRhdGUgY29tcG9uZW50IHN0YXRlIGFuZCBzY2hlZHVsZSBhIHJlLXJlbmRlci5cbiAqIEB0aGlzIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9XG4gKiBAcGFyYW0ge29iamVjdCB8ICgoczogb2JqZWN0LCBwOiBvYmplY3QpID0+IG9iamVjdCl9IHVwZGF0ZSBBIGhhc2ggb2Ygc3RhdGVcbiAqIHByb3BlcnRpZXMgdG8gdXBkYXRlIHdpdGggbmV3IHZhbHVlcyBvciBhIGZ1bmN0aW9uIHRoYXQgZ2l2ZW4gdGhlIGN1cnJlbnRcbiAqIHN0YXRlIGFuZCBwcm9wcyByZXR1cm5zIGEgbmV3IHBhcnRpYWwgc3RhdGVcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbmNlIGNvbXBvbmVudCBzdGF0ZSBpc1xuICogdXBkYXRlZFxuICovXG5CYXNlQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uICh1cGRhdGUsIGNhbGxiYWNrKSB7XG5cdC8vIG9ubHkgY2xvbmUgc3RhdGUgd2hlbiBjb3B5aW5nIHRvIG5leHRTdGF0ZSB0aGUgZmlyc3QgdGltZS5cblx0bGV0IHM7XG5cdGlmICh0aGlzLl9uZXh0U3RhdGUgIT0gTlVMTCAmJiB0aGlzLl9uZXh0U3RhdGUgIT0gdGhpcy5zdGF0ZSkge1xuXHRcdHMgPSB0aGlzLl9uZXh0U3RhdGU7XG5cdH0gZWxzZSB7XG5cdFx0cyA9IHRoaXMuX25leHRTdGF0ZSA9IGFzc2lnbih7fSwgdGhpcy5zdGF0ZSk7XG5cdH1cblxuXHRpZiAodHlwZW9mIHVwZGF0ZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0Ly8gU29tZSBsaWJyYXJpZXMgbGlrZSBgaW1tZXJgIG1hcmsgdGhlIGN1cnJlbnQgc3RhdGUgYXMgcmVhZG9ubHksXG5cdFx0Ly8gcHJldmVudGluZyB1cyBmcm9tIG11dGF0aW5nIGl0LCBzbyB3ZSBuZWVkIHRvIGNsb25lIGl0LiBTZWUgIzI3MTZcblx0XHR1cGRhdGUgPSB1cGRhdGUoYXNzaWduKHt9LCBzKSwgdGhpcy5wcm9wcyk7XG5cdH1cblxuXHRpZiAodXBkYXRlKSB7XG5cdFx0YXNzaWduKHMsIHVwZGF0ZSk7XG5cdH1cblxuXHQvLyBTa2lwIHVwZGF0ZSBpZiB1cGRhdGVyIGZ1bmN0aW9uIHJldHVybmVkIG51bGxcblx0aWYgKHVwZGF0ZSA9PSBOVUxMKSByZXR1cm47XG5cblx0aWYgKHRoaXMuX3Zub2RlKSB7XG5cdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHR0aGlzLl9zdGF0ZUNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHR9XG5cdFx0ZW5xdWV1ZVJlbmRlcih0aGlzKTtcblx0fVxufTtcblxuLyoqXG4gKiBJbW1lZGlhdGVseSBwZXJmb3JtIGEgc3luY2hyb25vdXMgcmUtcmVuZGVyIG9mIHRoZSBjb21wb25lbnRcbiAqIEB0aGlzIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9XG4gKiBAcGFyYW0geygpID0+IHZvaWR9IFtjYWxsYmFja10gQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgYWZ0ZXIgY29tcG9uZW50IGlzXG4gKiByZS1yZW5kZXJlZFxuICovXG5CYXNlQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHRpZiAodGhpcy5fdm5vZGUpIHtcblx0XHQvLyBTZXQgcmVuZGVyIG1vZGUgc28gdGhhdCB3ZSBjYW4gZGlmZmVyZW50aWF0ZSB3aGVyZSB0aGUgcmVuZGVyIHJlcXVlc3Rcblx0XHQvLyBpcyBjb21pbmcgZnJvbS4gV2UgbmVlZCB0aGlzIGJlY2F1c2UgZm9yY2VVcGRhdGUgc2hvdWxkIG5ldmVyIGNhbGxcblx0XHQvLyBzaG91bGRDb21wb25lbnRVcGRhdGVcblx0XHR0aGlzLl9mb3JjZSA9IHRydWU7XG5cdFx0aWYgKGNhbGxiYWNrKSB0aGlzLl9yZW5kZXJDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0ZW5xdWV1ZVJlbmRlcih0aGlzKTtcblx0fVxufTtcblxuLyoqXG4gKiBBY2NlcHRzIGBwcm9wc2AgYW5kIGBzdGF0ZWAsIGFuZCByZXR1cm5zIGEgbmV3IFZpcnR1YWwgRE9NIHRyZWUgdG8gYnVpbGQuXG4gKiBWaXJ0dWFsIERPTSBpcyBnZW5lcmFsbHkgY29uc3RydWN0ZWQgdmlhIFtKU1hdKGh0dHBzOi8vamFzb25mb3JtYXQuY29tL3d0Zi1pcy1qc3gpLlxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIFByb3BzIChlZzogSlNYIGF0dHJpYnV0ZXMpIHJlY2VpdmVkIGZyb20gcGFyZW50XG4gKiBlbGVtZW50L2NvbXBvbmVudFxuICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIFRoZSBjb21wb25lbnQncyBjdXJyZW50IHN0YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBDb250ZXh0IG9iamVjdCwgYXMgcmV0dXJuZWQgYnkgdGhlIG5lYXJlc3RcbiAqIGFuY2VzdG9yJ3MgYGdldENoaWxkQ29udGV4dCgpYFxuICogQHJldHVybnMge0NvbXBvbmVudENoaWxkcmVuIHwgdm9pZH1cbiAqL1xuQmFzZUNvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyID0gRnJhZ21lbnQ7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbH0gW2NoaWxkSW5kZXhdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREb21TaWJsaW5nKHZub2RlLCBjaGlsZEluZGV4KSB7XG5cdGlmIChjaGlsZEluZGV4ID09IE5VTEwpIHtcblx0XHQvLyBVc2UgY2hpbGRJbmRleD09bnVsbCBhcyBhIHNpZ25hbCB0byByZXN1bWUgdGhlIHNlYXJjaCBmcm9tIHRoZSB2bm9kZSdzIHNpYmxpbmdcblx0XHRyZXR1cm4gdm5vZGUuX3BhcmVudFxuXHRcdFx0PyBnZXREb21TaWJsaW5nKHZub2RlLl9wYXJlbnQsIHZub2RlLl9pbmRleCArIDEpXG5cdFx0XHQ6IE5VTEw7XG5cdH1cblxuXHRsZXQgc2libGluZztcblx0Zm9yICg7IGNoaWxkSW5kZXggPCB2bm9kZS5fY2hpbGRyZW4ubGVuZ3RoOyBjaGlsZEluZGV4KyspIHtcblx0XHRzaWJsaW5nID0gdm5vZGUuX2NoaWxkcmVuW2NoaWxkSW5kZXhdO1xuXG5cdFx0aWYgKHNpYmxpbmcgIT0gTlVMTCAmJiBzaWJsaW5nLl9kb20gIT0gTlVMTCkge1xuXHRcdFx0Ly8gU2luY2UgdXBkYXRlUGFyZW50RG9tUG9pbnRlcnMga2VlcHMgX2RvbSBwb2ludGVyIGNvcnJlY3QsXG5cdFx0XHQvLyB3ZSBjYW4gcmVseSBvbiBfZG9tIHRvIHRlbGwgdXMgaWYgdGhpcyBzdWJ0cmVlIGNvbnRhaW5zIGFcblx0XHRcdC8vIHJlbmRlcmVkIERPTSBub2RlLCBhbmQgd2hhdCB0aGUgZmlyc3QgcmVuZGVyZWQgRE9NIG5vZGUgaXNcblx0XHRcdHJldHVybiBzaWJsaW5nLl9kb207XG5cdFx0fVxuXHR9XG5cblx0Ly8gSWYgd2UgZ2V0IGhlcmUsIHdlIGhhdmUgbm90IGZvdW5kIGEgRE9NIG5vZGUgaW4gdGhpcyB2bm9kZSdzIGNoaWxkcmVuLlxuXHQvLyBXZSBtdXN0IHJlc3VtZSBmcm9tIHRoaXMgdm5vZGUncyBzaWJsaW5nIChpbiBpdCdzIHBhcmVudCBfY2hpbGRyZW4gYXJyYXkpXG5cdC8vIE9ubHkgY2xpbWIgdXAgYW5kIHNlYXJjaCB0aGUgcGFyZW50IGlmIHdlIGFyZW4ndCBzZWFyY2hpbmcgdGhyb3VnaCBhIERPTVxuXHQvLyBWTm9kZSAobWVhbmluZyB3ZSByZWFjaGVkIHRoZSBET00gcGFyZW50IG9mIHRoZSBvcmlnaW5hbCB2bm9kZSB0aGF0IGJlZ2FuXG5cdC8vIHRoZSBzZWFyY2gpXG5cdHJldHVybiB0eXBlb2Ygdm5vZGUudHlwZSA9PSAnZnVuY3Rpb24nID8gZ2V0RG9tU2libGluZyh2bm9kZSkgOiBOVUxMO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgaW4tcGxhY2UgcmUtcmVuZGVyaW5nIG9mIGEgY29tcG9uZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9IGNvbXBvbmVudCBUaGUgY29tcG9uZW50IHRvIHJlcmVuZGVyXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudChjb21wb25lbnQpIHtcblx0bGV0IG9sZFZOb2RlID0gY29tcG9uZW50Ll92bm9kZSxcblx0XHRvbGREb20gPSBvbGRWTm9kZS5fZG9tLFxuXHRcdGNvbW1pdFF1ZXVlID0gW10sXG5cdFx0cmVmUXVldWUgPSBbXTtcblxuXHRpZiAoY29tcG9uZW50Ll9wYXJlbnREb20pIHtcblx0XHRjb25zdCBuZXdWTm9kZSA9IGFzc2lnbih7fSwgb2xkVk5vZGUpO1xuXHRcdG5ld1ZOb2RlLl9vcmlnaW5hbCA9IG9sZFZOb2RlLl9vcmlnaW5hbCArIDE7XG5cdFx0aWYgKG9wdGlvbnMudm5vZGUpIG9wdGlvbnMudm5vZGUobmV3Vk5vZGUpO1xuXG5cdFx0ZGlmZihcblx0XHRcdGNvbXBvbmVudC5fcGFyZW50RG9tLFxuXHRcdFx0bmV3Vk5vZGUsXG5cdFx0XHRvbGRWTm9kZSxcblx0XHRcdGNvbXBvbmVudC5fZ2xvYmFsQ29udGV4dCxcblx0XHRcdGNvbXBvbmVudC5fcGFyZW50RG9tLm5hbWVzcGFjZVVSSSxcblx0XHRcdG9sZFZOb2RlLl9mbGFncyAmIE1PREVfSFlEUkFURSA/IFtvbGREb21dIDogTlVMTCxcblx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0b2xkRG9tID09IE5VTEwgPyBnZXREb21TaWJsaW5nKG9sZFZOb2RlKSA6IG9sZERvbSxcblx0XHRcdCEhKG9sZFZOb2RlLl9mbGFncyAmIE1PREVfSFlEUkFURSksXG5cdFx0XHRyZWZRdWV1ZVxuXHRcdCk7XG5cblx0XHRuZXdWTm9kZS5fb3JpZ2luYWwgPSBvbGRWTm9kZS5fb3JpZ2luYWw7XG5cdFx0bmV3Vk5vZGUuX3BhcmVudC5fY2hpbGRyZW5bbmV3Vk5vZGUuX2luZGV4XSA9IG5ld1ZOb2RlO1xuXHRcdGNvbW1pdFJvb3QoY29tbWl0UXVldWUsIG5ld1ZOb2RlLCByZWZRdWV1ZSk7XG5cblx0XHRpZiAobmV3Vk5vZGUuX2RvbSAhPSBvbGREb20pIHtcblx0XHRcdHVwZGF0ZVBhcmVudERvbVBvaW50ZXJzKG5ld1ZOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZVxuICovXG5mdW5jdGlvbiB1cGRhdGVQYXJlbnREb21Qb2ludGVycyh2bm9kZSkge1xuXHRpZiAoKHZub2RlID0gdm5vZGUuX3BhcmVudCkgIT0gTlVMTCAmJiB2bm9kZS5fY29tcG9uZW50ICE9IE5VTEwpIHtcblx0XHR2bm9kZS5fZG9tID0gdm5vZGUuX2NvbXBvbmVudC5iYXNlID0gTlVMTDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLl9jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0bGV0IGNoaWxkID0gdm5vZGUuX2NoaWxkcmVuW2ldO1xuXHRcdFx0aWYgKGNoaWxkICE9IE5VTEwgJiYgY2hpbGQuX2RvbSAhPSBOVUxMKSB7XG5cdFx0XHRcdHZub2RlLl9kb20gPSB2bm9kZS5fY29tcG9uZW50LmJhc2UgPSBjaGlsZC5fZG9tO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdXBkYXRlUGFyZW50RG9tUG9pbnRlcnModm5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIHJlbmRlciBxdWV1ZVxuICogQHR5cGUge0FycmF5PGltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59XG4gKi9cbmxldCByZXJlbmRlclF1ZXVlID0gW107XG5cbi8qXG4gKiBUaGUgdmFsdWUgb2YgYENvbXBvbmVudC5kZWJvdW5jZWAgbXVzdCBhc3luY2hyb25vdXNseSBpbnZva2UgdGhlIHBhc3NlZCBpbiBjYWxsYmFjay4gSXQgaXNcbiAqIGltcG9ydGFudCB0aGF0IGNvbnRyaWJ1dG9ycyB0byBQcmVhY3QgY2FuIGNvbnNpc3RlbnRseSByZWFzb24gYWJvdXQgd2hhdCBjYWxscyB0byBgc2V0U3RhdGVgLCBldGMuXG4gKiBkbywgYW5kIHdoZW4gdGhlaXIgZWZmZWN0cyB3aWxsIGJlIGFwcGxpZWQuIFNlZSB0aGUgbGlua3MgYmVsb3cgZm9yIHNvbWUgZnVydGhlciByZWFkaW5nIG9uIGRlc2lnbmluZ1xuICogYXN5bmNocm9ub3VzIEFQSXMuXG4gKiAqIFtEZXNpZ25pbmcgQVBJcyBmb3IgQXN5bmNocm9ueV0oaHR0cHM6Ly9ibG9nLml6cy5tZS8yMDEzLzA4L2Rlc2lnbmluZy1hcGlzLWZvci1hc3luY2hyb255KVxuICogKiBbQ2FsbGJhY2tzIHN5bmNocm9ub3VzIGFuZCBhc3luY2hyb25vdXNdKGh0dHBzOi8vYmxvZy5vbWV0ZXIuY29tLzIwMTEvMDcvMjQvY2FsbGJhY2tzLXN5bmNocm9ub3VzLWFuZC1hc3luY2hyb25vdXMvKVxuICovXG5cbmxldCBwcmV2RGVib3VuY2U7XG5cbmNvbnN0IGRlZmVyID1cblx0dHlwZW9mIFByb21pc2UgPT0gJ2Z1bmN0aW9uJ1xuXHRcdD8gUHJvbWlzZS5wcm90b3R5cGUudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKVxuXHRcdDogc2V0VGltZW91dDtcblxuLyoqXG4gKiBFbnF1ZXVlIGEgcmVyZW5kZXIgb2YgYSBjb21wb25lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSBjIFRoZSBjb21wb25lbnQgdG8gcmVyZW5kZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVucXVldWVSZW5kZXIoYykge1xuXHRpZiAoXG5cdFx0KCFjLl9kaXJ0eSAmJlxuXHRcdFx0KGMuX2RpcnR5ID0gdHJ1ZSkgJiZcblx0XHRcdHJlcmVuZGVyUXVldWUucHVzaChjKSAmJlxuXHRcdFx0IXByb2Nlc3MuX3JlcmVuZGVyQ291bnQrKykgfHxcblx0XHRwcmV2RGVib3VuY2UgIT0gb3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZ1xuXHQpIHtcblx0XHRwcmV2RGVib3VuY2UgPSBvcHRpb25zLmRlYm91bmNlUmVuZGVyaW5nO1xuXHRcdChwcmV2RGVib3VuY2UgfHwgZGVmZXIpKHByb2Nlc3MpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9IGFcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSBiXG4gKi9cbmNvbnN0IGRlcHRoU29ydCA9IChhLCBiKSA9PiBhLl92bm9kZS5fZGVwdGggLSBiLl92bm9kZS5fZGVwdGg7XG5cbi8qKiBGbHVzaCB0aGUgcmVuZGVyIHF1ZXVlIGJ5IHJlcmVuZGVyaW5nIGFsbCBxdWV1ZWQgY29tcG9uZW50cyAqL1xuZnVuY3Rpb24gcHJvY2VzcygpIHtcblx0bGV0IGMsXG5cdFx0bCA9IDE7XG5cblx0Ly8gRG9uJ3QgdXBkYXRlIGByZW5kZXJDb3VudGAgeWV0LiBLZWVwIGl0cyB2YWx1ZSBub24temVybyB0byBwcmV2ZW50IHVubmVjZXNzYXJ5XG5cdC8vIHByb2Nlc3MoKSBjYWxscyBmcm9tIGdldHRpbmcgc2NoZWR1bGVkIHdoaWxlIGBxdWV1ZWAgaXMgc3RpbGwgYmVpbmcgY29uc3VtZWQuXG5cdHdoaWxlIChyZXJlbmRlclF1ZXVlLmxlbmd0aCkge1xuXHRcdC8vIEtlZXAgdGhlIHJlcmVuZGVyIHF1ZXVlIHNvcnRlZCBieSAoZGVwdGgsIGluc2VydGlvbiBvcmRlcikuIFRoZSBxdWV1ZVxuXHRcdC8vIHdpbGwgaW5pdGlhbGx5IGJlIHNvcnRlZCBvbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHkgaWYgaXQgaGFzIG1vcmUgdGhhbiAxIGl0ZW0uXG5cdFx0Ly9cblx0XHQvLyBOZXcgaXRlbXMgY2FuIGJlIGFkZGVkIHRvIHRoZSBxdWV1ZSBlLmcuIHdoZW4gcmVyZW5kZXJpbmcgYSBwcm92aWRlciwgc28gd2Ugd2FudCB0b1xuXHRcdC8vIGtlZXAgdGhlIG9yZGVyIGZyb20gdG9wIHRvIGJvdHRvbSB3aXRoIHRob3NlIG5ldyBpdGVtcyBzbyB3ZSBjYW4gaGFuZGxlIHRoZW0gaW4gYVxuXHRcdC8vIHNpbmdsZSBwYXNzXG5cdFx0aWYgKHJlcmVuZGVyUXVldWUubGVuZ3RoID4gbCkge1xuXHRcdFx0cmVyZW5kZXJRdWV1ZS5zb3J0KGRlcHRoU29ydCk7XG5cdFx0fVxuXG5cdFx0YyA9IHJlcmVuZGVyUXVldWUuc2hpZnQoKTtcblx0XHRsID0gcmVyZW5kZXJRdWV1ZS5sZW5ndGg7XG5cblx0XHRpZiAoYy5fZGlydHkpIHtcblx0XHRcdHJlbmRlckNvbXBvbmVudChjKTtcblx0XHR9XG5cdH1cblx0cHJvY2Vzcy5fcmVyZW5kZXJDb3VudCA9IDA7XG59XG5cbnByb2Nlc3MuX3JlcmVuZGVyQ291bnQgPSAwO1xuIiwgImltcG9ydCB7IElTX05PTl9ESU1FTlNJT05BTCwgTlVMTCwgU1ZHX05BTUVTUEFDRSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcblxuZnVuY3Rpb24gc2V0U3R5bGUoc3R5bGUsIGtleSwgdmFsdWUpIHtcblx0aWYgKGtleVswXSA9PSAnLScpIHtcblx0XHRzdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlID09IE5VTEwgPyAnJyA6IHZhbHVlKTtcblx0fSBlbHNlIGlmICh2YWx1ZSA9PSBOVUxMKSB7XG5cdFx0c3R5bGVba2V5XSA9ICcnO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnbnVtYmVyJyB8fCBJU19OT05fRElNRU5TSU9OQUwudGVzdChrZXkpKSB7XG5cdFx0c3R5bGVba2V5XSA9IHZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlW2tleV0gPSB2YWx1ZSArICdweCc7XG5cdH1cbn1cblxuY29uc3QgQ0FQVFVSRV9SRUdFWCA9IC8oUG9pbnRlckNhcHR1cmUpJHxDYXB0dXJlJC9pO1xuXG4vLyBBIGxvZ2ljYWwgY2xvY2sgdG8gc29sdmUgaXNzdWVzIGxpa2UgaHR0cHM6Ly9naXRodWIuY29tL3ByZWFjdGpzL3ByZWFjdC9pc3N1ZXMvMzkyNy5cbi8vIFdoZW4gdGhlIERPTSBwZXJmb3JtcyBhbiBldmVudCBpdCBsZWF2ZXMgbWljcm8tdGlja3MgaW4gYmV0d2VlbiBidWJibGluZyB1cCB3aGljaCBtZWFucyB0aGF0XG4vLyBhbiBldmVudCBjYW4gdHJpZ2dlciBvbiBhIG5ld2x5IHJlYXRlZCBET00tbm9kZSB3aGlsZSB0aGUgZXZlbnQgYnViYmxlcyB1cC5cbi8vXG4vLyBPcmlnaW5hbGx5IGluc3BpcmVkIGJ5IFZ1ZVxuLy8gKGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9jb3JlL2Jsb2IvY2FlYjhhNjg4MTFhMWIwZjc5L3BhY2thZ2VzL3J1bnRpbWUtZG9tL3NyYy9tb2R1bGVzL2V2ZW50cy50cyNMOTAtTDEwMSksXG4vLyBidXQgbW9kaWZpZWQgdG8gdXNlIGEgbG9naWNhbCBjbG9jayBpbnN0ZWFkIG9mIERhdGUubm93KCkgaW4gY2FzZSBldmVudCBoYW5kbGVycyBnZXQgYXR0YWNoZWRcbi8vIGFuZCBldmVudHMgZ2V0IGRpc3BhdGNoZWQgZHVyaW5nIHRoZSBzYW1lIG1pbGxpc2Vjb25kLlxuLy9cbi8vIFRoZSBjbG9jayBpcyBpbmNyZW1lbnRlZCBhZnRlciBlYWNoIG5ldyBldmVudCBkaXNwYXRjaC4gVGhpcyBhbGxvd3MgMSAwMDAgMDAwIG5ldyBldmVudHNcbi8vIHBlciBzZWNvbmQgZm9yIG92ZXIgMjgwIHllYXJzIGJlZm9yZSB0aGUgdmFsdWUgcmVhY2hlcyBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiAoMioqNTMgLSAxKS5cbmxldCBldmVudENsb2NrID0gMDtcblxuLyoqXG4gKiBTZXQgYSBwcm9wZXJ0eSB2YWx1ZSBvbiBhIERPTSBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBkb20gVGhlIERPTSBub2RlIHRvIG1vZGlmeVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHNldFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0IHRoZSBwcm9wZXJ0eSB0b1xuICogQHBhcmFtIHsqfSBvbGRWYWx1ZSBUaGUgb2xkIHZhbHVlIHRoZSBwcm9wZXJ0eSBoYWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lc3BhY2UgV2hldGhlciBvciBub3QgdGhpcyBET00gbm9kZSBpcyBhbiBTVkcgbm9kZSBvciBub3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFByb3BlcnR5KGRvbSwgbmFtZSwgdmFsdWUsIG9sZFZhbHVlLCBuYW1lc3BhY2UpIHtcblx0bGV0IHVzZUNhcHR1cmU7XG5cblx0bzogaWYgKG5hbWUgPT0gJ3N0eWxlJykge1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcblx0XHRcdGRvbS5zdHlsZS5jc3NUZXh0ID0gdmFsdWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0eXBlb2Ygb2xkVmFsdWUgPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0ZG9tLnN0eWxlLmNzc1RleHQgPSBvbGRWYWx1ZSA9ICcnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAob2xkVmFsdWUpIHtcblx0XHRcdFx0Zm9yIChuYW1lIGluIG9sZFZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKCEodmFsdWUgJiYgbmFtZSBpbiB2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdHNldFN0eWxlKGRvbS5zdHlsZSwgbmFtZSwgJycpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0Zm9yIChuYW1lIGluIHZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKCFvbGRWYWx1ZSB8fCB2YWx1ZVtuYW1lXSAhPSBvbGRWYWx1ZVtuYW1lXSkge1xuXHRcdFx0XHRcdFx0c2V0U3R5bGUoZG9tLnN0eWxlLCBuYW1lLCB2YWx1ZVtuYW1lXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdC8vIEJlbmNobWFyayBmb3IgY29tcGFyaXNvbjogaHR0cHM6Ly9lc2JlbmNoLmNvbS9iZW5jaC81NzRjOTU0YmRiOTY1YjlhMDA5NjVhYzZcblx0ZWxzZSBpZiAobmFtZVswXSA9PSAnbycgJiYgbmFtZVsxXSA9PSAnbicpIHtcblx0XHR1c2VDYXB0dXJlID0gbmFtZSAhPSAobmFtZSA9IG5hbWUucmVwbGFjZShDQVBUVVJFX1JFR0VYLCAnJDEnKSk7XG5cdFx0Y29uc3QgbG93ZXJDYXNlTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHRcdC8vIEluZmVyIGNvcnJlY3QgY2FzaW5nIGZvciBET00gYnVpbHQtaW4gZXZlbnRzOlxuXHRcdGlmIChsb3dlckNhc2VOYW1lIGluIGRvbSB8fCBuYW1lID09ICdvbkZvY3VzT3V0JyB8fCBuYW1lID09ICdvbkZvY3VzSW4nKVxuXHRcdFx0bmFtZSA9IGxvd2VyQ2FzZU5hbWUuc2xpY2UoMik7XG5cdFx0ZWxzZSBuYW1lID0gbmFtZS5zbGljZSgyKTtcblxuXHRcdGlmICghZG9tLl9saXN0ZW5lcnMpIGRvbS5fbGlzdGVuZXJzID0ge307XG5cdFx0ZG9tLl9saXN0ZW5lcnNbbmFtZSArIHVzZUNhcHR1cmVdID0gdmFsdWU7XG5cblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGlmICghb2xkVmFsdWUpIHtcblx0XHRcdFx0dmFsdWUuX2F0dGFjaGVkID0gZXZlbnRDbG9jaztcblx0XHRcdFx0ZG9tLmFkZEV2ZW50TGlzdGVuZXIoXG5cdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHR1c2VDYXB0dXJlID8gZXZlbnRQcm94eUNhcHR1cmUgOiBldmVudFByb3h5LFxuXHRcdFx0XHRcdHVzZUNhcHR1cmVcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbHVlLl9hdHRhY2hlZCA9IG9sZFZhbHVlLl9hdHRhY2hlZDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0ZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG5cdFx0XHRcdG5hbWUsXG5cdFx0XHRcdHVzZUNhcHR1cmUgPyBldmVudFByb3h5Q2FwdHVyZSA6IGV2ZW50UHJveHksXG5cdFx0XHRcdHVzZUNhcHR1cmVcblx0XHRcdCk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGlmIChuYW1lc3BhY2UgPT0gU1ZHX05BTUVTUEFDRSkge1xuXHRcdFx0Ly8gTm9ybWFsaXplIGluY29ycmVjdCBwcm9wIHVzYWdlIGZvciBTVkc6XG5cdFx0XHQvLyAtIHhsaW5rOmhyZWYgLyB4bGlua0hyZWYgLS0+IGhyZWYgKHhsaW5rOmhyZWYgd2FzIHJlbW92ZWQgZnJvbSBTVkcgYW5kIGlzbid0IG5lZWRlZClcblx0XHRcdC8vIC0gY2xhc3NOYW1lIC0tPiBjbGFzc1xuXHRcdFx0bmFtZSA9IG5hbWUucmVwbGFjZSgveGxpbmsoSHw6aCkvLCAnaCcpLnJlcGxhY2UoL3NOYW1lJC8sICdzJyk7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdG5hbWUgIT0gJ3dpZHRoJyAmJlxuXHRcdFx0bmFtZSAhPSAnaGVpZ2h0JyAmJlxuXHRcdFx0bmFtZSAhPSAnaHJlZicgJiZcblx0XHRcdG5hbWUgIT0gJ2xpc3QnICYmXG5cdFx0XHRuYW1lICE9ICdmb3JtJyAmJlxuXHRcdFx0Ly8gRGVmYXVsdCB2YWx1ZSBpbiBicm93c2VycyBpcyBgLTFgIGFuZCBhbiBlbXB0eSBzdHJpbmcgaXNcblx0XHRcdC8vIGNhc3QgdG8gYDBgIGluc3RlYWRcblx0XHRcdG5hbWUgIT0gJ3RhYkluZGV4JyAmJlxuXHRcdFx0bmFtZSAhPSAnZG93bmxvYWQnICYmXG5cdFx0XHRuYW1lICE9ICdyb3dTcGFuJyAmJlxuXHRcdFx0bmFtZSAhPSAnY29sU3BhbicgJiZcblx0XHRcdG5hbWUgIT0gJ3JvbGUnICYmXG5cdFx0XHRuYW1lICE9ICdwb3BvdmVyJyAmJlxuXHRcdFx0bmFtZSBpbiBkb21cblx0XHQpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRvbVtuYW1lXSA9IHZhbHVlID09IE5VTEwgPyAnJyA6IHZhbHVlO1xuXHRcdFx0XHQvLyBsYWJlbGxlZCBicmVhayBpcyAxYiBzbWFsbGVyIGhlcmUgdGhhbiBhIHJldHVybiBzdGF0ZW1lbnQgKHNvcnJ5KVxuXHRcdFx0XHRicmVhayBvO1xuXHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHR9XG5cblx0XHQvLyBhcmlhLSBhbmQgZGF0YS0gYXR0cmlidXRlcyBoYXZlIG5vIGJvb2xlYW4gcmVwcmVzZW50YXRpb24uXG5cdFx0Ly8gQSBgZmFsc2VgIHZhbHVlIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBhdHRyaWJ1dGUgbm90IGJlaW5nXG5cdFx0Ly8gcHJlc2VudCwgc28gd2UgY2FuJ3QgcmVtb3ZlIGl0LiBGb3Igbm9uLWJvb2xlYW4gYXJpYVxuXHRcdC8vIGF0dHJpYnV0ZXMgd2UgY291bGQgdHJlYXQgZmFsc2UgYXMgYSByZW1vdmFsLCBidXQgdGhlXG5cdFx0Ly8gYW1vdW50IG9mIGV4Y2VwdGlvbnMgd291bGQgY29zdCB0b28gbWFueSBieXRlcy4gT24gdG9wIG9mXG5cdFx0Ly8gdGhhdCBvdGhlciBmcmFtZXdvcmtzIGdlbmVyYWxseSBzdHJpbmdpZnkgYGZhbHNlYC5cblxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Ly8gbmV2ZXIgc2VyaWFsaXplIGZ1bmN0aW9ucyBhcyBhdHRyaWJ1dGUgdmFsdWVzXG5cdFx0fSBlbHNlIGlmICh2YWx1ZSAhPSBOVUxMICYmICh2YWx1ZSAhPT0gZmFsc2UgfHwgbmFtZVs0XSA9PSAnLScpKSB7XG5cdFx0XHRkb20uc2V0QXR0cmlidXRlKG5hbWUsIG5hbWUgPT0gJ3BvcG92ZXInICYmIHZhbHVlID09IHRydWUgPyAnJyA6IHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gZXZlbnQgcHJveHkgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUNhcHR1cmUgSXMgdGhlIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBjYXB0dXJlIHBoYXNlLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRXZlbnRQcm94eSh1c2VDYXB0dXJlKSB7XG5cdC8qKlxuXHQgKiBQcm94eSBhbiBldmVudCB0byBob29rZWQgZXZlbnQgaGFuZGxlcnNcblx0ICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RXZlbnR9IGUgVGhlIGV2ZW50IG9iamVjdCBmcm9tIHRoZSBicm93c2VyXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRyZXR1cm4gZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG5cdFx0XHRjb25zdCBldmVudEhhbmRsZXIgPSB0aGlzLl9saXN0ZW5lcnNbZS50eXBlICsgdXNlQ2FwdHVyZV07XG5cdFx0XHRpZiAoZS5fZGlzcGF0Y2hlZCA9PSBOVUxMKSB7XG5cdFx0XHRcdGUuX2Rpc3BhdGNoZWQgPSBldmVudENsb2NrKys7XG5cblx0XHRcdFx0Ly8gV2hlbiBgZS5fZGlzcGF0Y2hlZGAgaXMgc21hbGxlciB0aGFuIHRoZSB0aW1lIHdoZW4gdGhlIHRhcmdldGVkIGV2ZW50XG5cdFx0XHRcdC8vIGhhbmRsZXIgd2FzIGF0dGFjaGVkIHdlIGtub3cgd2UgaGF2ZSBidWJibGVkIHVwIHRvIGFuIGVsZW1lbnQgdGhhdCB3YXMgYWRkZWRcblx0XHRcdFx0Ly8gZHVyaW5nIHBhdGNoaW5nIHRoZSBET00uXG5cdFx0XHR9IGVsc2UgaWYgKGUuX2Rpc3BhdGNoZWQgPCBldmVudEhhbmRsZXIuX2F0dGFjaGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHJldHVybiBldmVudEhhbmRsZXIob3B0aW9ucy5ldmVudCA/IG9wdGlvbnMuZXZlbnQoZSkgOiBlKTtcblx0XHR9XG5cdH07XG59XG5cbmNvbnN0IGV2ZW50UHJveHkgPSBjcmVhdGVFdmVudFByb3h5KGZhbHNlKTtcbmNvbnN0IGV2ZW50UHJveHlDYXB0dXJlID0gY3JlYXRlRXZlbnRQcm94eSh0cnVlKTtcbiIsICJpbXBvcnQgeyBlbnF1ZXVlUmVuZGVyIH0gZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgTlVMTCB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGxldCBpID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlKSB7XG5cdGZ1bmN0aW9uIENvbnRleHQocHJvcHMpIHtcblx0XHRpZiAoIXRoaXMuZ2V0Q2hpbGRDb250ZXh0KSB7XG5cdFx0XHQvKiogQHR5cGUge1NldDxpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnQ+IHwgbnVsbH0gKi9cblx0XHRcdGxldCBzdWJzID0gbmV3IFNldCgpO1xuXHRcdFx0bGV0IGN0eCA9IHt9O1xuXHRcdFx0Y3R4W0NvbnRleHQuX2lkXSA9IHRoaXM7XG5cblx0XHRcdHRoaXMuZ2V0Q2hpbGRDb250ZXh0ID0gKCkgPT4gY3R4O1xuXG5cdFx0XHR0aGlzLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gKCkgPT4ge1xuXHRcdFx0XHRzdWJzID0gTlVMTDtcblx0XHRcdH07XG5cblx0XHRcdHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gKF9wcm9wcykge1xuXHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIGV2ZW5cblx0XHRcdFx0aWYgKHRoaXMucHJvcHMudmFsdWUgIT0gX3Byb3BzLnZhbHVlKSB7XG5cdFx0XHRcdFx0c3Vicy5mb3JFYWNoKGMgPT4ge1xuXHRcdFx0XHRcdFx0Yy5fZm9yY2UgPSB0cnVlO1xuXHRcdFx0XHRcdFx0ZW5xdWV1ZVJlbmRlcihjKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0dGhpcy5zdWIgPSBjID0+IHtcblx0XHRcdFx0c3Vicy5hZGQoYyk7XG5cdFx0XHRcdGxldCBvbGQgPSBjLmNvbXBvbmVudFdpbGxVbm1vdW50O1xuXHRcdFx0XHRjLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gKCkgPT4ge1xuXHRcdFx0XHRcdGlmIChzdWJzKSB7XG5cdFx0XHRcdFx0XHRzdWJzLmRlbGV0ZShjKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKG9sZCkgb2xkLmNhbGwoYyk7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcblx0fVxuXG5cdENvbnRleHQuX2lkID0gJ19fY0MnICsgaSsrO1xuXHRDb250ZXh0Ll9kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5GdW5jdGlvbkNvbXBvbmVudH0gKi9cblx0Q29udGV4dC5Db25zdW1lciA9IChwcm9wcywgY29udGV4dFZhbHVlKSA9PiB7XG5cdFx0cmV0dXJuIHByb3BzLmNoaWxkcmVuKGNvbnRleHRWYWx1ZSk7XG5cdH07XG5cblx0Ly8gd2UgY291bGQgYWxzbyBnZXQgcmlkIG9mIF9jb250ZXh0UmVmIGVudGlyZWx5XG5cdENvbnRleHQuUHJvdmlkZXIgPVxuXHRcdENvbnRleHQuX2NvbnRleHRSZWYgPVxuXHRcdENvbnRleHQuQ29uc3VtZXIuY29udGV4dFR5cGUgPVxuXHRcdFx0Q29udGV4dDtcblxuXHRyZXR1cm4gQ29udGV4dDtcbn1cbiIsICJpbXBvcnQgeyBkaWZmLCB1bm1vdW50LCBhcHBseVJlZiB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgY3JlYXRlVk5vZGUsIEZyYWdtZW50IH0gZnJvbSAnLi4vY3JlYXRlLWVsZW1lbnQnO1xuaW1wb3J0IHtcblx0RU1QVFlfT0JKLFxuXHRFTVBUWV9BUlIsXG5cdElOU0VSVF9WTk9ERSxcblx0TUFUQ0hFRCxcblx0VU5ERUZJTkVELFxuXHROVUxMXG59IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBnZXREb21TaWJsaW5nIH0gZnJvbSAnLi4vY29tcG9uZW50JztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudENoaWxkcmVufSBDb21wb25lbnRDaGlsZHJlblxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnR9IENvbXBvbmVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBQcmVhY3RFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBWTm9kZVxuICovXG5cbi8qKlxuICogRGlmZiB0aGUgY2hpbGRyZW4gb2YgYSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7UHJlYWN0RWxlbWVudH0gcGFyZW50RG9tIFRoZSBET00gZWxlbWVudCB3aG9zZSBjaGlsZHJlbiBhcmUgYmVpbmdcbiAqIGRpZmZlZFxuICogQHBhcmFtIHtDb21wb25lbnRDaGlsZHJlbltdfSByZW5kZXJSZXN1bHRcbiAqIEBwYXJhbSB7Vk5vZGV9IG5ld1BhcmVudFZOb2RlIFRoZSBuZXcgdmlydHVhbCBub2RlIHdob3NlIGNoaWxkcmVuIHNob3VsZCBiZVxuICogZGlmZidlZCBhZ2FpbnN0IG9sZFBhcmVudFZOb2RlXG4gKiBAcGFyYW0ge1ZOb2RlfSBvbGRQYXJlbnRWTm9kZSBUaGUgb2xkIHZpcnR1YWwgbm9kZSB3aG9zZSBjaGlsZHJlbiBzaG91bGQgYmVcbiAqIGRpZmYnZWQgYWdhaW5zdCBuZXdQYXJlbnRWTm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGdsb2JhbENvbnRleHQgVGhlIGN1cnJlbnQgY29udGV4dCBvYmplY3QgLSBtb2RpZmllZCBieVxuICogZ2V0Q2hpbGRDb250ZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZXNwYWNlIEN1cnJlbnQgbmFtZXNwYWNlIG9mIHRoZSBET00gbm9kZSAoSFRNTCwgU1ZHLCBvciBNYXRoTUwpXG4gKiBAcGFyYW0ge0FycmF5PFByZWFjdEVsZW1lbnQ+fSBleGNlc3NEb21DaGlsZHJlblxuICogQHBhcmFtIHtBcnJheTxDb21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHMgd2hpY2ggaGF2ZSBjYWxsYmFja3NcbiAqIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge1ByZWFjdEVsZW1lbnR9IG9sZERvbSBUaGUgY3VycmVudCBhdHRhY2hlZCBET00gZWxlbWVudCBhbnkgbmV3IGRvbVxuICogZWxlbWVudHMgc2hvdWxkIGJlIHBsYWNlZCBhcm91bmQuIExpa2VseSBgbnVsbGAgb24gZmlyc3QgcmVuZGVyIChleGNlcHQgd2hlblxuICogaHlkcmF0aW5nKS4gQ2FuIGJlIGEgc2libGluZyBET00gZWxlbWVudCB3aGVuIGRpZmZpbmcgRnJhZ21lbnRzIHRoYXQgaGF2ZVxuICogc2libGluZ3MuIEluIG1vc3QgY2FzZXMsIGl0IHN0YXJ0cyBvdXQgYXMgYG9sZENoaWxkcmVuWzBdLl9kb21gLlxuICogQHBhcmFtIHtib29sZWFufSBpc0h5ZHJhdGluZyBXaGV0aGVyIG9yIG5vdCB3ZSBhcmUgaW4gaHlkcmF0aW9uXG4gKiBAcGFyYW0ge2FueVtdfSByZWZRdWV1ZSBhbiBhcnJheSBvZiBlbGVtZW50cyBuZWVkZWQgdG8gaW52b2tlIHJlZnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZDaGlsZHJlbihcblx0cGFyZW50RG9tLFxuXHRyZW5kZXJSZXN1bHQsXG5cdG5ld1BhcmVudFZOb2RlLFxuXHRvbGRQYXJlbnRWTm9kZSxcblx0Z2xvYmFsQ29udGV4dCxcblx0bmFtZXNwYWNlLFxuXHRleGNlc3NEb21DaGlsZHJlbixcblx0Y29tbWl0UXVldWUsXG5cdG9sZERvbSxcblx0aXNIeWRyYXRpbmcsXG5cdHJlZlF1ZXVlXG4pIHtcblx0bGV0IGksXG5cdFx0LyoqIEB0eXBlIHtWTm9kZX0gKi9cblx0XHRvbGRWTm9kZSxcblx0XHQvKiogQHR5cGUge1ZOb2RlfSAqL1xuXHRcdGNoaWxkVk5vZGUsXG5cdFx0LyoqIEB0eXBlIHtQcmVhY3RFbGVtZW50fSAqL1xuXHRcdG5ld0RvbSxcblx0XHQvKiogQHR5cGUge1ByZWFjdEVsZW1lbnR9ICovXG5cdFx0Zmlyc3RDaGlsZERvbTtcblxuXHQvLyBUaGlzIGlzIGEgY29tcHJlc3Npb24gb2Ygb2xkUGFyZW50Vk5vZGUhPW51bGwgJiYgb2xkUGFyZW50Vk5vZGUgIT0gRU1QVFlfT0JKICYmIG9sZFBhcmVudFZOb2RlLl9jaGlsZHJlbiB8fCBFTVBUWV9BUlJcblx0Ly8gYXMgRU1QVFlfT0JKLl9jaGlsZHJlbiBzaG91bGQgYmUgYHVuZGVmaW5lZGAuXG5cdC8qKiBAdHlwZSB7Vk5vZGVbXX0gKi9cblx0bGV0IG9sZENoaWxkcmVuID0gKG9sZFBhcmVudFZOb2RlICYmIG9sZFBhcmVudFZOb2RlLl9jaGlsZHJlbikgfHwgRU1QVFlfQVJSO1xuXG5cdGxldCBuZXdDaGlsZHJlbkxlbmd0aCA9IHJlbmRlclJlc3VsdC5sZW5ndGg7XG5cblx0b2xkRG9tID0gY29uc3RydWN0TmV3Q2hpbGRyZW5BcnJheShcblx0XHRuZXdQYXJlbnRWTm9kZSxcblx0XHRyZW5kZXJSZXN1bHQsXG5cdFx0b2xkQ2hpbGRyZW4sXG5cdFx0b2xkRG9tLFxuXHRcdG5ld0NoaWxkcmVuTGVuZ3RoXG5cdCk7XG5cblx0Zm9yIChpID0gMDsgaSA8IG5ld0NoaWxkcmVuTGVuZ3RoOyBpKyspIHtcblx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldO1xuXHRcdGlmIChjaGlsZFZOb2RlID09IE5VTEwpIGNvbnRpbnVlO1xuXG5cdFx0Ly8gQXQgdGhpcyBwb2ludCwgY29uc3RydWN0TmV3Q2hpbGRyZW5BcnJheSBoYXMgYXNzaWduZWQgX2luZGV4IHRvIGJlIHRoZVxuXHRcdC8vIG1hdGNoaW5nSW5kZXggZm9yIHRoaXMgVk5vZGUncyBvbGRWTm9kZSAob3IgLTEgaWYgdGhlcmUgaXMgbm8gb2xkVk5vZGUpLlxuXHRcdGlmIChjaGlsZFZOb2RlLl9pbmRleCA9PSAtMSkge1xuXHRcdFx0b2xkVk5vZGUgPSBFTVBUWV9PQko7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5bY2hpbGRWTm9kZS5faW5kZXhdIHx8IEVNUFRZX09CSjtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgY2hpbGRWTm9kZS5faW5kZXggdG8gaXRzIGZpbmFsIGluZGV4XG5cdFx0Y2hpbGRWTm9kZS5faW5kZXggPSBpO1xuXG5cdFx0Ly8gTW9ycGggdGhlIG9sZCBlbGVtZW50IGludG8gdGhlIG5ldyBvbmUsIGJ1dCBkb24ndCBhcHBlbmQgaXQgdG8gdGhlIGRvbSB5ZXRcblx0XHRsZXQgcmVzdWx0ID0gZGlmZihcblx0XHRcdHBhcmVudERvbSxcblx0XHRcdGNoaWxkVk5vZGUsXG5cdFx0XHRvbGRWTm9kZSxcblx0XHRcdGdsb2JhbENvbnRleHQsXG5cdFx0XHRuYW1lc3BhY2UsXG5cdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0b2xkRG9tLFxuXHRcdFx0aXNIeWRyYXRpbmcsXG5cdFx0XHRyZWZRdWV1ZVxuXHRcdCk7XG5cblx0XHQvLyBBZGp1c3QgRE9NIG5vZGVzXG5cdFx0bmV3RG9tID0gY2hpbGRWTm9kZS5fZG9tO1xuXHRcdGlmIChjaGlsZFZOb2RlLnJlZiAmJiBvbGRWTm9kZS5yZWYgIT0gY2hpbGRWTm9kZS5yZWYpIHtcblx0XHRcdGlmIChvbGRWTm9kZS5yZWYpIHtcblx0XHRcdFx0YXBwbHlSZWYob2xkVk5vZGUucmVmLCBOVUxMLCBjaGlsZFZOb2RlKTtcblx0XHRcdH1cblx0XHRcdHJlZlF1ZXVlLnB1c2goXG5cdFx0XHRcdGNoaWxkVk5vZGUucmVmLFxuXHRcdFx0XHRjaGlsZFZOb2RlLl9jb21wb25lbnQgfHwgbmV3RG9tLFxuXHRcdFx0XHRjaGlsZFZOb2RlXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChmaXJzdENoaWxkRG9tID09IE5VTEwgJiYgbmV3RG9tICE9IE5VTEwpIHtcblx0XHRcdGZpcnN0Q2hpbGREb20gPSBuZXdEb207XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0Y2hpbGRWTm9kZS5fZmxhZ3MgJiBJTlNFUlRfVk5PREUgfHxcblx0XHRcdG9sZFZOb2RlLl9jaGlsZHJlbiA9PT0gY2hpbGRWTm9kZS5fY2hpbGRyZW5cblx0XHQpIHtcblx0XHRcdG9sZERvbSA9IGluc2VydChjaGlsZFZOb2RlLCBvbGREb20sIHBhcmVudERvbSk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgY2hpbGRWTm9kZS50eXBlID09ICdmdW5jdGlvbicgJiYgcmVzdWx0ICE9PSBVTkRFRklORUQpIHtcblx0XHRcdG9sZERvbSA9IHJlc3VsdDtcblx0XHR9IGVsc2UgaWYgKG5ld0RvbSkge1xuXHRcdFx0b2xkRG9tID0gbmV3RG9tLm5leHRTaWJsaW5nO1xuXHRcdH1cblxuXHRcdC8vIFVuc2V0IGRpZmZpbmcgZmxhZ3Ncblx0XHRjaGlsZFZOb2RlLl9mbGFncyAmPSB+KElOU0VSVF9WTk9ERSB8IE1BVENIRUQpO1xuXHR9XG5cblx0bmV3UGFyZW50Vk5vZGUuX2RvbSA9IGZpcnN0Q2hpbGREb207XG5cblx0cmV0dXJuIG9sZERvbTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZOb2RlfSBuZXdQYXJlbnRWTm9kZVxuICogQHBhcmFtIHtDb21wb25lbnRDaGlsZHJlbltdfSByZW5kZXJSZXN1bHRcbiAqIEBwYXJhbSB7Vk5vZGVbXX0gb2xkQ2hpbGRyZW5cbiAqL1xuZnVuY3Rpb24gY29uc3RydWN0TmV3Q2hpbGRyZW5BcnJheShcblx0bmV3UGFyZW50Vk5vZGUsXG5cdHJlbmRlclJlc3VsdCxcblx0b2xkQ2hpbGRyZW4sXG5cdG9sZERvbSxcblx0bmV3Q2hpbGRyZW5MZW5ndGhcbikge1xuXHQvKiogQHR5cGUge251bWJlcn0gKi9cblx0bGV0IGk7XG5cdC8qKiBAdHlwZSB7Vk5vZGV9ICovXG5cdGxldCBjaGlsZFZOb2RlO1xuXHQvKiogQHR5cGUge1ZOb2RlfSAqL1xuXHRsZXQgb2xkVk5vZGU7XG5cblx0bGV0IG9sZENoaWxkcmVuTGVuZ3RoID0gb2xkQ2hpbGRyZW4ubGVuZ3RoLFxuXHRcdHJlbWFpbmluZ09sZENoaWxkcmVuID0gb2xkQ2hpbGRyZW5MZW5ndGg7XG5cblx0bGV0IHNrZXcgPSAwO1xuXG5cdG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbiA9IG5ldyBBcnJheShuZXdDaGlsZHJlbkxlbmd0aCk7XG5cdGZvciAoaSA9IDA7IGkgPCBuZXdDaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBXZSBhcmUgcmV1c2luZyB0aGUgY2hpbGRWTm9kZSB2YXJpYWJsZSB0byBob2xkIGJvdGggdGhlXG5cdFx0Ly8gcHJlIGFuZCBwb3N0IG5vcm1hbGl6ZWQgY2hpbGRWTm9kZVxuXHRcdGNoaWxkVk5vZGUgPSByZW5kZXJSZXN1bHRbaV07XG5cblx0XHRpZiAoXG5cdFx0XHRjaGlsZFZOb2RlID09IE5VTEwgfHxcblx0XHRcdHR5cGVvZiBjaGlsZFZOb2RlID09ICdib29sZWFuJyB8fFxuXHRcdFx0dHlwZW9mIGNoaWxkVk5vZGUgPT0gJ2Z1bmN0aW9uJ1xuXHRcdCkge1xuXHRcdFx0bmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gTlVMTDtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHQvLyBJZiB0aGlzIG5ld1ZOb2RlIGlzIGJlaW5nIHJldXNlZCAoZS5nLiA8ZGl2PntyZXVzZX17cmV1c2V9PC9kaXY+KSBpbiB0aGUgc2FtZSBkaWZmLFxuXHRcdC8vIG9yIHdlIGFyZSByZW5kZXJpbmcgYSBjb21wb25lbnQgKGUuZy4gc2V0U3RhdGUpIGNvcHkgdGhlIG9sZFZOb2RlcyBzbyBpdCBjYW4gaGF2ZVxuXHRcdC8vIGl0J3Mgb3duIERPTSAmIGV0Yy4gcG9pbnRlcnNcblx0XHRlbHNlIGlmIChcblx0XHRcdHR5cGVvZiBjaGlsZFZOb2RlID09ICdzdHJpbmcnIHx8XG5cdFx0XHR0eXBlb2YgY2hpbGRWTm9kZSA9PSAnbnVtYmVyJyB8fFxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhbGlkLXR5cGVvZlxuXHRcdFx0dHlwZW9mIGNoaWxkVk5vZGUgPT0gJ2JpZ2ludCcgfHxcblx0XHRcdGNoaWxkVk5vZGUuY29uc3RydWN0b3IgPT0gU3RyaW5nXG5cdFx0KSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdE5VTEwsXG5cdFx0XHRcdGNoaWxkVk5vZGUsXG5cdFx0XHRcdE5VTEwsXG5cdFx0XHRcdE5VTEwsXG5cdFx0XHRcdE5VTExcblx0XHRcdCk7XG5cdFx0fSBlbHNlIGlmIChpc0FycmF5KGNoaWxkVk5vZGUpKSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdEZyYWdtZW50LFxuXHRcdFx0XHR7IGNoaWxkcmVuOiBjaGlsZFZOb2RlIH0sXG5cdFx0XHRcdE5VTEwsXG5cdFx0XHRcdE5VTEwsXG5cdFx0XHRcdE5VTExcblx0XHRcdCk7XG5cdFx0fSBlbHNlIGlmIChjaGlsZFZOb2RlLmNvbnN0cnVjdG9yID09IFVOREVGSU5FRCAmJiBjaGlsZFZOb2RlLl9kZXB0aCA+IDApIHtcblx0XHRcdC8vIFZOb2RlIGlzIGFscmVhZHkgaW4gdXNlLCBjbG9uZSBpdC4gVGhpcyBjYW4gaGFwcGVuIGluIHRoZSBmb2xsb3dpbmdcblx0XHRcdC8vIHNjZW5hcmlvOlxuXHRcdFx0Ly8gICBjb25zdCByZXVzZSA9IDxkaXYgLz5cblx0XHRcdC8vICAgPGRpdj57cmV1c2V9PHNwYW4gLz57cmV1c2V9PC9kaXY+XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdGNoaWxkVk5vZGUudHlwZSxcblx0XHRcdFx0Y2hpbGRWTm9kZS5wcm9wcyxcblx0XHRcdFx0Y2hpbGRWTm9kZS5rZXksXG5cdFx0XHRcdGNoaWxkVk5vZGUucmVmID8gY2hpbGRWTm9kZS5yZWYgOiBOVUxMLFxuXHRcdFx0XHRjaGlsZFZOb2RlLl9vcmlnaW5hbFxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2hpbGRWTm9kZSA9IG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbltpXSA9IGNoaWxkVk5vZGU7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc2tld2VkSW5kZXggPSBpICsgc2tldztcblx0XHRjaGlsZFZOb2RlLl9wYXJlbnQgPSBuZXdQYXJlbnRWTm9kZTtcblx0XHRjaGlsZFZOb2RlLl9kZXB0aCA9IG5ld1BhcmVudFZOb2RlLl9kZXB0aCArIDE7XG5cblx0XHQvLyBUZW1wb3JhcmlseSBzdG9yZSB0aGUgbWF0Y2hpbmdJbmRleCBvbiB0aGUgX2luZGV4IHByb3BlcnR5IHNvIHdlIGNhbiBwdWxsXG5cdFx0Ly8gb3V0IHRoZSBvbGRWTm9kZSBpbiBkaWZmQ2hpbGRyZW4uIFdlJ2xsIG92ZXJyaWRlIHRoaXMgdG8gdGhlIFZOb2RlJ3Ncblx0XHQvLyBmaW5hbCBpbmRleCBhZnRlciB1c2luZyB0aGlzIHByb3BlcnR5IHRvIGdldCB0aGUgb2xkVk5vZGVcblx0XHRjb25zdCBtYXRjaGluZ0luZGV4ID0gKGNoaWxkVk5vZGUuX2luZGV4ID0gZmluZE1hdGNoaW5nSW5kZXgoXG5cdFx0XHRjaGlsZFZOb2RlLFxuXHRcdFx0b2xkQ2hpbGRyZW4sXG5cdFx0XHRza2V3ZWRJbmRleCxcblx0XHRcdHJlbWFpbmluZ09sZENoaWxkcmVuXG5cdFx0KSk7XG5cblx0XHRvbGRWTm9kZSA9IE5VTEw7XG5cdFx0aWYgKG1hdGNoaW5nSW5kZXggIT0gLTEpIHtcblx0XHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5bbWF0Y2hpbmdJbmRleF07XG5cdFx0XHRyZW1haW5pbmdPbGRDaGlsZHJlbi0tO1xuXHRcdFx0aWYgKG9sZFZOb2RlKSB7XG5cdFx0XHRcdG9sZFZOb2RlLl9mbGFncyB8PSBNQVRDSEVEO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEhlcmUsIHdlIGRlZmluZSBpc01vdW50aW5nIGZvciB0aGUgcHVycG9zZXMgb2YgdGhlIHNrZXcgZGlmZmluZ1xuXHRcdC8vIGFsZ29yaXRobS4gTm9kZXMgdGhhdCBhcmUgdW5zdXNwZW5kaW5nIGFyZSBjb25zaWRlcmVkIG1vdW50aW5nIGFuZCB3ZSBkZXRlY3Rcblx0XHQvLyB0aGlzIGJ5IGNoZWNraW5nIGlmIG9sZFZOb2RlLl9vcmlnaW5hbCA9PSBudWxsXG5cdFx0Y29uc3QgaXNNb3VudGluZyA9IG9sZFZOb2RlID09IE5VTEwgfHwgb2xkVk5vZGUuX29yaWdpbmFsID09IE5VTEw7XG5cblx0XHRpZiAoaXNNb3VudGluZykge1xuXHRcdFx0aWYgKG1hdGNoaW5nSW5kZXggPT0gLTEpIHtcblx0XHRcdFx0Ly8gV2hlbiB0aGUgYXJyYXkgb2YgY2hpbGRyZW4gaXMgZ3Jvd2luZyB3ZSBuZWVkIHRvIGRlY3JlYXNlIHRoZSBza2V3XG5cdFx0XHRcdC8vIGFzIHdlIGFyZSBhZGRpbmcgYSBuZXcgZWxlbWVudCB0byB0aGUgYXJyYXkuXG5cdFx0XHRcdC8vIEV4YW1wbGU6XG5cdFx0XHRcdC8vIFsxLCAyLCAzXSAtLT4gWzAsIDEsIDIsIDNdXG5cdFx0XHRcdC8vIG9sZENoaWxkcmVuICAgbmV3Q2hpbGRyZW5cblx0XHRcdFx0Ly9cblx0XHRcdFx0Ly8gVGhlIG5ldyBlbGVtZW50IGlzIGF0IGluZGV4IDAsIHNvIG91ciBza2V3IGlzIDAsXG5cdFx0XHRcdC8vIHdlIG5lZWQgdG8gZGVjcmVhc2UgdGhlIHNrZXcgYXMgd2UgYXJlIGFkZGluZyBhIG5ldyBlbGVtZW50LlxuXHRcdFx0XHQvLyBUaGUgZGVjcmVhc2Ugd2lsbCBjYXVzZSB1cyB0byBjb21wYXJlIHRoZSBlbGVtZW50IGF0IHBvc2l0aW9uIDFcblx0XHRcdFx0Ly8gd2l0aCB2YWx1ZSAxIHdpdGggdGhlIGVsZW1lbnQgYXQgcG9zaXRpb24gMCB3aXRoIHZhbHVlIDAuXG5cdFx0XHRcdC8vXG5cdFx0XHRcdC8vIEEgbGluZWFyIGNvbmNlcHQgaXMgYXBwbGllZCB3aGVuIHRoZSBhcnJheSBpcyBzaHJpbmtpbmcsXG5cdFx0XHRcdC8vIGlmIHRoZSBsZW5ndGggaXMgdW5jaGFuZ2VkIHdlIGNhbiBhc3N1bWUgdGhhdCBubyBza2V3XG5cdFx0XHRcdC8vIGNoYW5nZXMgYXJlIG5lZWRlZC5cblx0XHRcdFx0aWYgKG5ld0NoaWxkcmVuTGVuZ3RoID4gb2xkQ2hpbGRyZW5MZW5ndGgpIHtcblx0XHRcdFx0XHRza2V3LS07XG5cdFx0XHRcdH0gZWxzZSBpZiAobmV3Q2hpbGRyZW5MZW5ndGggPCBvbGRDaGlsZHJlbkxlbmd0aCkge1xuXHRcdFx0XHRcdHNrZXcrKztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB3ZSBhcmUgbW91bnRpbmcgYSBET00gVk5vZGUsIG1hcmsgaXQgZm9yIGluc2VydGlvblxuXHRcdFx0aWYgKHR5cGVvZiBjaGlsZFZOb2RlLnR5cGUgIT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjaGlsZFZOb2RlLl9mbGFncyB8PSBJTlNFUlRfVk5PREU7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChtYXRjaGluZ0luZGV4ICE9IHNrZXdlZEluZGV4KSB7XG5cdFx0XHQvLyBXaGVuIHdlIG1vdmUgZWxlbWVudHMgYXJvdW5kIGkuZS4gWzAsIDEsIDJdIC0tPiBbMSwgMCwgMl1cblx0XHRcdC8vIC0tPiB3ZSBkaWZmIDEsIHdlIGZpbmQgaXQgYXQgcG9zaXRpb24gMSB3aGlsZSBvdXIgc2tld2VkIGluZGV4IGlzIDAgYW5kIG91ciBza2V3IGlzIDBcblx0XHRcdC8vICAgICB3ZSBzZXQgdGhlIHNrZXcgdG8gMSBhcyB3ZSBmb3VuZCBhbiBvZmZzZXQuXG5cdFx0XHQvLyAtLT4gd2UgZGlmZiAwLCB3ZSBmaW5kIGl0IGF0IHBvc2l0aW9uIDAgd2hpbGUgb3VyIHNrZXdlZCBpbmRleCBpcyBhdCAyIGFuZCBvdXIgc2tldyBpcyAxXG5cdFx0XHQvLyAgICAgdGhpcyBtYWtlcyB1cyBpbmNyZWFzZSB0aGUgc2tldyBhZ2Fpbi5cblx0XHRcdC8vIC0tPiB3ZSBkaWZmIDIsIHdlIGZpbmQgaXQgYXQgcG9zaXRpb24gMiB3aGlsZSBvdXIgc2tld2VkIGluZGV4IGlzIGF0IDQgYW5kIG91ciBza2V3IGlzIDJcblx0XHRcdC8vXG5cdFx0XHQvLyB0aGlzIGJlY29tZXMgYW4gb3B0aW1pemF0aW9uIHF1ZXN0aW9uIHdoZXJlIGN1cnJlbnRseSB3ZSBzZWUgYSAxIGVsZW1lbnQgb2Zmc2V0IGFzIGFuIGluc2VydGlvblxuXHRcdFx0Ly8gb3IgZGVsZXRpb24gaS5lLiB3ZSBvcHRpbWl6ZSBmb3IgWzAsIDEsIDJdIC0tPiBbOSwgMCwgMSwgMl1cblx0XHRcdC8vIHdoaWxlIGEgbW9yZSB0aGFuIDEgb2Zmc2V0IHdlIHNlZSBhcyBhIHN3YXAuXG5cdFx0XHQvLyBXZSBjb3VsZCBwcm9iYWJseSBidWlsZCBoZXVyaXN0aWNzIGZvciBoYXZpbmcgYW4gb3B0aW1pemVkIGNvdXJzZSBvZiBhY3Rpb24gaGVyZSBhcyB3ZWxsLCBidXRcblx0XHRcdC8vIG1pZ2h0IGdvIGF0IHRoZSBjb3N0IG9mIHNvbWUgYnl0ZXMuXG5cdFx0XHQvL1xuXHRcdFx0Ly8gSWYgd2Ugd2FudGVkIHRvIG9wdGltaXplIGZvciBpLmUuIG9ubHkgc3dhcHMgd2UnZCBqdXN0IGRvIHRoZSBsYXN0IHR3byBjb2RlLWJyYW5jaGVzIGFuZCBoYXZlXG5cdFx0XHQvLyBvbmx5IHRoZSBmaXJzdCBpdGVtIGJlIGEgcmUtc2NvdXRpbmcgYW5kIGFsbCB0aGUgb3RoZXJzIGZhbGwgaW4gdGhlaXIgc2tld2VkIGNvdW50ZXItcGFydC5cblx0XHRcdC8vIFdlIGNvdWxkIGFsc28gZnVydGhlciBvcHRpbWl6ZSBmb3Igc3dhcHNcblx0XHRcdGlmIChtYXRjaGluZ0luZGV4ID09IHNrZXdlZEluZGV4IC0gMSkge1xuXHRcdFx0XHRza2V3LS07XG5cdFx0XHR9IGVsc2UgaWYgKG1hdGNoaW5nSW5kZXggPT0gc2tld2VkSW5kZXggKyAxKSB7XG5cdFx0XHRcdHNrZXcrKztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChtYXRjaGluZ0luZGV4ID4gc2tld2VkSW5kZXgpIHtcblx0XHRcdFx0XHRza2V3LS07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2tldysrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTW92ZSB0aGlzIFZOb2RlJ3MgRE9NIGlmIHRoZSBvcmlnaW5hbCBpbmRleCAobWF0Y2hpbmdJbmRleCkgZG9lc24ndFxuXHRcdFx0XHQvLyBtYXRjaCB0aGUgbmV3IHNrZXcgaW5kZXggKGkgKyBuZXcgc2tldylcblx0XHRcdFx0Ly8gSW4gdGhlIGZvcm1lciB0d28gYnJhbmNoZXMgd2Uga25vdyB0aGF0IGl0IG1hdGNoZXMgYWZ0ZXIgc2tld2luZ1xuXHRcdFx0XHRjaGlsZFZOb2RlLl9mbGFncyB8PSBJTlNFUlRfVk5PREU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmVtb3ZlIHJlbWFpbmluZyBvbGRDaGlsZHJlbiBpZiB0aGVyZSBhcmUgYW55LiBMb29wIGZvcndhcmRzIHNvIHRoYXQgYXMgd2Vcblx0Ly8gdW5tb3VudCBET00gZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBvbGRDaGlsZHJlbiwgd2UgY2FuIGFkanVzdCBvbGREb20gdG9cblx0Ly8gcG9pbnQgdG8gdGhlIG5leHQgY2hpbGQsIHdoaWNoIG5lZWRzIHRvIGJlIHRoZSBmaXJzdCBET00gbm9kZSB0aGF0IHdvbid0IGJlXG5cdC8vIHVubW91bnRlZC5cblx0aWYgKHJlbWFpbmluZ09sZENoaWxkcmVuKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IG9sZENoaWxkcmVuTGVuZ3RoOyBpKyspIHtcblx0XHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5baV07XG5cdFx0XHRpZiAob2xkVk5vZGUgIT0gTlVMTCAmJiAob2xkVk5vZGUuX2ZsYWdzICYgTUFUQ0hFRCkgPT0gMCkge1xuXHRcdFx0XHRpZiAob2xkVk5vZGUuX2RvbSA9PSBvbGREb20pIHtcblx0XHRcdFx0XHRvbGREb20gPSBnZXREb21TaWJsaW5nKG9sZFZOb2RlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHVubW91bnQob2xkVk5vZGUsIG9sZFZOb2RlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gb2xkRG9tO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Vk5vZGV9IHBhcmVudFZOb2RlXG4gKiBAcGFyYW0ge1ByZWFjdEVsZW1lbnR9IG9sZERvbVxuICogQHBhcmFtIHtQcmVhY3RFbGVtZW50fSBwYXJlbnREb21cbiAqIEByZXR1cm5zIHtQcmVhY3RFbGVtZW50fVxuICovXG5mdW5jdGlvbiBpbnNlcnQocGFyZW50Vk5vZGUsIG9sZERvbSwgcGFyZW50RG9tKSB7XG5cdC8vIE5vdGU6IFZOb2RlcyBpbiBuZXN0ZWQgc3VzcGVuZGVkIHRyZWVzIG1heSBiZSBtaXNzaW5nIF9jaGlsZHJlbi5cblxuXHRpZiAodHlwZW9mIHBhcmVudFZOb2RlLnR5cGUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdGxldCBjaGlsZHJlbiA9IHBhcmVudFZOb2RlLl9jaGlsZHJlbjtcblx0XHRmb3IgKGxldCBpID0gMDsgY2hpbGRyZW4gJiYgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoY2hpbGRyZW5baV0pIHtcblx0XHRcdFx0Ly8gSWYgd2UgZW50ZXIgdGhpcyBjb2RlIHBhdGggb24gc0NVIGJhaWxvdXQsIHdoZXJlIHdlIGNvcHlcblx0XHRcdFx0Ly8gb2xkVk5vZGUuX2NoaWxkcmVuIHRvIG5ld1ZOb2RlLl9jaGlsZHJlbiwgd2UgbmVlZCB0byB1cGRhdGUgdGhlIG9sZFxuXHRcdFx0XHQvLyBjaGlsZHJlbidzIF9wYXJlbnQgcG9pbnRlciB0byBwb2ludCB0byB0aGUgbmV3Vk5vZGUgKHBhcmVudFZOb2RlXG5cdFx0XHRcdC8vIGhlcmUpLlxuXHRcdFx0XHRjaGlsZHJlbltpXS5fcGFyZW50ID0gcGFyZW50Vk5vZGU7XG5cdFx0XHRcdG9sZERvbSA9IGluc2VydChjaGlsZHJlbltpXSwgb2xkRG9tLCBwYXJlbnREb20pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvbGREb207XG5cdH0gZWxzZSBpZiAocGFyZW50Vk5vZGUuX2RvbSAhPSBvbGREb20pIHtcblx0XHRpZiAob2xkRG9tICYmIHBhcmVudFZOb2RlLnR5cGUgJiYgIXBhcmVudERvbS5jb250YWlucyhvbGREb20pKSB7XG5cdFx0XHRvbGREb20gPSBnZXREb21TaWJsaW5nKHBhcmVudFZOb2RlKTtcblx0XHR9XG5cdFx0cGFyZW50RG9tLmluc2VydEJlZm9yZShwYXJlbnRWTm9kZS5fZG9tLCBvbGREb20gfHwgTlVMTCk7XG5cdFx0b2xkRG9tID0gcGFyZW50Vk5vZGUuX2RvbTtcblx0fVxuXG5cdGRvIHtcblx0XHRvbGREb20gPSBvbGREb20gJiYgb2xkRG9tLm5leHRTaWJsaW5nO1xuXHR9IHdoaWxlIChvbGREb20gIT0gTlVMTCAmJiBvbGREb20ubm9kZVR5cGUgPT0gOCk7XG5cblx0cmV0dXJuIG9sZERvbTtcbn1cblxuLyoqXG4gKiBGbGF0dGVuIGFuZCBsb29wIHRocm91Z2ggdGhlIGNoaWxkcmVuIG9mIGEgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge0NvbXBvbmVudENoaWxkcmVufSBjaGlsZHJlbiBUaGUgdW5mbGF0dGVuZWQgY2hpbGRyZW4gb2YgYSB2aXJ0dWFsXG4gKiBub2RlXG4gKiBAcmV0dXJucyB7Vk5vZGVbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQ2hpbGRBcnJheShjaGlsZHJlbiwgb3V0KSB7XG5cdG91dCA9IG91dCB8fCBbXTtcblx0aWYgKGNoaWxkcmVuID09IE5VTEwgfHwgdHlwZW9mIGNoaWxkcmVuID09ICdib29sZWFuJykge1xuXHR9IGVsc2UgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XG5cdFx0Y2hpbGRyZW4uc29tZShjaGlsZCA9PiB7XG5cdFx0XHR0b0NoaWxkQXJyYXkoY2hpbGQsIG91dCk7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0b3V0LnB1c2goY2hpbGRyZW4pO1xuXHR9XG5cdHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtWTm9kZX0gY2hpbGRWTm9kZVxuICogQHBhcmFtIHtWTm9kZVtdfSBvbGRDaGlsZHJlblxuICogQHBhcmFtIHtudW1iZXJ9IHNrZXdlZEluZGV4XG4gKiBAcGFyYW0ge251bWJlcn0gcmVtYWluaW5nT2xkQ2hpbGRyZW5cbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGZpbmRNYXRjaGluZ0luZGV4KFxuXHRjaGlsZFZOb2RlLFxuXHRvbGRDaGlsZHJlbixcblx0c2tld2VkSW5kZXgsXG5cdHJlbWFpbmluZ09sZENoaWxkcmVuXG4pIHtcblx0Y29uc3Qga2V5ID0gY2hpbGRWTm9kZS5rZXk7XG5cdGNvbnN0IHR5cGUgPSBjaGlsZFZOb2RlLnR5cGU7XG5cdGxldCBvbGRWTm9kZSA9IG9sZENoaWxkcmVuW3NrZXdlZEluZGV4XTtcblx0Y29uc3QgbWF0Y2hlZCA9IG9sZFZOb2RlICE9IE5VTEwgJiYgKG9sZFZOb2RlLl9mbGFncyAmIE1BVENIRUQpID09IDA7XG5cblx0Ly8gV2Ugb25seSBuZWVkIHRvIHBlcmZvcm0gYSBzZWFyY2ggaWYgdGhlcmUgYXJlIG1vcmUgY2hpbGRyZW5cblx0Ly8gKHJlbWFpbmluZ09sZENoaWxkcmVuKSB0byBzZWFyY2guIEhvd2V2ZXIsIGlmIHRoZSBvbGRWTm9kZSB3ZSBqdXN0IGxvb2tlZFxuXHQvLyBhdCBza2V3ZWRJbmRleCB3YXMgbm90IGFscmVhZHkgdXNlZCBpbiB0aGlzIGRpZmYsIHRoZW4gdGhlcmUgbXVzdCBiZSBhdFxuXHQvLyBsZWFzdCAxIG90aGVyIChzbyBncmVhdGVyIHRoYW4gMSkgcmVtYWluaW5nT2xkQ2hpbGRyZW4gdG8gYXR0ZW1wdCB0byBtYXRjaFxuXHQvLyBhZ2FpbnN0LiBTbyB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbiBjaGVja3MgdGhhdCBlbnN1cmluZ1xuXHQvLyByZW1haW5pbmdPbGRDaGlsZHJlbiA+IDEgaWYgdGhlIG9sZFZOb2RlIGlzIG5vdCBhbHJlYWR5IHVzZWQvbWF0Y2hlZC4gRWxzZVxuXHQvLyBpZiB0aGUgb2xkVk5vZGUgd2FzIG51bGwgb3IgbWF0Y2hlZCwgdGhlbiB0aGVyZSBjb3VsZCBuZWVkcyB0byBiZSBhdCBsZWFzdFxuXHQvLyAxIChha2EgYHJlbWFpbmluZ09sZENoaWxkcmVuID4gMGApIGNoaWxkcmVuIHRvIGZpbmQgYW5kIGNvbXBhcmUgYWdhaW5zdC5cblx0Ly9cblx0Ly8gSWYgdGhlcmUgaXMgYW4gdW5rZXllZCBmdW5jdGlvbmFsIFZOb2RlLCB0aGF0IGlzbid0IGEgYnVpbHQtaW4gbGlrZSBvdXIgRnJhZ21lbnQsXG5cdC8vIHdlIHNob3VsZCBub3Qgc2VhcmNoIGFzIHdlIHJpc2sgcmUtdXNpbmcgc3RhdGUgb2YgYW4gdW5yZWxhdGVkIFZOb2RlLiAocmV2ZXJ0ZWQgZm9yIG5vdylcblx0bGV0IHNob3VsZFNlYXJjaCA9XG5cdFx0Ly8gKHR5cGVvZiB0eXBlICE9ICdmdW5jdGlvbicgfHwgdHlwZSA9PT0gRnJhZ21lbnQgfHwga2V5KSAmJlxuXHRcdHJlbWFpbmluZ09sZENoaWxkcmVuID4gKG1hdGNoZWQgPyAxIDogMCk7XG5cblx0aWYgKFxuXHRcdChvbGRWTm9kZSA9PT0gTlVMTCAmJiBjaGlsZFZOb2RlLmtleSA9PSBudWxsKSB8fFxuXHRcdChtYXRjaGVkICYmIGtleSA9PSBvbGRWTm9kZS5rZXkgJiYgdHlwZSA9PSBvbGRWTm9kZS50eXBlKVxuXHQpIHtcblx0XHRyZXR1cm4gc2tld2VkSW5kZXg7XG5cdH0gZWxzZSBpZiAoc2hvdWxkU2VhcmNoKSB7XG5cdFx0bGV0IHggPSBza2V3ZWRJbmRleCAtIDE7XG5cdFx0bGV0IHkgPSBza2V3ZWRJbmRleCArIDE7XG5cdFx0d2hpbGUgKHggPj0gMCB8fCB5IDwgb2xkQ2hpbGRyZW4ubGVuZ3RoKSB7XG5cdFx0XHRjb25zdCBjaGlsZEluZGV4ID0geCA+PSAwID8geC0tIDogeSsrO1xuXHRcdFx0b2xkVk5vZGUgPSBvbGRDaGlsZHJlbltjaGlsZEluZGV4XTtcblx0XHRcdGlmIChcblx0XHRcdFx0b2xkVk5vZGUgIT0gTlVMTCAmJlxuXHRcdFx0XHQob2xkVk5vZGUuX2ZsYWdzICYgTUFUQ0hFRCkgPT0gMCAmJlxuXHRcdFx0XHRrZXkgPT0gb2xkVk5vZGUua2V5ICYmXG5cdFx0XHRcdHR5cGUgPT0gb2xkVk5vZGUudHlwZVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiBjaGlsZEluZGV4O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiAtMTtcbn1cbiIsICJpbXBvcnQge1xuXHRFTVBUWV9PQkosXG5cdE1BVEhfTkFNRVNQQUNFLFxuXHRNT0RFX0hZRFJBVEUsXG5cdE1PREVfU1VTUEVOREVELFxuXHROVUxMLFxuXHRSRVNFVF9NT0RFLFxuXHRTVkdfTkFNRVNQQUNFLFxuXHRVTkRFRklORUQsXG5cdFhIVE1MX05BTUVTUEFDRVxufSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCwgZ2V0RG9tU2libGluZyB9IGZyb20gJy4uL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJy4uL2NyZWF0ZS1lbGVtZW50JztcbmltcG9ydCB7IGRpZmZDaGlsZHJlbiB9IGZyb20gJy4vY2hpbGRyZW4nO1xuaW1wb3J0IHsgc2V0UHJvcGVydHkgfSBmcm9tICcuL3Byb3BzJztcbmltcG9ydCB7IGFzc2lnbiwgaXNBcnJheSwgcmVtb3ZlTm9kZSwgc2xpY2UgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4uL29wdGlvbnMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50Q2hpbGRyZW59IENvbXBvbmVudENoaWxkcmVuXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gQ29tcG9uZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IFByZWFjdEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IFZOb2RlXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge2FueX0gVFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5SZWY8VD59IFJlZjxUPlxuICovXG5cbi8qKlxuICogRGlmZiB0d28gdmlydHVhbCBub2RlcyBhbmQgYXBwbHkgcHJvcGVyIGNoYW5nZXMgdG8gdGhlIERPTVxuICogQHBhcmFtIHtQcmVhY3RFbGVtZW50fSBwYXJlbnREb20gVGhlIHBhcmVudCBvZiB0aGUgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7Vk5vZGV9IG5ld1ZOb2RlIFRoZSBuZXcgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge1ZOb2RlfSBvbGRWTm9kZSBUaGUgb2xkIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGdsb2JhbENvbnRleHQgVGhlIGN1cnJlbnQgY29udGV4dCBvYmplY3QuIE1vZGlmaWVkIGJ5XG4gKiBnZXRDaGlsZENvbnRleHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lc3BhY2UgQ3VycmVudCBuYW1lc3BhY2Ugb2YgdGhlIERPTSBub2RlIChIVE1MLCBTVkcsIG9yIE1hdGhNTClcbiAqIEBwYXJhbSB7QXJyYXk8UHJlYWN0RWxlbWVudD59IGV4Y2Vzc0RvbUNoaWxkcmVuXG4gKiBAcGFyYW0ge0FycmF5PENvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50cyB3aGljaCBoYXZlIGNhbGxiYWNrc1xuICogdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7UHJlYWN0RWxlbWVudH0gb2xkRG9tIFRoZSBjdXJyZW50IGF0dGFjaGVkIERPTSBlbGVtZW50IGFueSBuZXcgZG9tXG4gKiBlbGVtZW50cyBzaG91bGQgYmUgcGxhY2VkIGFyb3VuZC4gTGlrZWx5IGBudWxsYCBvbiBmaXJzdCByZW5kZXIgKGV4Y2VwdCB3aGVuXG4gKiBoeWRyYXRpbmcpLiBDYW4gYmUgYSBzaWJsaW5nIERPTSBlbGVtZW50IHdoZW4gZGlmZmluZyBGcmFnbWVudHMgdGhhdCBoYXZlXG4gKiBzaWJsaW5ncy4gSW4gbW9zdCBjYXNlcywgaXQgc3RhcnRzIG91dCBhcyBgb2xkQ2hpbGRyZW5bMF0uX2RvbWAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzSHlkcmF0aW5nIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb25cbiAqIEBwYXJhbSB7YW55W119IHJlZlF1ZXVlIGFuIGFycmF5IG9mIGVsZW1lbnRzIG5lZWRlZCB0byBpbnZva2UgcmVmc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZihcblx0cGFyZW50RG9tLFxuXHRuZXdWTm9kZSxcblx0b2xkVk5vZGUsXG5cdGdsb2JhbENvbnRleHQsXG5cdG5hbWVzcGFjZSxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRvbGREb20sXG5cdGlzSHlkcmF0aW5nLFxuXHRyZWZRdWV1ZVxuKSB7XG5cdC8qKiBAdHlwZSB7YW55fSAqL1xuXHRsZXQgdG1wLFxuXHRcdG5ld1R5cGUgPSBuZXdWTm9kZS50eXBlO1xuXG5cdC8vIFdoZW4gcGFzc2luZyB0aHJvdWdoIGNyZWF0ZUVsZW1lbnQgaXQgYXNzaWducyB0aGUgb2JqZWN0XG5cdC8vIGNvbnN0cnVjdG9yIGFzIHVuZGVmaW5lZC4gVGhpcyB0byBwcmV2ZW50IEpTT04taW5qZWN0aW9uLlxuXHRpZiAobmV3Vk5vZGUuY29uc3RydWN0b3IgIT0gVU5ERUZJTkVEKSByZXR1cm4gTlVMTDtcblxuXHQvLyBJZiB0aGUgcHJldmlvdXMgZGlmZiBiYWlsZWQgb3V0LCByZXN1bWUgY3JlYXRpbmcvaHlkcmF0aW5nLlxuXHRpZiAob2xkVk5vZGUuX2ZsYWdzICYgTU9ERV9TVVNQRU5ERUQpIHtcblx0XHRpc0h5ZHJhdGluZyA9ICEhKG9sZFZOb2RlLl9mbGFncyAmIE1PREVfSFlEUkFURSk7XG5cdFx0b2xkRG9tID0gbmV3Vk5vZGUuX2RvbSA9IG9sZFZOb2RlLl9kb207XG5cdFx0ZXhjZXNzRG9tQ2hpbGRyZW4gPSBbb2xkRG9tXTtcblx0fVxuXG5cdGlmICgodG1wID0gb3B0aW9ucy5fZGlmZikpIHRtcChuZXdWTm9kZSk7XG5cblx0b3V0ZXI6IGlmICh0eXBlb2YgbmV3VHlwZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGxldCBjLCBpc05ldywgb2xkUHJvcHMsIG9sZFN0YXRlLCBzbmFwc2hvdCwgY2xlYXJQcm9jZXNzaW5nRXhjZXB0aW9uO1xuXHRcdFx0bGV0IG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHM7XG5cdFx0XHRjb25zdCBpc0NsYXNzQ29tcG9uZW50ID1cblx0XHRcdFx0J3Byb3RvdHlwZScgaW4gbmV3VHlwZSAmJiBuZXdUeXBlLnByb3RvdHlwZS5yZW5kZXI7XG5cblx0XHRcdC8vIE5lY2Vzc2FyeSBmb3IgY3JlYXRlQ29udGV4dCBhcGkuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB3aWxsIHBhc3Ncblx0XHRcdC8vIHRoZSBjb250ZXh0IHZhbHVlIGFzIGB0aGlzLmNvbnRleHRgIGp1c3QgZm9yIHRoaXMgY29tcG9uZW50LlxuXHRcdFx0dG1wID0gbmV3VHlwZS5jb250ZXh0VHlwZTtcblx0XHRcdGxldCBwcm92aWRlciA9IHRtcCAmJiBnbG9iYWxDb250ZXh0W3RtcC5faWRdO1xuXHRcdFx0bGV0IGNvbXBvbmVudENvbnRleHQgPSB0bXBcblx0XHRcdFx0PyBwcm92aWRlclxuXHRcdFx0XHRcdD8gcHJvdmlkZXIucHJvcHMudmFsdWVcblx0XHRcdFx0XHQ6IHRtcC5fZGVmYXVsdFZhbHVlXG5cdFx0XHRcdDogZ2xvYmFsQ29udGV4dDtcblxuXHRcdFx0Ly8gR2V0IGNvbXBvbmVudCBhbmQgc2V0IGl0IHRvIGBjYFxuXHRcdFx0aWYgKG9sZFZOb2RlLl9jb21wb25lbnQpIHtcblx0XHRcdFx0YyA9IG5ld1ZOb2RlLl9jb21wb25lbnQgPSBvbGRWTm9kZS5fY29tcG9uZW50O1xuXHRcdFx0XHRjbGVhclByb2Nlc3NpbmdFeGNlcHRpb24gPSBjLl9wcm9jZXNzaW5nRXhjZXB0aW9uID0gYy5fcGVuZGluZ0Vycm9yO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gSW5zdGFudGlhdGUgdGhlIG5ldyBjb21wb25lbnRcblx0XHRcdFx0aWYgKGlzQ2xhc3NDb21wb25lbnQpIHtcblx0XHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRoZSBjaGVjayBhYm92ZSB2ZXJpZmllcyB0aGF0IG5ld1R5cGUgaXMgc3VwcG9zZSB0byBiZSBjb25zdHJ1Y3RlZFxuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jb21wb25lbnQgPSBjID0gbmV3IG5ld1R5cGUobmV3UHJvcHMsIGNvbXBvbmVudENvbnRleHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRydXN0IG1lLCBDb21wb25lbnQgaW1wbGVtZW50cyB0aGUgaW50ZXJmYWNlIHdlIHdhbnRcblx0XHRcdFx0XHRuZXdWTm9kZS5fY29tcG9uZW50ID0gYyA9IG5ldyBCYXNlQ29tcG9uZW50KFxuXHRcdFx0XHRcdFx0bmV3UHJvcHMsXG5cdFx0XHRcdFx0XHRjb21wb25lbnRDb250ZXh0XG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRjLmNvbnN0cnVjdG9yID0gbmV3VHlwZTtcblx0XHRcdFx0XHRjLnJlbmRlciA9IGRvUmVuZGVyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChwcm92aWRlcikgcHJvdmlkZXIuc3ViKGMpO1xuXG5cdFx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdFx0aWYgKCFjLnN0YXRlKSBjLnN0YXRlID0ge307XG5cdFx0XHRcdGMuY29udGV4dCA9IGNvbXBvbmVudENvbnRleHQ7XG5cdFx0XHRcdGMuX2dsb2JhbENvbnRleHQgPSBnbG9iYWxDb250ZXh0O1xuXHRcdFx0XHRpc05ldyA9IGMuX2RpcnR5ID0gdHJ1ZTtcblx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzID0gW107XG5cdFx0XHRcdGMuX3N0YXRlQ2FsbGJhY2tzID0gW107XG5cdFx0XHR9XG5cblx0XHRcdC8vIEludm9rZSBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcblx0XHRcdGlmIChpc0NsYXNzQ29tcG9uZW50ICYmIGMuX25leHRTdGF0ZSA9PSBOVUxMKSB7XG5cdFx0XHRcdGMuX25leHRTdGF0ZSA9IGMuc3RhdGU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc0NsYXNzQ29tcG9uZW50ICYmIG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICE9IE5VTEwpIHtcblx0XHRcdFx0aWYgKGMuX25leHRTdGF0ZSA9PSBjLnN0YXRlKSB7XG5cdFx0XHRcdFx0Yy5fbmV4dFN0YXRlID0gYXNzaWduKHt9LCBjLl9uZXh0U3RhdGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YXNzaWduKFxuXHRcdFx0XHRcdGMuX25leHRTdGF0ZSxcblx0XHRcdFx0XHRuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXdQcm9wcywgYy5fbmV4dFN0YXRlKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRvbGRQcm9wcyA9IGMucHJvcHM7XG5cdFx0XHRvbGRTdGF0ZSA9IGMuc3RhdGU7XG5cdFx0XHRjLl92bm9kZSA9IG5ld1ZOb2RlO1xuXG5cdFx0XHQvLyBJbnZva2UgcHJlLXJlbmRlciBsaWZlY3ljbGUgbWV0aG9kc1xuXHRcdFx0aWYgKGlzTmV3KSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRpc0NsYXNzQ29tcG9uZW50ICYmXG5cdFx0XHRcdFx0bmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT0gTlVMTCAmJlxuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbE1vdW50ICE9IE5VTExcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsTW91bnQoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpc0NsYXNzQ29tcG9uZW50ICYmIGMuY29tcG9uZW50RGlkTW91bnQgIT0gTlVMTCkge1xuXHRcdFx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGMuY29tcG9uZW50RGlkTW91bnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0aXNDbGFzc0NvbXBvbmVudCAmJlxuXHRcdFx0XHRcdG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09IE5VTEwgJiZcblx0XHRcdFx0XHRuZXdQcm9wcyAhPT0gb2xkUHJvcHMgJiZcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgIT0gTlVMTFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHMsIGNvbXBvbmVudENvbnRleHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdCghYy5fZm9yY2UgJiZcblx0XHRcdFx0XHRcdGMuc2hvdWxkQ29tcG9uZW50VXBkYXRlICE9IE5VTEwgJiZcblx0XHRcdFx0XHRcdGMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuXHRcdFx0XHRcdFx0XHRuZXdQcm9wcyxcblx0XHRcdFx0XHRcdFx0Yy5fbmV4dFN0YXRlLFxuXHRcdFx0XHRcdFx0XHRjb21wb25lbnRDb250ZXh0XG5cdFx0XHRcdFx0XHQpID09PSBmYWxzZSkgfHxcblx0XHRcdFx0XHRuZXdWTm9kZS5fb3JpZ2luYWwgPT0gb2xkVk5vZGUuX29yaWdpbmFsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdC8vIE1vcmUgaW5mbyBhYm91dCB0aGlzIGhlcmU6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0pvdmlEZUNyb29jay9iZWM1ZjJjZTkzNTQ0ZDJlNjA3MGVmOGUwMDM2ZTRlOFxuXHRcdFx0XHRcdGlmIChuZXdWTm9kZS5fb3JpZ2luYWwgIT0gb2xkVk5vZGUuX29yaWdpbmFsKSB7XG5cdFx0XHRcdFx0XHQvLyBXaGVuIHdlIGFyZSBkZWFsaW5nIHdpdGggYSBiYWlsIGJlY2F1c2Ugb2Ygc0NVIHdlIGhhdmUgdG8gdXBkYXRlXG5cdFx0XHRcdFx0XHQvLyB0aGUgcHJvcHMsIHN0YXRlIGFuZCBkaXJ0eS1zdGF0ZS5cblx0XHRcdFx0XHRcdC8vIHdoZW4gd2UgYXJlIGRlYWxpbmcgd2l0aCBzdHJpY3QtZXF1YWxpdHkgd2UgZG9uJ3QgYXMgdGhlIGNoaWxkIGNvdWxkIHN0aWxsXG5cdFx0XHRcdFx0XHQvLyBiZSBkaXJ0aWVkIHNlZSAjMzg4M1xuXHRcdFx0XHRcdFx0Yy5wcm9wcyA9IG5ld1Byb3BzO1xuXHRcdFx0XHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblx0XHRcdFx0XHRcdGMuX2RpcnR5ID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2RvbSA9IG9sZFZOb2RlLl9kb207XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NoaWxkcmVuID0gb2xkVk5vZGUuX2NoaWxkcmVuO1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbi5zb21lKHZub2RlID0+IHtcblx0XHRcdFx0XHRcdGlmICh2bm9kZSkgdm5vZGUuX3BhcmVudCA9IG5ld1ZOb2RlO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjLl9zdGF0ZUNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goYy5fc3RhdGVDYWxsYmFja3NbaV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjLl9zdGF0ZUNhbGxiYWNrcyA9IFtdO1xuXG5cdFx0XHRcdFx0aWYgKGMuX3JlbmRlckNhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGNvbW1pdFF1ZXVlLnB1c2goYyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWsgb3V0ZXI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYy5jb21wb25lbnRXaWxsVXBkYXRlICE9IE5VTEwpIHtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxVcGRhdGUobmV3UHJvcHMsIGMuX25leHRTdGF0ZSwgY29tcG9uZW50Q29udGV4dCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaXNDbGFzc0NvbXBvbmVudCAmJiBjLmNvbXBvbmVudERpZFVwZGF0ZSAhPSBOVUxMKSB7XG5cdFx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRcdFx0Yy5jb21wb25lbnREaWRVcGRhdGUob2xkUHJvcHMsIG9sZFN0YXRlLCBzbmFwc2hvdCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Yy5jb250ZXh0ID0gY29tcG9uZW50Q29udGV4dDtcblx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdGMuX3BhcmVudERvbSA9IHBhcmVudERvbTtcblx0XHRcdGMuX2ZvcmNlID0gZmFsc2U7XG5cblx0XHRcdGxldCByZW5kZXJIb29rID0gb3B0aW9ucy5fcmVuZGVyLFxuXHRcdFx0XHRjb3VudCA9IDA7XG5cdFx0XHRpZiAoaXNDbGFzc0NvbXBvbmVudCkge1xuXHRcdFx0XHRjLnN0YXRlID0gYy5fbmV4dFN0YXRlO1xuXHRcdFx0XHRjLl9kaXJ0eSA9IGZhbHNlO1xuXG5cdFx0XHRcdGlmIChyZW5kZXJIb29rKSByZW5kZXJIb29rKG5ld1ZOb2RlKTtcblxuXHRcdFx0XHR0bXAgPSBjLnJlbmRlcihjLnByb3BzLCBjLnN0YXRlLCBjLmNvbnRleHQpO1xuXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYy5fc3RhdGVDYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MucHVzaChjLl9zdGF0ZUNhbGxiYWNrc1tpXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Yy5fc3RhdGVDYWxsYmFja3MgPSBbXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRjLl9kaXJ0eSA9IGZhbHNlO1xuXHRcdFx0XHRcdGlmIChyZW5kZXJIb29rKSByZW5kZXJIb29rKG5ld1ZOb2RlKTtcblxuXHRcdFx0XHRcdHRtcCA9IGMucmVuZGVyKGMucHJvcHMsIGMuc3RhdGUsIGMuY29udGV4dCk7XG5cblx0XHRcdFx0XHQvLyBIYW5kbGUgc2V0U3RhdGUgY2FsbGVkIGluIHJlbmRlciwgc2VlICMyNTUzXG5cdFx0XHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblx0XHRcdFx0fSB3aGlsZSAoYy5fZGlydHkgJiYgKytjb3VudCA8IDI1KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSGFuZGxlIHNldFN0YXRlIGNhbGxlZCBpbiByZW5kZXIsIHNlZSAjMjU1M1xuXHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblxuXHRcdFx0aWYgKGMuZ2V0Q2hpbGRDb250ZXh0ICE9IE5VTEwpIHtcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCA9IGFzc2lnbihhc3NpZ24oe30sIGdsb2JhbENvbnRleHQpLCBjLmdldENoaWxkQ29udGV4dCgpKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzQ2xhc3NDb21wb25lbnQgJiYgIWlzTmV3ICYmIGMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgIT0gTlVMTCkge1xuXHRcdFx0XHRzbmFwc2hvdCA9IGMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUob2xkUHJvcHMsIG9sZFN0YXRlKTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGlzVG9wTGV2ZWxGcmFnbWVudCA9XG5cdFx0XHRcdHRtcCAhPSBOVUxMICYmIHRtcC50eXBlID09PSBGcmFnbWVudCAmJiB0bXAua2V5ID09IE5VTEw7XG5cdFx0XHRsZXQgcmVuZGVyUmVzdWx0ID0gdG1wO1xuXG5cdFx0XHRpZiAoaXNUb3BMZXZlbEZyYWdtZW50KSB7XG5cdFx0XHRcdHJlbmRlclJlc3VsdCA9IGNsb25lTm9kZSh0bXAucHJvcHMuY2hpbGRyZW4pO1xuXHRcdFx0fVxuXG5cdFx0XHRvbGREb20gPSBkaWZmQ2hpbGRyZW4oXG5cdFx0XHRcdHBhcmVudERvbSxcblx0XHRcdFx0aXNBcnJheShyZW5kZXJSZXN1bHQpID8gcmVuZGVyUmVzdWx0IDogW3JlbmRlclJlc3VsdF0sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCxcblx0XHRcdFx0bmFtZXNwYWNlLFxuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRcdG9sZERvbSxcblx0XHRcdFx0aXNIeWRyYXRpbmcsXG5cdFx0XHRcdHJlZlF1ZXVlXG5cdFx0XHQpO1xuXG5cdFx0XHRjLmJhc2UgPSBuZXdWTm9kZS5fZG9tO1xuXG5cdFx0XHQvLyBXZSBzdWNjZXNzZnVsbHkgcmVuZGVyZWQgdGhpcyBWTm9kZSwgdW5zZXQgYW55IHN0b3JlZCBoeWRyYXRpb24vYmFpbG91dCBzdGF0ZTpcblx0XHRcdG5ld1ZOb2RlLl9mbGFncyAmPSBSRVNFVF9NT0RFO1xuXG5cdFx0XHRpZiAoYy5fcmVuZGVyQ2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdFx0XHRjb21taXRRdWV1ZS5wdXNoKGMpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2xlYXJQcm9jZXNzaW5nRXhjZXB0aW9uKSB7XG5cdFx0XHRcdGMuX3BlbmRpbmdFcnJvciA9IGMuX3Byb2Nlc3NpbmdFeGNlcHRpb24gPSBOVUxMO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld1ZOb2RlLl9vcmlnaW5hbCA9IE5VTEw7XG5cdFx0XHQvLyBpZiBoeWRyYXRpbmcgb3IgY3JlYXRpbmcgaW5pdGlhbCB0cmVlLCBiYWlsb3V0IHByZXNlcnZlcyBET006XG5cdFx0XHRpZiAoaXNIeWRyYXRpbmcgfHwgZXhjZXNzRG9tQ2hpbGRyZW4gIT0gTlVMTCkge1xuXHRcdFx0XHRpZiAoZS50aGVuKSB7XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2ZsYWdzIHw9IGlzSHlkcmF0aW5nXG5cdFx0XHRcdFx0XHQ/IE1PREVfSFlEUkFURSB8IE1PREVfU1VTUEVOREVEXG5cdFx0XHRcdFx0XHQ6IE1PREVfU1VTUEVOREVEO1xuXG5cdFx0XHRcdFx0d2hpbGUgKG9sZERvbSAmJiBvbGREb20ubm9kZVR5cGUgPT0gOCAmJiBvbGREb20ubmV4dFNpYmxpbmcpIHtcblx0XHRcdFx0XHRcdG9sZERvbSA9IG9sZERvbS5uZXh0U2libGluZztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbltleGNlc3NEb21DaGlsZHJlbi5pbmRleE9mKG9sZERvbSldID0gTlVMTDtcblx0XHRcdFx0XHRuZXdWTm9kZS5fZG9tID0gb2xkRG9tO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSBleGNlc3NEb21DaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRcdFx0XHRyZW1vdmVOb2RlKGV4Y2Vzc0RvbUNoaWxkcmVuW2ldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bWFya0FzRm9yY2UobmV3Vk5vZGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRuZXdWTm9kZS5fZG9tID0gb2xkVk5vZGUuX2RvbTtcblx0XHRcdFx0bmV3Vk5vZGUuX2NoaWxkcmVuID0gb2xkVk5vZGUuX2NoaWxkcmVuO1xuXHRcdFx0XHRpZiAoIWUudGhlbikgbWFya0FzRm9yY2UobmV3Vk5vZGUpO1xuXHRcdFx0fVxuXHRcdFx0b3B0aW9ucy5fY2F0Y2hFcnJvcihlLCBuZXdWTm9kZSwgb2xkVk5vZGUpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChcblx0XHRleGNlc3NEb21DaGlsZHJlbiA9PSBOVUxMICYmXG5cdFx0bmV3Vk5vZGUuX29yaWdpbmFsID09IG9sZFZOb2RlLl9vcmlnaW5hbFxuXHQpIHtcblx0XHRuZXdWTm9kZS5fY2hpbGRyZW4gPSBvbGRWTm9kZS5fY2hpbGRyZW47XG5cdFx0bmV3Vk5vZGUuX2RvbSA9IG9sZFZOb2RlLl9kb207XG5cdH0gZWxzZSB7XG5cdFx0b2xkRG9tID0gbmV3Vk5vZGUuX2RvbSA9IGRpZmZFbGVtZW50Tm9kZXMoXG5cdFx0XHRvbGRWTm9kZS5fZG9tLFxuXHRcdFx0bmV3Vk5vZGUsXG5cdFx0XHRvbGRWTm9kZSxcblx0XHRcdGdsb2JhbENvbnRleHQsXG5cdFx0XHRuYW1lc3BhY2UsXG5cdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0aXNIeWRyYXRpbmcsXG5cdFx0XHRyZWZRdWV1ZVxuXHRcdCk7XG5cdH1cblxuXHRpZiAoKHRtcCA9IG9wdGlvbnMuZGlmZmVkKSkgdG1wKG5ld1ZOb2RlKTtcblxuXHRyZXR1cm4gbmV3Vk5vZGUuX2ZsYWdzICYgTU9ERV9TVVNQRU5ERUQgPyB1bmRlZmluZWQgOiBvbGREb207XG59XG5cbmZ1bmN0aW9uIG1hcmtBc0ZvcmNlKHZub2RlKSB7XG5cdGlmICh2bm9kZSAmJiB2bm9kZS5fY29tcG9uZW50KSB2bm9kZS5fY29tcG9uZW50Ll9mb3JjZSA9IHRydWU7XG5cdGlmICh2bm9kZSAmJiB2bm9kZS5fY2hpbGRyZW4pIHZub2RlLl9jaGlsZHJlbi5mb3JFYWNoKG1hcmtBc0ZvcmNlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PENvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7Vk5vZGV9IHJvb3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbW1pdFJvb3QoY29tbWl0UXVldWUsIHJvb3QsIHJlZlF1ZXVlKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcmVmUXVldWUubGVuZ3RoOyBpKyspIHtcblx0XHRhcHBseVJlZihyZWZRdWV1ZVtpXSwgcmVmUXVldWVbKytpXSwgcmVmUXVldWVbKytpXSk7XG5cdH1cblxuXHRpZiAob3B0aW9ucy5fY29tbWl0KSBvcHRpb25zLl9jb21taXQocm9vdCwgY29tbWl0UXVldWUpO1xuXG5cdGNvbW1pdFF1ZXVlLnNvbWUoYyA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgUmV1c2UgdGhlIGNvbW1pdFF1ZXVlIHZhcmlhYmxlIGhlcmUgc28gdGhlIHR5cGUgY2hhbmdlc1xuXHRcdFx0Y29tbWl0UXVldWUgPSBjLl9yZW5kZXJDYWxsYmFja3M7XG5cdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdGNvbW1pdFF1ZXVlLnNvbWUoY2IgPT4ge1xuXHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFNlZSBhYm92ZSBjb21tZW50IG9uIGNvbW1pdFF1ZXVlXG5cdFx0XHRcdGNiLmNhbGwoYyk7XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIGMuX3Zub2RlKTtcblx0XHR9XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBjbG9uZU5vZGUobm9kZSkge1xuXHRpZiAoXG5cdFx0dHlwZW9mIG5vZGUgIT0gJ29iamVjdCcgfHxcblx0XHRub2RlID09IE5VTEwgfHxcblx0XHQobm9kZS5fZGVwdGggJiYgbm9kZS5fZGVwdGggPiAwKVxuXHQpIHtcblx0XHRyZXR1cm4gbm9kZTtcblx0fVxuXG5cdGlmIChpc0FycmF5KG5vZGUpKSB7XG5cdFx0cmV0dXJuIG5vZGUubWFwKGNsb25lTm9kZSk7XG5cdH1cblxuXHRyZXR1cm4gYXNzaWduKHt9LCBub2RlKTtcbn1cblxuLyoqXG4gKiBEaWZmIHR3byB2aXJ0dWFsIG5vZGVzIHJlcHJlc2VudGluZyBET00gZWxlbWVudFxuICogQHBhcmFtIHtQcmVhY3RFbGVtZW50fSBkb20gVGhlIERPTSBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgdmlydHVhbCBub2Rlc1xuICogYmVpbmcgZGlmZmVkXG4gKiBAcGFyYW0ge1ZOb2RlfSBuZXdWTm9kZSBUaGUgbmV3IHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtWTm9kZX0gb2xkVk5vZGUgVGhlIG9sZCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBnbG9iYWxDb250ZXh0IFRoZSBjdXJyZW50IGNvbnRleHQgb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZXNwYWNlIEN1cnJlbnQgbmFtZXNwYWNlIG9mIHRoZSBET00gbm9kZSAoSFRNTCwgU1ZHLCBvciBNYXRoTUwpXG4gKiBAcGFyYW0ge0FycmF5PFByZWFjdEVsZW1lbnQ+fSBleGNlc3NEb21DaGlsZHJlblxuICogQHBhcmFtIHtBcnJheTxDb21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHMgd2hpY2ggaGF2ZSBjYWxsYmFja3NcbiAqIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzSHlkcmF0aW5nIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb25cbiAqIEBwYXJhbSB7YW55W119IHJlZlF1ZXVlIGFuIGFycmF5IG9mIGVsZW1lbnRzIG5lZWRlZCB0byBpbnZva2UgcmVmc1xuICogQHJldHVybnMge1ByZWFjdEVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGRpZmZFbGVtZW50Tm9kZXMoXG5cdGRvbSxcblx0bmV3Vk5vZGUsXG5cdG9sZFZOb2RlLFxuXHRnbG9iYWxDb250ZXh0LFxuXHRuYW1lc3BhY2UsXG5cdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRjb21taXRRdWV1ZSxcblx0aXNIeWRyYXRpbmcsXG5cdHJlZlF1ZXVlXG4pIHtcblx0bGV0IG9sZFByb3BzID0gb2xkVk5vZGUucHJvcHM7XG5cdGxldCBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xuXHRsZXQgbm9kZVR5cGUgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKG5ld1ZOb2RlLnR5cGUpO1xuXHQvKiogQHR5cGUge2FueX0gKi9cblx0bGV0IGk7XG5cdC8qKiBAdHlwZSB7eyBfX2h0bWw/OiBzdHJpbmcgfX0gKi9cblx0bGV0IG5ld0h0bWw7XG5cdC8qKiBAdHlwZSB7eyBfX2h0bWw/OiBzdHJpbmcgfX0gKi9cblx0bGV0IG9sZEh0bWw7XG5cdC8qKiBAdHlwZSB7Q29tcG9uZW50Q2hpbGRyZW59ICovXG5cdGxldCBuZXdDaGlsZHJlbjtcblx0bGV0IHZhbHVlO1xuXHRsZXQgaW5wdXRWYWx1ZTtcblx0bGV0IGNoZWNrZWQ7XG5cblx0Ly8gVHJhY2tzIGVudGVyaW5nIGFuZCBleGl0aW5nIG5hbWVzcGFjZXMgd2hlbiBkZXNjZW5kaW5nIHRocm91Z2ggdGhlIHRyZWUuXG5cdGlmIChub2RlVHlwZSA9PSAnc3ZnJykgbmFtZXNwYWNlID0gU1ZHX05BTUVTUEFDRTtcblx0ZWxzZSBpZiAobm9kZVR5cGUgPT0gJ21hdGgnKSBuYW1lc3BhY2UgPSBNQVRIX05BTUVTUEFDRTtcblx0ZWxzZSBpZiAoIW5hbWVzcGFjZSkgbmFtZXNwYWNlID0gWEhUTUxfTkFNRVNQQUNFO1xuXG5cdGlmIChleGNlc3NEb21DaGlsZHJlbiAhPSBOVUxMKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGV4Y2Vzc0RvbUNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YWx1ZSA9IGV4Y2Vzc0RvbUNoaWxkcmVuW2ldO1xuXG5cdFx0XHQvLyBpZiBuZXdWTm9kZSBtYXRjaGVzIGFuIGVsZW1lbnQgaW4gZXhjZXNzRG9tQ2hpbGRyZW4gb3IgdGhlIGBkb21gXG5cdFx0XHQvLyBhcmd1bWVudCBtYXRjaGVzIGFuIGVsZW1lbnQgaW4gZXhjZXNzRG9tQ2hpbGRyZW4sIHJlbW92ZSBpdCBmcm9tXG5cdFx0XHQvLyBleGNlc3NEb21DaGlsZHJlbiBzbyBpdCBpc24ndCBsYXRlciByZW1vdmVkIGluIGRpZmZDaGlsZHJlblxuXHRcdFx0aWYgKFxuXHRcdFx0XHR2YWx1ZSAmJlxuXHRcdFx0XHQnc2V0QXR0cmlidXRlJyBpbiB2YWx1ZSA9PSAhIW5vZGVUeXBlICYmXG5cdFx0XHRcdChub2RlVHlwZSA/IHZhbHVlLmxvY2FsTmFtZSA9PSBub2RlVHlwZSA6IHZhbHVlLm5vZGVUeXBlID09IDMpXG5cdFx0XHQpIHtcblx0XHRcdFx0ZG9tID0gdmFsdWU7XG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuW2ldID0gTlVMTDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKGRvbSA9PSBOVUxMKSB7XG5cdFx0aWYgKG5vZGVUeXBlID09IE5VTEwpIHtcblx0XHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdQcm9wcyk7XG5cdFx0fVxuXG5cdFx0ZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuXHRcdFx0bmFtZXNwYWNlLFxuXHRcdFx0bm9kZVR5cGUsXG5cdFx0XHRuZXdQcm9wcy5pcyAmJiBuZXdQcm9wc1xuXHRcdCk7XG5cblx0XHQvLyB3ZSBhcmUgY3JlYXRpbmcgYSBuZXcgbm9kZSwgc28gd2UgY2FuIGFzc3VtZSB0aGlzIGlzIGEgbmV3IHN1YnRyZWUgKGluXG5cdFx0Ly8gY2FzZSB3ZSBhcmUgaHlkcmF0aW5nKSwgdGhpcyBkZW9wdHMgdGhlIGh5ZHJhdGVcblx0XHRpZiAoaXNIeWRyYXRpbmcpIHtcblx0XHRcdGlmIChvcHRpb25zLl9oeWRyYXRpb25NaXNtYXRjaClcblx0XHRcdFx0b3B0aW9ucy5faHlkcmF0aW9uTWlzbWF0Y2gobmV3Vk5vZGUsIGV4Y2Vzc0RvbUNoaWxkcmVuKTtcblx0XHRcdGlzSHlkcmF0aW5nID0gZmFsc2U7XG5cdFx0fVxuXHRcdC8vIHdlIGNyZWF0ZWQgYSBuZXcgcGFyZW50LCBzbyBub25lIG9mIHRoZSBwcmV2aW91c2x5IGF0dGFjaGVkIGNoaWxkcmVuIGNhbiBiZSByZXVzZWQ6XG5cdFx0ZXhjZXNzRG9tQ2hpbGRyZW4gPSBOVUxMO1xuXHR9XG5cblx0aWYgKG5vZGVUeXBlID09IE5VTEwpIHtcblx0XHQvLyBEdXJpbmcgaHlkcmF0aW9uLCB3ZSBzdGlsbCBoYXZlIHRvIHNwbGl0IG1lcmdlZCB0ZXh0IGZyb20gU1NSJ2QgSFRNTC5cblx0XHRpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzICYmICghaXNIeWRyYXRpbmcgfHwgZG9tLmRhdGEgIT0gbmV3UHJvcHMpKSB7XG5cdFx0XHRkb20uZGF0YSA9IG5ld1Byb3BzO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBJZiBleGNlc3NEb21DaGlsZHJlbiB3YXMgbm90IG51bGwsIHJlcG9wdWxhdGUgaXQgd2l0aCB0aGUgY3VycmVudCBlbGVtZW50J3MgY2hpbGRyZW46XG5cdFx0ZXhjZXNzRG9tQ2hpbGRyZW4gPSBleGNlc3NEb21DaGlsZHJlbiAmJiBzbGljZS5jYWxsKGRvbS5jaGlsZE5vZGVzKTtcblxuXHRcdG9sZFByb3BzID0gb2xkVk5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xuXG5cdFx0Ly8gSWYgd2UgYXJlIGluIGEgc2l0dWF0aW9uIHdoZXJlIHdlIGFyZSBub3QgaHlkcmF0aW5nIGJ1dCBhcmUgdXNpbmdcblx0XHQvLyBleGlzdGluZyBET00gKGUuZy4gcmVwbGFjZU5vZGUpIHdlIHNob3VsZCByZWFkIHRoZSBleGlzdGluZyBET01cblx0XHQvLyBhdHRyaWJ1dGVzIHRvIGRpZmYgdGhlbVxuXHRcdGlmICghaXNIeWRyYXRpbmcgJiYgZXhjZXNzRG9tQ2hpbGRyZW4gIT0gTlVMTCkge1xuXHRcdFx0b2xkUHJvcHMgPSB7fTtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBkb20uYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YWx1ZSA9IGRvbS5hdHRyaWJ1dGVzW2ldO1xuXHRcdFx0XHRvbGRQcm9wc1t2YWx1ZS5uYW1lXSA9IHZhbHVlLnZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoaSBpbiBvbGRQcm9wcykge1xuXHRcdFx0dmFsdWUgPSBvbGRQcm9wc1tpXTtcblx0XHRcdGlmIChpID09ICdjaGlsZHJlbicpIHtcblx0XHRcdH0gZWxzZSBpZiAoaSA9PSAnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnKSB7XG5cdFx0XHRcdG9sZEh0bWwgPSB2YWx1ZTtcblx0XHRcdH0gZWxzZSBpZiAoIShpIGluIG5ld1Byb3BzKSkge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0KGkgPT0gJ3ZhbHVlJyAmJiAnZGVmYXVsdFZhbHVlJyBpbiBuZXdQcm9wcykgfHxcblx0XHRcdFx0XHQoaSA9PSAnY2hlY2tlZCcgJiYgJ2RlZmF1bHRDaGVja2VkJyBpbiBuZXdQcm9wcylcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2V0UHJvcGVydHkoZG9tLCBpLCBOVUxMLCB2YWx1ZSwgbmFtZXNwYWNlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBEdXJpbmcgaHlkcmF0aW9uLCBwcm9wcyBhcmUgbm90IGRpZmZlZCBhdCBhbGwgKGluY2x1ZGluZyBkYW5nZXJvdXNseVNldElubmVySFRNTClcblx0XHQvLyBAVE9ETyB3ZSBzaG91bGQgd2FybiBpbiBkZWJ1ZyBtb2RlIHdoZW4gcHJvcHMgZG9uJ3QgbWF0Y2ggaGVyZS5cblx0XHRmb3IgKGkgaW4gbmV3UHJvcHMpIHtcblx0XHRcdHZhbHVlID0gbmV3UHJvcHNbaV07XG5cdFx0XHRpZiAoaSA9PSAnY2hpbGRyZW4nKSB7XG5cdFx0XHRcdG5ld0NoaWxkcmVuID0gdmFsdWU7XG5cdFx0XHR9IGVsc2UgaWYgKGkgPT0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJykge1xuXHRcdFx0XHRuZXdIdG1sID0gdmFsdWU7XG5cdFx0XHR9IGVsc2UgaWYgKGkgPT0gJ3ZhbHVlJykge1xuXHRcdFx0XHRpbnB1dFZhbHVlID0gdmFsdWU7XG5cdFx0XHR9IGVsc2UgaWYgKGkgPT0gJ2NoZWNrZWQnKSB7XG5cdFx0XHRcdGNoZWNrZWQgPSB2YWx1ZTtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdCghaXNIeWRyYXRpbmcgfHwgdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpICYmXG5cdFx0XHRcdG9sZFByb3BzW2ldICE9PSB2YWx1ZVxuXHRcdFx0KSB7XG5cdFx0XHRcdHNldFByb3BlcnR5KGRvbSwgaSwgdmFsdWUsIG9sZFByb3BzW2ldLCBuYW1lc3BhY2UpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIElmIHRoZSBuZXcgdm5vZGUgZGlkbid0IGhhdmUgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsIGRpZmYgaXRzIGNoaWxkcmVuXG5cdFx0aWYgKG5ld0h0bWwpIHtcblx0XHRcdC8vIEF2b2lkIHJlLWFwcGx5aW5nIHRoZSBzYW1lICdfX2h0bWwnIGlmIGl0IGRpZCBub3QgY2hhbmdlZCBiZXR3ZWVuIHJlLXJlbmRlclxuXHRcdFx0aWYgKFxuXHRcdFx0XHQhaXNIeWRyYXRpbmcgJiZcblx0XHRcdFx0KCFvbGRIdG1sIHx8XG5cdFx0XHRcdFx0KG5ld0h0bWwuX19odG1sICE9IG9sZEh0bWwuX19odG1sICYmIG5ld0h0bWwuX19odG1sICE9IGRvbS5pbm5lckhUTUwpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGRvbS5pbm5lckhUTUwgPSBuZXdIdG1sLl9faHRtbDtcblx0XHRcdH1cblxuXHRcdFx0bmV3Vk5vZGUuX2NoaWxkcmVuID0gW107XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChvbGRIdG1sKSBkb20uaW5uZXJIVE1MID0gJyc7XG5cblx0XHRcdGRpZmZDaGlsZHJlbihcblx0XHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0XHRuZXdWTm9kZS50eXBlID09ICd0ZW1wbGF0ZScgPyBkb20uY29udGVudCA6IGRvbSxcblx0XHRcdFx0aXNBcnJheShuZXdDaGlsZHJlbikgPyBuZXdDaGlsZHJlbiA6IFtuZXdDaGlsZHJlbl0sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCxcblx0XHRcdFx0bm9kZVR5cGUgPT0gJ2ZvcmVpZ25PYmplY3QnID8gWEhUTUxfTkFNRVNQQUNFIDogbmFtZXNwYWNlLFxuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuXG5cdFx0XHRcdFx0PyBleGNlc3NEb21DaGlsZHJlblswXVxuXHRcdFx0XHRcdDogb2xkVk5vZGUuX2NoaWxkcmVuICYmIGdldERvbVNpYmxpbmcob2xkVk5vZGUsIDApLFxuXHRcdFx0XHRpc0h5ZHJhdGluZyxcblx0XHRcdFx0cmVmUXVldWVcblx0XHRcdCk7XG5cblx0XHRcdC8vIFJlbW92ZSBjaGlsZHJlbiB0aGF0IGFyZSBub3QgcGFydCBvZiBhbnkgdm5vZGUuXG5cdFx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gTlVMTCkge1xuXHRcdFx0XHRmb3IgKGkgPSBleGNlc3NEb21DaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRcdFx0cmVtb3ZlTm9kZShleGNlc3NEb21DaGlsZHJlbltpXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBcyBhYm92ZSwgZG9uJ3QgZGlmZiBwcm9wcyBkdXJpbmcgaHlkcmF0aW9uXG5cdFx0aWYgKCFpc0h5ZHJhdGluZykge1xuXHRcdFx0aSA9ICd2YWx1ZSc7XG5cdFx0XHRpZiAobm9kZVR5cGUgPT0gJ3Byb2dyZXNzJyAmJiBpbnB1dFZhbHVlID09IE5VTEwpIHtcblx0XHRcdFx0ZG9tLnJlbW92ZUF0dHJpYnV0ZSgndmFsdWUnKTtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdGlucHV0VmFsdWUgIT0gVU5ERUZJTkVEICYmXG5cdFx0XHRcdC8vICMyNzU2IEZvciB0aGUgPHByb2dyZXNzPi1lbGVtZW50IHRoZSBpbml0aWFsIHZhbHVlIGlzIDAsXG5cdFx0XHRcdC8vIGRlc3BpdGUgdGhlIGF0dHJpYnV0ZSBub3QgYmVpbmcgcHJlc2VudC4gV2hlbiB0aGUgYXR0cmlidXRlXG5cdFx0XHRcdC8vIGlzIG1pc3NpbmcgdGhlIHByb2dyZXNzIGJhciBpcyB0cmVhdGVkIGFzIGluZGV0ZXJtaW5hdGUuXG5cdFx0XHRcdC8vIFRvIGZpeCB0aGF0IHdlJ2xsIGFsd2F5cyB1cGRhdGUgaXQgd2hlbiBpdCBpcyAwIGZvciBwcm9ncmVzcyBlbGVtZW50c1xuXHRcdFx0XHQoaW5wdXRWYWx1ZSAhPT0gZG9tW2ldIHx8XG5cdFx0XHRcdFx0KG5vZGVUeXBlID09ICdwcm9ncmVzcycgJiYgIWlucHV0VmFsdWUpIHx8XG5cdFx0XHRcdFx0Ly8gVGhpcyBpcyBvbmx5IGZvciBJRSAxMSB0byBmaXggPHNlbGVjdD4gdmFsdWUgbm90IGJlaW5nIHVwZGF0ZWQuXG5cdFx0XHRcdFx0Ly8gVG8gYXZvaWQgYSBzdGFsZSBzZWxlY3QgdmFsdWUgd2UgbmVlZCB0byBzZXQgdGhlIG9wdGlvbi52YWx1ZVxuXHRcdFx0XHRcdC8vIGFnYWluLCB3aGljaCB0cmlnZ2VycyBJRTExIHRvIHJlLWV2YWx1YXRlIHRoZSBzZWxlY3QgdmFsdWVcblx0XHRcdFx0XHQobm9kZVR5cGUgPT0gJ29wdGlvbicgJiYgaW5wdXRWYWx1ZSAhPSBvbGRQcm9wc1tpXSkpXG5cdFx0XHQpIHtcblx0XHRcdFx0c2V0UHJvcGVydHkoZG9tLCBpLCBpbnB1dFZhbHVlLCBvbGRQcm9wc1tpXSwgbmFtZXNwYWNlKTtcblx0XHRcdH1cblxuXHRcdFx0aSA9ICdjaGVja2VkJztcblx0XHRcdGlmIChjaGVja2VkICE9IFVOREVGSU5FRCAmJiBjaGVja2VkICE9IGRvbVtpXSkge1xuXHRcdFx0XHRzZXRQcm9wZXJ0eShkb20sIGksIGNoZWNrZWQsIG9sZFByb3BzW2ldLCBuYW1lc3BhY2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkb207XG59XG5cbi8qKlxuICogSW52b2tlIG9yIHVwZGF0ZSBhIHJlZiwgZGVwZW5kaW5nIG9uIHdoZXRoZXIgaXQgaXMgYSBmdW5jdGlvbiBvciBvYmplY3QgcmVmLlxuICogQHBhcmFtIHtSZWY8YW55PiAmIHsgX3VubW91bnQ/OiB1bmtub3duIH19IHJlZlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcGFyYW0ge1ZOb2RlfSB2bm9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlSZWYocmVmLCB2YWx1ZSwgdm5vZGUpIHtcblx0dHJ5IHtcblx0XHRpZiAodHlwZW9mIHJlZiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRsZXQgaGFzUmVmVW5tb3VudCA9IHR5cGVvZiByZWYuX3VubW91bnQgPT0gJ2Z1bmN0aW9uJztcblx0XHRcdGlmIChoYXNSZWZVbm1vdW50KSB7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmUgVFMgZG9lc24ndCBsaWtlIG1vdmluZyBuYXJyb3dpbmcgY2hlY2tzIGludG8gdmFyaWFibGVzXG5cdFx0XHRcdHJlZi5fdW5tb3VudCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWhhc1JlZlVubW91bnQgfHwgdmFsdWUgIT0gTlVMTCkge1xuXHRcdFx0XHQvLyBTdG9yZSB0aGUgY2xlYW51cCBmdW5jdGlvbiBvbiB0aGUgZnVuY3Rpb25cblx0XHRcdFx0Ly8gaW5zdGFuY2Ugb2JqZWN0IGl0c2VsZiB0byBhdm9pZCBzaGFwZVxuXHRcdFx0XHQvLyB0cmFuc2l0aW9uaW5nIHZub2RlXG5cdFx0XHRcdHJlZi5fdW5tb3VudCA9IHJlZih2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHJlZi5jdXJyZW50ID0gdmFsdWU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIHZub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIFVubW91bnQgYSB2aXJ0dWFsIG5vZGUgZnJvbSB0aGUgdHJlZSBhbmQgYXBwbHkgRE9NIGNoYW5nZXNcbiAqIEBwYXJhbSB7Vk5vZGV9IHZub2RlIFRoZSB2aXJ0dWFsIG5vZGUgdG8gdW5tb3VudFxuICogQHBhcmFtIHtWTm9kZX0gcGFyZW50Vk5vZGUgVGhlIHBhcmVudCBvZiB0aGUgVk5vZGUgdGhhdCBpbml0aWF0ZWQgdGhlIHVubW91bnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBSZW1vdmVdIEZsYWcgdGhhdCBpbmRpY2F0ZXMgdGhhdCBhIHBhcmVudCBub2RlIG9mIHRoZVxuICogY3VycmVudCBlbGVtZW50IGlzIGFscmVhZHkgZGV0YWNoZWQgZnJvbSB0aGUgRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5tb3VudCh2bm9kZSwgcGFyZW50Vk5vZGUsIHNraXBSZW1vdmUpIHtcblx0bGV0IHI7XG5cdGlmIChvcHRpb25zLnVubW91bnQpIG9wdGlvbnMudW5tb3VudCh2bm9kZSk7XG5cblx0aWYgKChyID0gdm5vZGUucmVmKSkge1xuXHRcdGlmICghci5jdXJyZW50IHx8IHIuY3VycmVudCA9PSB2bm9kZS5fZG9tKSB7XG5cdFx0XHRhcHBseVJlZihyLCBOVUxMLCBwYXJlbnRWTm9kZSk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKChyID0gdm5vZGUuX2NvbXBvbmVudCkgIT0gTlVMTCkge1xuXHRcdGlmIChyLmNvbXBvbmVudFdpbGxVbm1vdW50KSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgcGFyZW50Vk5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHIuYmFzZSA9IHIuX3BhcmVudERvbSA9IE5VTEw7XG5cdH1cblxuXHRpZiAoKHIgPSB2bm9kZS5fY2hpbGRyZW4pKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAocltpXSkge1xuXHRcdFx0XHR1bm1vdW50KFxuXHRcdFx0XHRcdHJbaV0sXG5cdFx0XHRcdFx0cGFyZW50Vk5vZGUsXG5cdFx0XHRcdFx0c2tpcFJlbW92ZSB8fCB0eXBlb2Ygdm5vZGUudHlwZSAhPSAnZnVuY3Rpb24nXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCFza2lwUmVtb3ZlKSB7XG5cdFx0cmVtb3ZlTm9kZSh2bm9kZS5fZG9tKTtcblx0fVxuXG5cdHZub2RlLl9jb21wb25lbnQgPSB2bm9kZS5fcGFyZW50ID0gdm5vZGUuX2RvbSA9IFVOREVGSU5FRDtcbn1cblxuLyoqIFRoZSBgLnJlbmRlcigpYCBtZXRob2QgZm9yIGEgUEZDIGJhY2tpbmcgaW5zdGFuY2UuICovXG5mdW5jdGlvbiBkb1JlbmRlcihwcm9wcywgc3RhdGUsIGNvbnRleHQpIHtcblx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpO1xufVxuIiwgImltcG9ydCB7IEVNUFRZX09CSiwgTlVMTCB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGNvbW1pdFJvb3QsIGRpZmYgfSBmcm9tICcuL2RpZmYvaW5kZXgnO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgRnJhZ21lbnQgfSBmcm9tICcuL2NyZWF0ZS1lbGVtZW50JztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBzbGljZSB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogUmVuZGVyIGEgUHJlYWN0IHZpcnR1YWwgbm9kZSBpbnRvIGEgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50Q2hpbGR9IHZub2RlIFRoZSB2aXJ0dWFsIG5vZGUgdG8gcmVuZGVyXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgRE9NIGVsZW1lbnQgdG8gcmVuZGVyIGludG9cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuUHJlYWN0RWxlbWVudCB8IG9iamVjdH0gW3JlcGxhY2VOb2RlXSBPcHRpb25hbDogQXR0ZW1wdCB0byByZS11c2UgYW5cbiAqIGV4aXN0aW5nIERPTSB0cmVlIHJvb3RlZCBhdCBgcmVwbGFjZU5vZGVgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudERvbSwgcmVwbGFjZU5vZGUpIHtcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3ByZWFjdGpzL3ByZWFjdC9pc3N1ZXMvMzc5NFxuXHRpZiAocGFyZW50RG9tID09IGRvY3VtZW50KSB7XG5cdFx0cGFyZW50RG9tID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHR9XG5cblx0aWYgKG9wdGlvbnMuX3Jvb3QpIG9wdGlvbnMuX3Jvb3Qodm5vZGUsIHBhcmVudERvbSk7XG5cblx0Ly8gV2UgYWJ1c2UgdGhlIGByZXBsYWNlTm9kZWAgcGFyYW1ldGVyIGluIGBoeWRyYXRlKClgIHRvIHNpZ25hbCBpZiB3ZSBhcmUgaW5cblx0Ly8gaHlkcmF0aW9uIG1vZGUgb3Igbm90IGJ5IHBhc3NpbmcgdGhlIGBoeWRyYXRlYCBmdW5jdGlvbiBpbnN0ZWFkIG9mIGEgRE9NXG5cdC8vIGVsZW1lbnQuLlxuXHRsZXQgaXNIeWRyYXRpbmcgPSB0eXBlb2YgcmVwbGFjZU5vZGUgPT0gJ2Z1bmN0aW9uJztcblxuXHQvLyBUbyBiZSBhYmxlIHRvIHN1cHBvcnQgY2FsbGluZyBgcmVuZGVyKClgIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lXG5cdC8vIERPTSBub2RlLCB3ZSBuZWVkIHRvIG9idGFpbiBhIHJlZmVyZW5jZSB0byB0aGUgcHJldmlvdXMgdHJlZS4gV2UgZG9cblx0Ly8gdGhpcyBieSBhc3NpZ25pbmcgYSBuZXcgYF9jaGlsZHJlbmAgcHJvcGVydHkgdG8gRE9NIG5vZGVzIHdoaWNoIHBvaW50c1xuXHQvLyB0byB0aGUgbGFzdCByZW5kZXJlZCB0cmVlLiBCeSBkZWZhdWx0IHRoaXMgcHJvcGVydHkgaXMgbm90IHByZXNlbnQsIHdoaWNoXG5cdC8vIG1lYW5zIHRoYXQgd2UgYXJlIG1vdW50aW5nIGEgbmV3IHRyZWUgZm9yIHRoZSBmaXJzdCB0aW1lLlxuXHRsZXQgb2xkVk5vZGUgPSBpc0h5ZHJhdGluZ1xuXHRcdD8gTlVMTFxuXHRcdDogKHJlcGxhY2VOb2RlICYmIHJlcGxhY2VOb2RlLl9jaGlsZHJlbikgfHwgcGFyZW50RG9tLl9jaGlsZHJlbjtcblxuXHR2bm9kZSA9ICgoIWlzSHlkcmF0aW5nICYmIHJlcGxhY2VOb2RlKSB8fCBwYXJlbnREb20pLl9jaGlsZHJlbiA9XG5cdFx0Y3JlYXRlRWxlbWVudChGcmFnbWVudCwgTlVMTCwgW3Zub2RlXSk7XG5cblx0Ly8gTGlzdCBvZiBlZmZlY3RzIHRoYXQgbmVlZCB0byBiZSBjYWxsZWQgYWZ0ZXIgZGlmZmluZy5cblx0bGV0IGNvbW1pdFF1ZXVlID0gW10sXG5cdFx0cmVmUXVldWUgPSBbXTtcblx0ZGlmZihcblx0XHRwYXJlbnREb20sXG5cdFx0Ly8gRGV0ZXJtaW5lIHRoZSBuZXcgdm5vZGUgdHJlZSBhbmQgc3RvcmUgaXQgb24gdGhlIERPTSBlbGVtZW50IG9uXG5cdFx0Ly8gb3VyIGN1c3RvbSBgX2NoaWxkcmVuYCBwcm9wZXJ0eS5cblx0XHR2bm9kZSxcblx0XHRvbGRWTm9kZSB8fCBFTVBUWV9PQkosXG5cdFx0RU1QVFlfT0JKLFxuXHRcdHBhcmVudERvbS5uYW1lc3BhY2VVUkksXG5cdFx0IWlzSHlkcmF0aW5nICYmIHJlcGxhY2VOb2RlXG5cdFx0XHQ/IFtyZXBsYWNlTm9kZV1cblx0XHRcdDogb2xkVk5vZGVcblx0XHRcdFx0PyBOVUxMXG5cdFx0XHRcdDogcGFyZW50RG9tLmZpcnN0Q2hpbGRcblx0XHRcdFx0XHQ/IHNsaWNlLmNhbGwocGFyZW50RG9tLmNoaWxkTm9kZXMpXG5cdFx0XHRcdFx0OiBOVUxMLFxuXHRcdGNvbW1pdFF1ZXVlLFxuXHRcdCFpc0h5ZHJhdGluZyAmJiByZXBsYWNlTm9kZVxuXHRcdFx0PyByZXBsYWNlTm9kZVxuXHRcdFx0OiBvbGRWTm9kZVxuXHRcdFx0XHQ/IG9sZFZOb2RlLl9kb21cblx0XHRcdFx0OiBwYXJlbnREb20uZmlyc3RDaGlsZCxcblx0XHRpc0h5ZHJhdGluZyxcblx0XHRyZWZRdWV1ZVxuXHQpO1xuXG5cdC8vIEZsdXNoIGFsbCBxdWV1ZWQgZWZmZWN0c1xuXHRjb21taXRSb290KGNvbW1pdFF1ZXVlLCB2bm9kZSwgcmVmUXVldWUpO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBhbiBleGlzdGluZyBET00gZWxlbWVudCB3aXRoIGRhdGEgZnJvbSBhIFByZWFjdCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50Q2hpbGR9IHZub2RlIFRoZSB2aXJ0dWFsIG5vZGUgdG8gcmVuZGVyXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgRE9NIGVsZW1lbnQgdG8gdXBkYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKHZub2RlLCBwYXJlbnREb20pIHtcblx0cmVuZGVyKHZub2RlLCBwYXJlbnREb20sIGh5ZHJhdGUpO1xufVxuIiwgImltcG9ydCB7IGFzc2lnbiwgc2xpY2UgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgY3JlYXRlVk5vZGUgfSBmcm9tICcuL2NyZWF0ZS1lbGVtZW50JztcbmltcG9ydCB7IE5VTEwsIFVOREVGSU5FRCB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuLyoqXG4gKiBDbG9uZXMgdGhlIGdpdmVuIFZOb2RlLCBvcHRpb25hbGx5IGFkZGluZyBhdHRyaWJ1dGVzL3Byb3BzIGFuZCByZXBsYWNpbmcgaXRzXG4gKiBjaGlsZHJlbi5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlIFRoZSB2aXJ0dWFsIERPTSBlbGVtZW50IHRvIGNsb25lXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgQXR0cmlidXRlcy9wcm9wcyB0byBhZGQgd2hlbiBjbG9uaW5nXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudENoaWxkcmVuPn0gcmVzdCBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgd2lsbCBiZSB1c2VkXG4gKiBhcyByZXBsYWNlbWVudCBjaGlsZHJlbi5cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRWxlbWVudCh2bm9kZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG5cdGxldCBub3JtYWxpemVkUHJvcHMgPSBhc3NpZ24oe30sIHZub2RlLnByb3BzKSxcblx0XHRrZXksXG5cdFx0cmVmLFxuXHRcdGk7XG5cblx0bGV0IGRlZmF1bHRQcm9wcztcblxuXHRpZiAodm5vZGUudHlwZSAmJiB2bm9kZS50eXBlLmRlZmF1bHRQcm9wcykge1xuXHRcdGRlZmF1bHRQcm9wcyA9IHZub2RlLnR5cGUuZGVmYXVsdFByb3BzO1xuXHR9XG5cblx0Zm9yIChpIGluIHByb3BzKSB7XG5cdFx0aWYgKGkgPT0gJ2tleScpIGtleSA9IHByb3BzW2ldO1xuXHRcdGVsc2UgaWYgKGkgPT0gJ3JlZicpIHJlZiA9IHByb3BzW2ldO1xuXHRcdGVsc2UgaWYgKHByb3BzW2ldID09PSBVTkRFRklORUQgJiYgZGVmYXVsdFByb3BzICE9IFVOREVGSU5FRCkge1xuXHRcdFx0bm9ybWFsaXplZFByb3BzW2ldID0gZGVmYXVsdFByb3BzW2ldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRub3JtYWxpemVkUHJvcHNbaV0gPSBwcm9wc1tpXTtcblx0XHR9XG5cdH1cblxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpIHtcblx0XHRub3JtYWxpemVkUHJvcHMuY2hpbGRyZW4gPVxuXHRcdFx0YXJndW1lbnRzLmxlbmd0aCA+IDMgPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMikgOiBjaGlsZHJlbjtcblx0fVxuXG5cdHJldHVybiBjcmVhdGVWTm9kZShcblx0XHR2bm9kZS50eXBlLFxuXHRcdG5vcm1hbGl6ZWRQcm9wcyxcblx0XHRrZXkgfHwgdm5vZGUua2V5LFxuXHRcdHJlZiB8fCB2bm9kZS5yZWYsXG5cdFx0TlVMTFxuXHQpO1xufVxuIiwgImltcG9ydCB7IE5VTEwgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG4vKipcbiAqIEZpbmQgdGhlIGNsb3Nlc3QgZXJyb3IgYm91bmRhcnkgdG8gYSB0aHJvd24gZXJyb3IgYW5kIGNhbGwgaXRcbiAqIEBwYXJhbSB7b2JqZWN0fSBlcnJvciBUaGUgdGhyb3duIHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGUgVGhlIHZub2RlIHRoYXQgdGhyZXcgdGhlIGVycm9yIHRoYXQgd2FzIGNhdWdodCAoZXhjZXB0XG4gKiBmb3IgdW5tb3VudGluZyB3aGVuIHRoaXMgcGFyYW1ldGVyIGlzIHRoZSBoaWdoZXN0IHBhcmVudCB0aGF0IHdhcyBiZWluZ1xuICogdW5tb3VudGVkKVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IFtvbGRWTm9kZV1cbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkVycm9ySW5mb30gW2Vycm9ySW5mb11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9jYXRjaEVycm9yKGVycm9yLCB2bm9kZSwgb2xkVk5vZGUsIGVycm9ySW5mbykge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnR9ICovXG5cdGxldCBjb21wb25lbnQsXG5cdFx0LyoqIEB0eXBlIHtpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50VHlwZX0gKi9cblx0XHRjdG9yLFxuXHRcdC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cblx0XHRoYW5kbGVkO1xuXG5cdGZvciAoOyAodm5vZGUgPSB2bm9kZS5fcGFyZW50KTsgKSB7XG5cdFx0aWYgKChjb21wb25lbnQgPSB2bm9kZS5fY29tcG9uZW50KSAmJiAhY29tcG9uZW50Ll9wcm9jZXNzaW5nRXhjZXB0aW9uKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjdG9yID0gY29tcG9uZW50LmNvbnN0cnVjdG9yO1xuXG5cdFx0XHRcdGlmIChjdG9yICYmIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yICE9IE5VTEwpIHtcblx0XHRcdFx0XHRjb21wb25lbnQuc2V0U3RhdGUoY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpKTtcblx0XHRcdFx0XHRoYW5kbGVkID0gY29tcG9uZW50Ll9kaXJ0eTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkQ2F0Y2ggIT0gTlVMTCkge1xuXHRcdFx0XHRcdGNvbXBvbmVudC5jb21wb25lbnREaWRDYXRjaChlcnJvciwgZXJyb3JJbmZvIHx8IHt9KTtcblx0XHRcdFx0XHRoYW5kbGVkID0gY29tcG9uZW50Ll9kaXJ0eTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFRoaXMgaXMgYW4gZXJyb3IgYm91bmRhcnkuIE1hcmsgaXQgYXMgaGF2aW5nIGJhaWxlZCBvdXQsIGFuZCB3aGV0aGVyIGl0IHdhcyBtaWQtaHlkcmF0aW9uLlxuXHRcdFx0XHRpZiAoaGFuZGxlZCkge1xuXHRcdFx0XHRcdHJldHVybiAoY29tcG9uZW50Ll9wZW5kaW5nRXJyb3IgPSBjb21wb25lbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGVycm9yID0gZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHR0aHJvdyBlcnJvcjtcbn1cbiIsICJpbXBvcnQgeyBvcHRpb25zIGFzIF9vcHRpb25zIH0gZnJvbSAncHJlYWN0JztcblxuLyoqIEB0eXBlIHtudW1iZXJ9ICovXG5sZXQgY3VycmVudEluZGV4O1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gKi9cbmxldCBjdXJyZW50Q29tcG9uZW50O1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gKi9cbmxldCBwcmV2aW91c0NvbXBvbmVudDtcblxuLyoqIEB0eXBlIHtudW1iZXJ9ICovXG5sZXQgY3VycmVudEhvb2sgPSAwO1xuXG4vKiogQHR5cGUge0FycmF5PGltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59ICovXG5sZXQgYWZ0ZXJQYWludEVmZmVjdHMgPSBbXTtcblxuLy8gQ2FzdCB0byB1c2UgaW50ZXJuYWwgT3B0aW9ucyB0eXBlXG5jb25zdCBvcHRpb25zID0gLyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5PcHRpb25zfSAqLyAoX29wdGlvbnMpO1xuXG5sZXQgb2xkQmVmb3JlRGlmZiA9IG9wdGlvbnMuX2RpZmY7XG5sZXQgb2xkQmVmb3JlUmVuZGVyID0gb3B0aW9ucy5fcmVuZGVyO1xubGV0IG9sZEFmdGVyRGlmZiA9IG9wdGlvbnMuZGlmZmVkO1xubGV0IG9sZENvbW1pdCA9IG9wdGlvbnMuX2NvbW1pdDtcbmxldCBvbGRCZWZvcmVVbm1vdW50ID0gb3B0aW9ucy51bm1vdW50O1xubGV0IG9sZFJvb3QgPSBvcHRpb25zLl9yb290O1xuXG4vLyBXZSB0YWtlIHRoZSBtaW5pbXVtIHRpbWVvdXQgZm9yIHJlcXVlc3RBbmltYXRpb25GcmFtZSB0byBlbnN1cmUgdGhhdFxuLy8gdGhlIGNhbGxiYWNrIGlzIGludm9rZWQgYWZ0ZXIgdGhlIG5leHQgZnJhbWUuIDM1bXMgaXMgYmFzZWQgb24gYSAzMGh6XG4vLyByZWZyZXNoIHJhdGUsIHdoaWNoIGlzIHRoZSBtaW5pbXVtIHJhdGUgZm9yIGEgc21vb3RoIHVzZXIgZXhwZXJpZW5jZS5cbmNvbnN0IFJBRl9USU1FT1VUID0gMzU7XG5sZXQgcHJldlJhZjtcblxuLyoqIEB0eXBlIHsodm5vZGU6IGltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlKSA9PiB2b2lkfSAqL1xub3B0aW9ucy5fZGlmZiA9IHZub2RlID0+IHtcblx0Y3VycmVudENvbXBvbmVudCA9IG51bGw7XG5cdGlmIChvbGRCZWZvcmVEaWZmKSBvbGRCZWZvcmVEaWZmKHZub2RlKTtcbn07XG5cbm9wdGlvbnMuX3Jvb3QgPSAodm5vZGUsIHBhcmVudERvbSkgPT4ge1xuXHRpZiAodm5vZGUgJiYgcGFyZW50RG9tLl9jaGlsZHJlbiAmJiBwYXJlbnREb20uX2NoaWxkcmVuLl9tYXNrKSB7XG5cdFx0dm5vZGUuX21hc2sgPSBwYXJlbnREb20uX2NoaWxkcmVuLl9tYXNrO1xuXHR9XG5cblx0aWYgKG9sZFJvb3QpIG9sZFJvb3Qodm5vZGUsIHBhcmVudERvbSk7XG59O1xuXG4vKiogQHR5cGUgeyh2bm9kZTogaW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGUpID0+IHZvaWR9ICovXG5vcHRpb25zLl9yZW5kZXIgPSB2bm9kZSA9PiB7XG5cdGlmIChvbGRCZWZvcmVSZW5kZXIpIG9sZEJlZm9yZVJlbmRlcih2bm9kZSk7XG5cblx0Y3VycmVudENvbXBvbmVudCA9IHZub2RlLl9jb21wb25lbnQ7XG5cdGN1cnJlbnRJbmRleCA9IDA7XG5cblx0Y29uc3QgaG9va3MgPSBjdXJyZW50Q29tcG9uZW50Ll9faG9va3M7XG5cdGlmIChob29rcykge1xuXHRcdGlmIChwcmV2aW91c0NvbXBvbmVudCA9PT0gY3VycmVudENvbXBvbmVudCkge1xuXHRcdFx0aG9va3MuX3BlbmRpbmdFZmZlY3RzID0gW107XG5cdFx0XHRjdXJyZW50Q29tcG9uZW50Ll9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdGhvb2tzLl9saXN0LmZvckVhY2goaG9va0l0ZW0gPT4ge1xuXHRcdFx0XHRpZiAoaG9va0l0ZW0uX25leHRWYWx1ZSkge1xuXHRcdFx0XHRcdGhvb2tJdGVtLl92YWx1ZSA9IGhvb2tJdGVtLl9uZXh0VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aG9va0l0ZW0uX3BlbmRpbmdBcmdzID0gaG9va0l0ZW0uX25leHRWYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRob29rcy5fcGVuZGluZ0VmZmVjdHMuZm9yRWFjaChpbnZva2VDbGVhbnVwKTtcblx0XHRcdGhvb2tzLl9wZW5kaW5nRWZmZWN0cy5mb3JFYWNoKGludm9rZUVmZmVjdCk7XG5cdFx0XHRob29rcy5fcGVuZGluZ0VmZmVjdHMgPSBbXTtcblx0XHRcdGN1cnJlbnRJbmRleCA9IDA7XG5cdFx0fVxuXHR9XG5cdHByZXZpb3VzQ29tcG9uZW50ID0gY3VycmVudENvbXBvbmVudDtcbn07XG5cbi8qKiBAdHlwZSB7KHZub2RlOiBpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZSkgPT4gdm9pZH0gKi9cbm9wdGlvbnMuZGlmZmVkID0gdm5vZGUgPT4ge1xuXHRpZiAob2xkQWZ0ZXJEaWZmKSBvbGRBZnRlckRpZmYodm5vZGUpO1xuXG5cdGNvbnN0IGMgPSB2bm9kZS5fY29tcG9uZW50O1xuXHRpZiAoYyAmJiBjLl9faG9va3MpIHtcblx0XHRpZiAoYy5fX2hvb2tzLl9wZW5kaW5nRWZmZWN0cy5sZW5ndGgpIGFmdGVyUGFpbnQoYWZ0ZXJQYWludEVmZmVjdHMucHVzaChjKSk7XG5cdFx0Yy5fX2hvb2tzLl9saXN0LmZvckVhY2goaG9va0l0ZW0gPT4ge1xuXHRcdFx0aWYgKGhvb2tJdGVtLl9wZW5kaW5nQXJncykge1xuXHRcdFx0XHRob29rSXRlbS5fYXJncyA9IGhvb2tJdGVtLl9wZW5kaW5nQXJncztcblx0XHRcdH1cblx0XHRcdGhvb2tJdGVtLl9wZW5kaW5nQXJncyA9IHVuZGVmaW5lZDtcblx0XHR9KTtcblx0fVxuXHRwcmV2aW91c0NvbXBvbmVudCA9IGN1cnJlbnRDb21wb25lbnQgPSBudWxsO1xufTtcblxuLy8gVE9ETzogSW1wcm92ZSB0eXBpbmcgb2YgY29tbWl0UXVldWUgcGFyYW1ldGVyXG4vKiogQHR5cGUgeyh2bm9kZTogaW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGUsIGNvbW1pdFF1ZXVlOiBhbnkpID0+IHZvaWR9ICovXG5vcHRpb25zLl9jb21taXQgPSAodm5vZGUsIGNvbW1pdFF1ZXVlKSA9PiB7XG5cdGNvbW1pdFF1ZXVlLnNvbWUoY29tcG9uZW50ID0+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29tcG9uZW50Ll9yZW5kZXJDYWxsYmFja3MuZm9yRWFjaChpbnZva2VDbGVhbnVwKTtcblx0XHRcdGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzID0gY29tcG9uZW50Ll9yZW5kZXJDYWxsYmFja3MuZmlsdGVyKGNiID0+XG5cdFx0XHRcdGNiLl92YWx1ZSA/IGludm9rZUVmZmVjdChjYikgOiB0cnVlXG5cdFx0XHQpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNvbW1pdFF1ZXVlLnNvbWUoYyA9PiB7XG5cdFx0XHRcdGlmIChjLl9yZW5kZXJDYWxsYmFja3MpIGMuX3JlbmRlckNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0fSk7XG5cdFx0XHRjb21taXRRdWV1ZSA9IFtdO1xuXHRcdFx0b3B0aW9ucy5fY2F0Y2hFcnJvcihlLCBjb21wb25lbnQuX3Zub2RlKTtcblx0XHR9XG5cdH0pO1xuXG5cdGlmIChvbGRDb21taXQpIG9sZENvbW1pdCh2bm9kZSwgY29tbWl0UXVldWUpO1xufTtcblxuLyoqIEB0eXBlIHsodm5vZGU6IGltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlKSA9PiB2b2lkfSAqL1xub3B0aW9ucy51bm1vdW50ID0gdm5vZGUgPT4ge1xuXHRpZiAob2xkQmVmb3JlVW5tb3VudCkgb2xkQmVmb3JlVW5tb3VudCh2bm9kZSk7XG5cblx0Y29uc3QgYyA9IHZub2RlLl9jb21wb25lbnQ7XG5cdGlmIChjICYmIGMuX19ob29rcykge1xuXHRcdGxldCBoYXNFcnJvcmVkO1xuXHRcdGMuX19ob29rcy5fbGlzdC5mb3JFYWNoKHMgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aW52b2tlQ2xlYW51cChzKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0aGFzRXJyb3JlZCA9IGU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Yy5fX2hvb2tzID0gdW5kZWZpbmVkO1xuXHRcdGlmIChoYXNFcnJvcmVkKSBvcHRpb25zLl9jYXRjaEVycm9yKGhhc0Vycm9yZWQsIGMuX3Zub2RlKTtcblx0fVxufTtcblxuLyoqXG4gKiBHZXQgYSBob29rJ3Mgc3RhdGUgZnJvbSB0aGUgY3VycmVudENvbXBvbmVudFxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgaG9vayB0byBnZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlIFRoZSBpbmRleCBvZiB0aGUgaG9vayB0byBnZXRcbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmZ1bmN0aW9uIGdldEhvb2tTdGF0ZShpbmRleCwgdHlwZSkge1xuXHRpZiAob3B0aW9ucy5faG9vaykge1xuXHRcdG9wdGlvbnMuX2hvb2soY3VycmVudENvbXBvbmVudCwgaW5kZXgsIGN1cnJlbnRIb29rIHx8IHR5cGUpO1xuXHR9XG5cdGN1cnJlbnRIb29rID0gMDtcblxuXHQvLyBMYXJnZWx5IGluc3BpcmVkIGJ5OlxuXHQvLyAqIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNoYWVsLWtsZWluL2Z1bmN5LmpzL2Jsb2IvZjZiZTczNDY4ZTZlYzQ2YjBmZjVhYTNjYzRjOWJhZjcyYTI5MDI1YS9zcmMvaG9va3MvY29yZV9ob29rcy5tanNcblx0Ly8gKiBodHRwczovL2dpdGh1Yi5jb20vbWljaGFlbC1rbGVpbi9mdW5jeS5qcy9ibG9iLzY1MGJlYWE1OGM0M2MzM2E3NDgyMGEzYzk4YjNjNzA3OWNmMmUzMzMvc3JjL3JlbmRlcmVyLm1qc1xuXHQvLyBPdGhlciBpbXBsZW1lbnRhdGlvbnMgdG8gbG9vayBhdDpcblx0Ly8gKiBodHRwczovL2NvZGVzYW5kYm94LmlvL3MvbW5veDA1cXA4XG5cdGNvbnN0IGhvb2tzID1cblx0XHRjdXJyZW50Q29tcG9uZW50Ll9faG9va3MgfHxcblx0XHQoY3VycmVudENvbXBvbmVudC5fX2hvb2tzID0ge1xuXHRcdFx0X2xpc3Q6IFtdLFxuXHRcdFx0X3BlbmRpbmdFZmZlY3RzOiBbXVxuXHRcdH0pO1xuXG5cdGlmIChpbmRleCA+PSBob29rcy5fbGlzdC5sZW5ndGgpIHtcblx0XHRob29rcy5fbGlzdC5wdXNoKHt9KTtcblx0fVxuXG5cdHJldHVybiBob29rcy5fbGlzdFtpbmRleF07XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHt1bmtub3dufSBTXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbmRleCcpLkRpc3BhdGNoPGltcG9ydCgnLi9pbmRleCcpLlN0YXRlVXBkYXRlcjxTPj59IFtpbml0aWFsU3RhdGVdXG4gKiBAcmV0dXJucyB7W1MsIChzdGF0ZTogUykgPT4gdm9pZF19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTdGF0ZShpbml0aWFsU3RhdGUpIHtcblx0Y3VycmVudEhvb2sgPSAxO1xuXHRyZXR1cm4gdXNlUmVkdWNlcihpbnZva2VPclJldHVybiwgaW5pdGlhbFN0YXRlKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge3Vua25vd259IFNcbiAqIEB0ZW1wbGF0ZSB7dW5rbm93bn0gQVxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW5kZXgnKS5SZWR1Y2VyPFMsIEE+fSByZWR1Y2VyXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbmRleCcpLkRpc3BhdGNoPGltcG9ydCgnLi9pbmRleCcpLlN0YXRlVXBkYXRlcjxTPj59IGluaXRpYWxTdGF0ZVxuICogQHBhcmFtIHsoaW5pdGlhbFN0YXRlOiBhbnkpID0+IHZvaWR9IFtpbml0XVxuICogQHJldHVybnMge1sgUywgKHN0YXRlOiBTKSA9PiB2b2lkIF19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgaW5pdCkge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlJlZHVjZXJIb29rU3RhdGV9ICovXG5cdGNvbnN0IGhvb2tTdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgMik7XG5cdGhvb2tTdGF0ZS5fcmVkdWNlciA9IHJlZHVjZXI7XG5cdGlmICghaG9va1N0YXRlLl9jb21wb25lbnQpIHtcblx0XHRob29rU3RhdGUuX3ZhbHVlID0gW1xuXHRcdFx0IWluaXQgPyBpbnZva2VPclJldHVybih1bmRlZmluZWQsIGluaXRpYWxTdGF0ZSkgOiBpbml0KGluaXRpYWxTdGF0ZSksXG5cblx0XHRcdGFjdGlvbiA9PiB7XG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGhvb2tTdGF0ZS5fbmV4dFZhbHVlXG5cdFx0XHRcdFx0PyBob29rU3RhdGUuX25leHRWYWx1ZVswXVxuXHRcdFx0XHRcdDogaG9va1N0YXRlLl92YWx1ZVswXTtcblx0XHRcdFx0Y29uc3QgbmV4dFZhbHVlID0gaG9va1N0YXRlLl9yZWR1Y2VyKGN1cnJlbnRWYWx1ZSwgYWN0aW9uKTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlICE9PSBuZXh0VmFsdWUpIHtcblx0XHRcdFx0XHRob29rU3RhdGUuX25leHRWYWx1ZSA9IFtuZXh0VmFsdWUsIGhvb2tTdGF0ZS5fdmFsdWVbMV1dO1xuXHRcdFx0XHRcdGhvb2tTdGF0ZS5fY29tcG9uZW50LnNldFN0YXRlKHt9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdF07XG5cblx0XHRob29rU3RhdGUuX2NvbXBvbmVudCA9IGN1cnJlbnRDb21wb25lbnQ7XG5cblx0XHRpZiAoIWN1cnJlbnRDb21wb25lbnQuX2hhc1NjdUZyb21Ib29rcykge1xuXHRcdFx0Y3VycmVudENvbXBvbmVudC5faGFzU2N1RnJvbUhvb2tzID0gdHJ1ZTtcblx0XHRcdGxldCBwcmV2U2N1ID0gY3VycmVudENvbXBvbmVudC5zaG91bGRDb21wb25lbnRVcGRhdGU7XG5cdFx0XHRjb25zdCBwcmV2Q1dVID0gY3VycmVudENvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlO1xuXG5cdFx0XHQvLyBJZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBmb3JjZWQgdXBkYXRlIGBzaG91bGRDb21wb25lbnRVcGRhdGVgIHdpbGxcblx0XHRcdC8vIG5vdCBiZSBjYWxsZWQuIEJ1dCB3ZSB1c2UgdGhhdCB0byB1cGRhdGUgdGhlIGhvb2sgdmFsdWVzLCBzbyB3ZVxuXHRcdFx0Ly8gbmVlZCB0byBjYWxsIGl0LlxuXHRcdFx0Y3VycmVudENvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlID0gZnVuY3Rpb24gKHAsIHMsIGMpIHtcblx0XHRcdFx0aWYgKHRoaXMuX2ZvcmNlKSB7XG5cdFx0XHRcdFx0bGV0IHRtcCA9IHByZXZTY3U7XG5cdFx0XHRcdFx0Ly8gQ2xlYXIgdG8gYXZvaWQgb3RoZXIgc0NVIGhvb2tzIGZyb20gYmVpbmcgY2FsbGVkXG5cdFx0XHRcdFx0cHJldlNjdSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHR1cGRhdGVIb29rU3RhdGUocCwgcywgYyk7XG5cdFx0XHRcdFx0cHJldlNjdSA9IHRtcDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChwcmV2Q1dVKSBwcmV2Q1dVLmNhbGwodGhpcywgcCwgcywgYyk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBUaGlzIFNDVSBoYXMgdGhlIHB1cnBvc2Ugb2YgYmFpbGluZyBvdXQgYWZ0ZXIgcmVwZWF0ZWQgdXBkYXRlc1xuXHRcdFx0Ly8gdG8gc3RhdGVmdWwgaG9va3MuXG5cdFx0XHQvLyB3ZSBzdG9yZSB0aGUgbmV4dCB2YWx1ZSBpbiBfbmV4dFZhbHVlWzBdIGFuZCBrZWVwIGRvaW5nIHRoYXQgZm9yIGFsbFxuXHRcdFx0Ly8gc3RhdGUgc2V0dGVycywgaWYgd2UgaGF2ZSBuZXh0IHN0YXRlcyBhbmRcblx0XHRcdC8vIGFsbCBuZXh0IHN0YXRlcyB3aXRoaW4gYSBjb21wb25lbnQgZW5kIHVwIGJlaW5nIGVxdWFsIHRvIHRoZWlyIG9yaWdpbmFsIHN0YXRlXG5cdFx0XHQvLyB3ZSBhcmUgc2FmZSB0byBiYWlsIG91dCBmb3IgdGhpcyBzcGVjaWZpYyBjb21wb25lbnQuXG5cdFx0XHQvKipcblx0XHRcdCAqXG5cdFx0XHQgKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50W1wic2hvdWxkQ29tcG9uZW50VXBkYXRlXCJdfVxuXHRcdFx0ICovXG5cdFx0XHQvLyBAdHMtaWdub3JlIC0gV2UgZG9uJ3QgdXNlIFRTIHRvIGRvd250cmFuc3BpbGVcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbm5lci1kZWNsYXJhdGlvbnNcblx0XHRcdGZ1bmN0aW9uIHVwZGF0ZUhvb2tTdGF0ZShwLCBzLCBjKSB7XG5cdFx0XHRcdGlmICghaG9va1N0YXRlLl9jb21wb25lbnQuX19ob29rcykgcmV0dXJuIHRydWU7XG5cblx0XHRcdFx0LyoqIEB0eXBlIHsoeDogaW1wb3J0KCcuL2ludGVybmFsJykuSG9va1N0YXRlKSA9PiB4IGlzIGltcG9ydCgnLi9pbnRlcm5hbCcpLlJlZHVjZXJIb29rU3RhdGV9ICovXG5cdFx0XHRcdGNvbnN0IGlzU3RhdGVIb29rID0geCA9PiAhIXguX2NvbXBvbmVudDtcblx0XHRcdFx0Y29uc3Qgc3RhdGVIb29rcyA9XG5cdFx0XHRcdFx0aG9va1N0YXRlLl9jb21wb25lbnQuX19ob29rcy5fbGlzdC5maWx0ZXIoaXNTdGF0ZUhvb2spO1xuXG5cdFx0XHRcdGNvbnN0IGFsbEhvb2tzRW1wdHkgPSBzdGF0ZUhvb2tzLmV2ZXJ5KHggPT4gIXguX25leHRWYWx1ZSk7XG5cdFx0XHRcdC8vIFdoZW4gd2UgaGF2ZSBubyB1cGRhdGVkIGhvb2tzIGluIHRoZSBjb21wb25lbnQgd2UgaW52b2tlIHRoZSBwcmV2aW91cyBTQ1Ugb3Jcblx0XHRcdFx0Ly8gdHJhdmVyc2UgdGhlIFZET00gdHJlZSBmdXJ0aGVyLlxuXHRcdFx0XHRpZiAoYWxsSG9va3NFbXB0eSkge1xuXHRcdFx0XHRcdHJldHVybiBwcmV2U2N1ID8gcHJldlNjdS5jYWxsKHRoaXMsIHAsIHMsIGMpIDogdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdlIGNoZWNrIHdoZXRoZXIgd2UgaGF2ZSBjb21wb25lbnRzIHdpdGggYSBuZXh0VmFsdWUgc2V0IHRoYXRcblx0XHRcdFx0Ly8gaGF2ZSB2YWx1ZXMgdGhhdCBhcmVuJ3QgZXF1YWwgdG8gb25lIGFub3RoZXIgdGhpcyBwdXNoZXNcblx0XHRcdFx0Ly8gdXMgdG8gdXBkYXRlIGZ1cnRoZXIgZG93biB0aGUgdHJlZVxuXHRcdFx0XHRsZXQgc2hvdWxkVXBkYXRlID0gaG9va1N0YXRlLl9jb21wb25lbnQucHJvcHMgIT09IHA7XG5cdFx0XHRcdHN0YXRlSG9va3MuZm9yRWFjaChob29rSXRlbSA9PiB7XG5cdFx0XHRcdFx0aWYgKGhvb2tJdGVtLl9uZXh0VmFsdWUpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGhvb2tJdGVtLl92YWx1ZVswXTtcblx0XHRcdFx0XHRcdGhvb2tJdGVtLl92YWx1ZSA9IGhvb2tJdGVtLl9uZXh0VmFsdWU7XG5cdFx0XHRcdFx0XHRob29rSXRlbS5fbmV4dFZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSAhPT0gaG9va0l0ZW0uX3ZhbHVlWzBdKSBzaG91bGRVcGRhdGUgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0cmV0dXJuIHByZXZTY3Vcblx0XHRcdFx0XHQ/IHByZXZTY3UuY2FsbCh0aGlzLCBwLCBzLCBjKSB8fCBzaG91bGRVcGRhdGVcblx0XHRcdFx0XHQ6IHNob3VsZFVwZGF0ZTtcblx0XHRcdH1cblxuXHRcdFx0Y3VycmVudENvbXBvbmVudC5zaG91bGRDb21wb25lbnRVcGRhdGUgPSB1cGRhdGVIb29rU3RhdGU7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGhvb2tTdGF0ZS5fbmV4dFZhbHVlIHx8IGhvb2tTdGF0ZS5fdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FZmZlY3R9IGNhbGxiYWNrXG4gKiBAcGFyYW0ge3Vua25vd25bXX0gYXJnc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VFZmZlY3QoY2FsbGJhY2ssIGFyZ3MpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FZmZlY3RIb29rU3RhdGV9ICovXG5cdGNvbnN0IHN0YXRlID0gZ2V0SG9va1N0YXRlKGN1cnJlbnRJbmRleCsrLCAzKTtcblx0aWYgKCFvcHRpb25zLl9za2lwRWZmZWN0cyAmJiBhcmdzQ2hhbmdlZChzdGF0ZS5fYXJncywgYXJncykpIHtcblx0XHRzdGF0ZS5fdmFsdWUgPSBjYWxsYmFjaztcblx0XHRzdGF0ZS5fcGVuZGluZ0FyZ3MgPSBhcmdzO1xuXG5cdFx0Y3VycmVudENvbXBvbmVudC5fX2hvb2tzLl9wZW5kaW5nRWZmZWN0cy5wdXNoKHN0YXRlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuRWZmZWN0fSBjYWxsYmFja1xuICogQHBhcmFtIHt1bmtub3duW119IGFyZ3NcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTGF5b3V0RWZmZWN0KGNhbGxiYWNrLCBhcmdzKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuRWZmZWN0SG9va1N0YXRlfSAqL1xuXHRjb25zdCBzdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgNCk7XG5cdGlmICghb3B0aW9ucy5fc2tpcEVmZmVjdHMgJiYgYXJnc0NoYW5nZWQoc3RhdGUuX2FyZ3MsIGFyZ3MpKSB7XG5cdFx0c3RhdGUuX3ZhbHVlID0gY2FsbGJhY2s7XG5cdFx0c3RhdGUuX3BlbmRpbmdBcmdzID0gYXJncztcblxuXHRcdGN1cnJlbnRDb21wb25lbnQuX3JlbmRlckNhbGxiYWNrcy5wdXNoKHN0YXRlKTtcblx0fVxufVxuXG4vKiogQHR5cGUgeyhpbml0aWFsVmFsdWU6IHVua25vd24pID0+IHVua25vd259ICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVmKGluaXRpYWxWYWx1ZSkge1xuXHRjdXJyZW50SG9vayA9IDU7XG5cdHJldHVybiB1c2VNZW1vKCgpID0+ICh7IGN1cnJlbnQ6IGluaXRpYWxWYWx1ZSB9KSwgW10pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7KCkgPT4gb2JqZWN0fSBjcmVhdGVIYW5kbGVcbiAqIEBwYXJhbSB7dW5rbm93bltdfSBhcmdzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGVIYW5kbGUsIGFyZ3MpIHtcblx0Y3VycmVudEhvb2sgPSA2O1xuXHR1c2VMYXlvdXRFZmZlY3QoXG5cdFx0KCkgPT4ge1xuXHRcdFx0aWYgKHR5cGVvZiByZWYgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjb25zdCByZXN1bHQgPSByZWYoY3JlYXRlSGFuZGxlKCkpO1xuXHRcdFx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0XHRcdHJlZihudWxsKTtcblx0XHRcdFx0XHRpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT0gJ2Z1bmN0aW9uJykgcmVzdWx0KCk7XG5cdFx0XHRcdH07XG5cdFx0XHR9IGVsc2UgaWYgKHJlZikge1xuXHRcdFx0XHRyZWYuY3VycmVudCA9IGNyZWF0ZUhhbmRsZSgpO1xuXHRcdFx0XHRyZXR1cm4gKCkgPT4gKHJlZi5jdXJyZW50ID0gbnVsbCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhcmdzID09IG51bGwgPyBhcmdzIDogYXJncy5jb25jYXQocmVmKVxuXHQpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7dW5rbm93bn0gVFxuICogQHBhcmFtIHsoKSA9PiBUfSBmYWN0b3J5XG4gKiBAcGFyYW0ge3Vua25vd25bXX0gYXJnc1xuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZW1vKGZhY3RvcnksIGFyZ3MpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5NZW1vSG9va1N0YXRlPFQ+fSAqL1xuXHRjb25zdCBzdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgNyk7XG5cdGlmIChhcmdzQ2hhbmdlZChzdGF0ZS5fYXJncywgYXJncykpIHtcblx0XHRzdGF0ZS5fdmFsdWUgPSBmYWN0b3J5KCk7XG5cdFx0c3RhdGUuX2FyZ3MgPSBhcmdzO1xuXHRcdHN0YXRlLl9mYWN0b3J5ID0gZmFjdG9yeTtcblx0fVxuXG5cdHJldHVybiBzdGF0ZS5fdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBjYWxsYmFja1xuICogQHBhcmFtIHt1bmtub3duW119IGFyZ3NcbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQ2FsbGJhY2soY2FsbGJhY2ssIGFyZ3MpIHtcblx0Y3VycmVudEhvb2sgPSA4O1xuXHRyZXR1cm4gdXNlTWVtbygoKSA9PiBjYWxsYmFjaywgYXJncyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RDb250ZXh0fSBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb250ZXh0KGNvbnRleHQpIHtcblx0Y29uc3QgcHJvdmlkZXIgPSBjdXJyZW50Q29tcG9uZW50LmNvbnRleHRbY29udGV4dC5faWRdO1xuXHQvLyBXZSBjb3VsZCBza2lwIHRoaXMgY2FsbCBoZXJlLCBidXQgdGhhbiB3ZSdkIG5vdCBjYWxsXG5cdC8vIGBvcHRpb25zLl9ob29rYC4gV2UgbmVlZCB0byBkbyB0aGF0IGluIG9yZGVyIHRvIG1ha2Vcblx0Ly8gdGhlIGRldnRvb2xzIGF3YXJlIG9mIHRoaXMgaG9vay5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db250ZXh0SG9va1N0YXRlfSAqL1xuXHRjb25zdCBzdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgOSk7XG5cdC8vIFRoZSBkZXZ0b29scyBuZWVkcyBhY2Nlc3MgdG8gdGhlIGNvbnRleHQgb2JqZWN0IHRvXG5cdC8vIGJlIGFibGUgdG8gcHVsbCBvZiB0aGUgZGVmYXVsdCB2YWx1ZSB3aGVuIG5vIHByb3ZpZGVyXG5cdC8vIGlzIHByZXNlbnQgaW4gdGhlIHRyZWUuXG5cdHN0YXRlLl9jb250ZXh0ID0gY29udGV4dDtcblx0aWYgKCFwcm92aWRlcikgcmV0dXJuIGNvbnRleHQuX2RlZmF1bHRWYWx1ZTtcblx0Ly8gVGhpcyBpcyBwcm9iYWJseSBub3Qgc2FmZSB0byBjb252ZXJ0IHRvIFwiIVwiXG5cdGlmIChzdGF0ZS5fdmFsdWUgPT0gbnVsbCkge1xuXHRcdHN0YXRlLl92YWx1ZSA9IHRydWU7XG5cdFx0cHJvdmlkZXIuc3ViKGN1cnJlbnRDb21wb25lbnQpO1xuXHR9XG5cdHJldHVybiBwcm92aWRlci5wcm9wcy52YWx1ZTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IGEgY3VzdG9tIGxhYmVsIGZvciBhIGN1c3RvbSBob29rIGZvciB0aGUgZGV2dG9vbHMgcGFuZWxcbiAqIEB0eXBlIHs8VD4odmFsdWU6IFQsIGNiPzogKHZhbHVlOiBUKSA9PiBzdHJpbmcgfCBudW1iZXIpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VEZWJ1Z1ZhbHVlKHZhbHVlLCBmb3JtYXR0ZXIpIHtcblx0aWYgKG9wdGlvbnMudXNlRGVidWdWYWx1ZSkge1xuXHRcdG9wdGlvbnMudXNlRGVidWdWYWx1ZShcblx0XHRcdGZvcm1hdHRlciA/IGZvcm1hdHRlcih2YWx1ZSkgOiAvKiogQHR5cGUge2FueX0qLyAodmFsdWUpXG5cdFx0KTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7KGVycm9yOiB1bmtub3duLCBlcnJvckluZm86IGltcG9ydCgncHJlYWN0JykuRXJyb3JJbmZvKSA9PiB2b2lkfSBjYlxuICogQHJldHVybnMge1t1bmtub3duLCAoKSA9PiB2b2lkXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUVycm9yQm91bmRhcnkoY2IpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FcnJvckJvdW5kYXJ5SG9va1N0YXRlfSAqL1xuXHRjb25zdCBzdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgMTApO1xuXHRjb25zdCBlcnJTdGF0ZSA9IHVzZVN0YXRlKCk7XG5cdHN0YXRlLl92YWx1ZSA9IGNiO1xuXHRpZiAoIWN1cnJlbnRDb21wb25lbnQuY29tcG9uZW50RGlkQ2F0Y2gpIHtcblx0XHRjdXJyZW50Q29tcG9uZW50LmNvbXBvbmVudERpZENhdGNoID0gKGVyciwgZXJyb3JJbmZvKSA9PiB7XG5cdFx0XHRpZiAoc3RhdGUuX3ZhbHVlKSBzdGF0ZS5fdmFsdWUoZXJyLCBlcnJvckluZm8pO1xuXHRcdFx0ZXJyU3RhdGVbMV0oZXJyKTtcblx0XHR9O1xuXHR9XG5cdHJldHVybiBbXG5cdFx0ZXJyU3RhdGVbMF0sXG5cdFx0KCkgPT4ge1xuXHRcdFx0ZXJyU3RhdGVbMV0odW5kZWZpbmVkKTtcblx0XHR9XG5cdF07XG59XG5cbi8qKiBAdHlwZSB7KCkgPT4gc3RyaW5nfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUlkKCkge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLklkSG9va1N0YXRlfSAqL1xuXHRjb25zdCBzdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgMTEpO1xuXHRpZiAoIXN0YXRlLl92YWx1ZSkge1xuXHRcdC8vIEdyYWIgZWl0aGVyIHRoZSByb290IG5vZGUgb3IgdGhlIG5lYXJlc3QgYXN5bmMgYm91bmRhcnkgbm9kZS5cblx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSAqL1xuXHRcdGxldCByb290ID0gY3VycmVudENvbXBvbmVudC5fdm5vZGU7XG5cdFx0d2hpbGUgKHJvb3QgIT09IG51bGwgJiYgIXJvb3QuX21hc2sgJiYgcm9vdC5fcGFyZW50ICE9PSBudWxsKSB7XG5cdFx0XHRyb290ID0gcm9vdC5fcGFyZW50O1xuXHRcdH1cblxuXHRcdGxldCBtYXNrID0gcm9vdC5fbWFzayB8fCAocm9vdC5fbWFzayA9IFswLCAwXSk7XG5cdFx0c3RhdGUuX3ZhbHVlID0gJ1AnICsgbWFza1swXSArICctJyArIG1hc2tbMV0rKztcblx0fVxuXG5cdHJldHVybiBzdGF0ZS5fdmFsdWU7XG59XG5cbi8qKlxuICogQWZ0ZXIgcGFpbnQgZWZmZWN0cyBjb25zdW1lci5cbiAqL1xuZnVuY3Rpb24gZmx1c2hBZnRlclBhaW50RWZmZWN0cygpIHtcblx0bGV0IGNvbXBvbmVudDtcblx0d2hpbGUgKChjb21wb25lbnQgPSBhZnRlclBhaW50RWZmZWN0cy5zaGlmdCgpKSkge1xuXHRcdGlmICghY29tcG9uZW50Ll9wYXJlbnREb20gfHwgIWNvbXBvbmVudC5fX2hvb2tzKSBjb250aW51ZTtcblx0XHR0cnkge1xuXHRcdFx0Y29tcG9uZW50Ll9faG9va3MuX3BlbmRpbmdFZmZlY3RzLmZvckVhY2goaW52b2tlQ2xlYW51cCk7XG5cdFx0XHRjb21wb25lbnQuX19ob29rcy5fcGVuZGluZ0VmZmVjdHMuZm9yRWFjaChpbnZva2VFZmZlY3QpO1xuXHRcdFx0Y29tcG9uZW50Ll9faG9va3MuX3BlbmRpbmdFZmZlY3RzID0gW107XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29tcG9uZW50Ll9faG9va3MuX3BlbmRpbmdFZmZlY3RzID0gW107XG5cdFx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIGNvbXBvbmVudC5fdm5vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5sZXQgSEFTX1JBRiA9IHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT0gJ2Z1bmN0aW9uJztcblxuLyoqXG4gKiBTY2hlZHVsZSBhIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgYWZ0ZXIgdGhlIGJyb3dzZXIgaGFzIGEgY2hhbmNlIHRvIHBhaW50IGEgbmV3IGZyYW1lLlxuICogRG8gdGhpcyBieSBjb21iaW5pbmcgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIChyQUYpICsgc2V0VGltZW91dCB0byBpbnZva2UgYSBjYWxsYmFjayBhZnRlclxuICogdGhlIG5leHQgYnJvd3NlciBmcmFtZS5cbiAqXG4gKiBBbHNvLCBzY2hlZHVsZSBhIHRpbWVvdXQgaW4gcGFyYWxsZWwgdG8gdGhlIHRoZSByQUYgdG8gZW5zdXJlIHRoZSBjYWxsYmFjayBpcyBpbnZva2VkXG4gKiBldmVuIGlmIFJBRiBkb2Vzbid0IGZpcmUgKGZvciBleGFtcGxlIGlmIHRoZSBicm93c2VyIHRhYiBpcyBub3QgdmlzaWJsZSlcbiAqXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGNhbGxiYWNrXG4gKi9cbmZ1bmN0aW9uIGFmdGVyTmV4dEZyYW1lKGNhbGxiYWNrKSB7XG5cdGNvbnN0IGRvbmUgPSAoKSA9PiB7XG5cdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHRcdGlmIChIQVNfUkFGKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuXHRcdHNldFRpbWVvdXQoY2FsbGJhY2spO1xuXHR9O1xuXHRjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dChkb25lLCBSQUZfVElNRU9VVCk7XG5cblx0bGV0IHJhZjtcblx0aWYgKEhBU19SQUYpIHtcblx0XHRyYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZG9uZSk7XG5cdH1cbn1cblxuLy8gTm90ZTogaWYgc29tZW9uZSB1c2VkIG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmcgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUsXG4vLyB0aGVuIGVmZmVjdHMgd2lsbCBBTFdBWVMgcnVuIG9uIHRoZSBORVhUIGZyYW1lIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgb25lLCBpbmN1cnJpbmcgYSB+MTZtcyBkZWxheS5cbi8vIFBlcmhhcHMgdGhpcyBpcyBub3Qgc3VjaCBhIGJpZyBkZWFsLlxuLyoqXG4gKiBTY2hlZHVsZSBhZnRlclBhaW50RWZmZWN0cyBmbHVzaCBhZnRlciB0aGUgYnJvd3NlciBwYWludHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdRdWV1ZUxlbmd0aFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGFmdGVyUGFpbnQobmV3UXVldWVMZW5ndGgpIHtcblx0aWYgKG5ld1F1ZXVlTGVuZ3RoID09PSAxIHx8IHByZXZSYWYgIT09IG9wdGlvbnMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG5cdFx0cHJldlJhZiA9IG9wdGlvbnMucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXHRcdChwcmV2UmFmIHx8IGFmdGVyTmV4dEZyYW1lKShmbHVzaEFmdGVyUGFpbnRFZmZlY3RzKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuSG9va1N0YXRlfSBob29rXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gaW52b2tlQ2xlYW51cChob29rKSB7XG5cdC8vIEEgaG9vayBjbGVhbnVwIGNhbiBpbnRyb2R1Y2UgYSBjYWxsIHRvIHJlbmRlciB3aGljaCBjcmVhdGVzIGEgbmV3IHJvb3QsIHRoaXMgd2lsbCBjYWxsIG9wdGlvbnMudm5vZGVcblx0Ly8gYW5kIG1vdmUgdGhlIGN1cnJlbnRDb21wb25lbnQgYXdheS5cblx0Y29uc3QgY29tcCA9IGN1cnJlbnRDb21wb25lbnQ7XG5cdGxldCBjbGVhbnVwID0gaG9vay5fY2xlYW51cDtcblx0aWYgKHR5cGVvZiBjbGVhbnVwID09ICdmdW5jdGlvbicpIHtcblx0XHRob29rLl9jbGVhbnVwID0gdW5kZWZpbmVkO1xuXHRcdGNsZWFudXAoKTtcblx0fVxuXG5cdGN1cnJlbnRDb21wb25lbnQgPSBjb21wO1xufVxuXG4vKipcbiAqIEludm9rZSBhIEhvb2sncyBlZmZlY3RcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuRWZmZWN0SG9va1N0YXRlfSBob29rXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gaW52b2tlRWZmZWN0KGhvb2spIHtcblx0Ly8gQSBob29rIGNhbGwgY2FuIGludHJvZHVjZSBhIGNhbGwgdG8gcmVuZGVyIHdoaWNoIGNyZWF0ZXMgYSBuZXcgcm9vdCwgdGhpcyB3aWxsIGNhbGwgb3B0aW9ucy52bm9kZVxuXHQvLyBhbmQgbW92ZSB0aGUgY3VycmVudENvbXBvbmVudCBhd2F5LlxuXHRjb25zdCBjb21wID0gY3VycmVudENvbXBvbmVudDtcblx0aG9vay5fY2xlYW51cCA9IGhvb2suX3ZhbHVlKCk7XG5cdGN1cnJlbnRDb21wb25lbnQgPSBjb21wO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bltdfSBvbGRBcmdzXG4gKiBAcGFyYW0ge3Vua25vd25bXX0gbmV3QXJnc1xuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGFyZ3NDaGFuZ2VkKG9sZEFyZ3MsIG5ld0FyZ3MpIHtcblx0cmV0dXJuIChcblx0XHQhb2xkQXJncyB8fFxuXHRcdG9sZEFyZ3MubGVuZ3RoICE9PSBuZXdBcmdzLmxlbmd0aCB8fFxuXHRcdG5ld0FyZ3Muc29tZSgoYXJnLCBpbmRleCkgPT4gYXJnICE9PSBvbGRBcmdzW2luZGV4XSlcblx0KTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgQXJnXG4gKiBAcGFyYW0ge0FyZ30gYXJnXG4gKiBAcGFyYW0geyhhcmc6IEFyZykgPT4gYW55fSBmXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBpbnZva2VPclJldHVybihhcmcsIGYpIHtcblx0cmV0dXJuIHR5cGVvZiBmID09ICdmdW5jdGlvbicgPyBmKGFyZykgOiBmO1xufVxuIiwgIi8qKlxuICogQXNzaWduIHByb3BlcnRpZXMgZnJvbSBgcHJvcHNgIHRvIGBvYmpgXG4gKiBAdGVtcGxhdGUgTywgUCBUaGUgb2JqIGFuZCBwcm9wcyB0eXBlc1xuICogQHBhcmFtIHtPfSBvYmogVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG9cbiAqIEBwYXJhbSB7UH0gcHJvcHMgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHJldHVybnMge08gJiBQfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKG9iaiwgcHJvcHMpIHtcblx0Zm9yIChsZXQgaSBpbiBwcm9wcykgb2JqW2ldID0gcHJvcHNbaV07XG5cdHJldHVybiAvKiogQHR5cGUge08gJiBQfSAqLyAob2JqKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gb2JqZWN0cyBoYXZlIGEgZGlmZmVyZW50IHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gYVxuICogQHBhcmFtIHtvYmplY3R9IGJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhbGxvd0RpZmZlcnMoYSwgYikge1xuXHRmb3IgKGxldCBpIGluIGEpIGlmIChpICE9PSAnX19zb3VyY2UnICYmICEoaSBpbiBiKSkgcmV0dXJuIHRydWU7XG5cdGZvciAobGV0IGkgaW4gYikgaWYgKGkgIT09ICdfX3NvdXJjZScgJiYgYVtpXSAhPT0gYltpXSkgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gdmFsdWVzIGFyZSB0aGUgc2FtZSB2YWx1ZVxuICogQHBhcmFtIHsqfSB4XG4gKiBAcGFyYW0geyp9IHlcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXMoeCwgeSkge1xuXHRyZXR1cm4gKHggPT09IHkgJiYgKHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5KSkgfHwgKHggIT09IHggJiYgeSAhPT0geSk7XG59XG4iLCAiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0IH0gZnJvbSAncHJlYWN0L2hvb2tzJztcbmltcG9ydCB7IGlzIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBUaGlzIGlzIHRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvbWFpbi9wYWNrYWdlcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS9zcmMvdXNlU3luY0V4dGVybmFsU3RvcmVTaGltQ2xpZW50LmpzI0w4NFxuICogb24gYSBoaWdoIGxldmVsIHRoaXMgY3V0cyBvdXQgdGhlIHdhcm5pbmdzLCAuLi4gYW5kIGF0dGVtcHRzIGEgc21hbGxlciBpbXBsZW1lbnRhdGlvblxuICogQHR5cGVkZWYge3sgX3ZhbHVlOiBhbnk7IF9nZXRTbmFwc2hvdDogKCkgPT4gYW55IH19IFN0b3JlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTeW5jRXh0ZXJuYWxTdG9yZShzdWJzY3JpYmUsIGdldFNuYXBzaG90KSB7XG5cdGNvbnN0IHZhbHVlID0gZ2V0U25hcHNob3QoKTtcblxuXHQvKipcblx0ICogQHR5cGVkZWYge3sgX2luc3RhbmNlOiBTdG9yZSB9fSBTdG9yZVJlZlxuXHQgKiBAdHlwZSB7W1N0b3JlUmVmLCAoc3RvcmU6IFN0b3JlUmVmKSA9PiB2b2lkXX1cblx0ICovXG5cdGNvbnN0IFt7IF9pbnN0YW5jZSB9LCBmb3JjZVVwZGF0ZV0gPSB1c2VTdGF0ZSh7XG5cdFx0X2luc3RhbmNlOiB7IF92YWx1ZTogdmFsdWUsIF9nZXRTbmFwc2hvdDogZ2V0U25hcHNob3QgfVxuXHR9KTtcblxuXHR1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuXHRcdF9pbnN0YW5jZS5fdmFsdWUgPSB2YWx1ZTtcblx0XHRfaW5zdGFuY2UuX2dldFNuYXBzaG90ID0gZ2V0U25hcHNob3Q7XG5cblx0XHRpZiAoZGlkU25hcHNob3RDaGFuZ2UoX2luc3RhbmNlKSkge1xuXHRcdFx0Zm9yY2VVcGRhdGUoeyBfaW5zdGFuY2UgfSk7XG5cdFx0fVxuXHR9LCBbc3Vic2NyaWJlLCB2YWx1ZSwgZ2V0U25hcHNob3RdKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGlmIChkaWRTbmFwc2hvdENoYW5nZShfaW5zdGFuY2UpKSB7XG5cdFx0XHRmb3JjZVVwZGF0ZSh7IF9pbnN0YW5jZSB9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gc3Vic2NyaWJlKCgpID0+IHtcblx0XHRcdGlmIChkaWRTbmFwc2hvdENoYW5nZShfaW5zdGFuY2UpKSB7XG5cdFx0XHRcdGZvcmNlVXBkYXRlKHsgX2luc3RhbmNlIH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LCBbc3Vic2NyaWJlXSk7XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKiogQHR5cGUgeyhpbnN0OiBTdG9yZSkgPT4gYm9vbGVhbn0gKi9cbmZ1bmN0aW9uIGRpZFNuYXBzaG90Q2hhbmdlKGluc3QpIHtcblx0Y29uc3QgbGF0ZXN0R2V0U25hcHNob3QgPSBpbnN0Ll9nZXRTbmFwc2hvdDtcblx0Y29uc3QgcHJldlZhbHVlID0gaW5zdC5fdmFsdWU7XG5cdHRyeSB7XG5cdFx0Y29uc3QgbmV4dFZhbHVlID0gbGF0ZXN0R2V0U25hcHNob3QoKTtcblx0XHRyZXR1cm4gIWlzKHByZXZWYWx1ZSwgbmV4dFZhbHVlKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRUcmFuc2l0aW9uKGNiKSB7XG5cdGNiKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VEZWZlcnJlZFZhbHVlKHZhbCkge1xuXHRyZXR1cm4gdmFsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVHJhbnNpdGlvbigpIHtcblx0cmV0dXJuIFtmYWxzZSwgc3RhcnRUcmFuc2l0aW9uXTtcbn1cblxuLy8gVE9ETzogaW4gdGhlb3J5IHRoaXMgc2hvdWxkIGJlIGRvbmUgYWZ0ZXIgYSBWTm9kZSBpcyBkaWZmZWQgYXMgd2Ugd2FudCB0byBpbnNlcnRcbi8vIHN0eWxlcy8uLi4gYmVmb3JlIGl0IGF0dGFjaGVzXG5leHBvcnQgY29uc3QgdXNlSW5zZXJ0aW9uRWZmZWN0ID0gdXNlTGF5b3V0RWZmZWN0O1xuIiwgImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBzaGFsbG93RGlmZmVycyB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogQ29tcG9uZW50IGNsYXNzIHdpdGggYSBwcmVkZWZpbmVkIGBzaG91bGRDb21wb25lbnRVcGRhdGVgIGltcGxlbWVudGF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBQdXJlQ29tcG9uZW50KHAsIGMpIHtcblx0dGhpcy5wcm9wcyA9IHA7XG5cdHRoaXMuY29udGV4dCA9IGM7XG59XG5QdXJlQ29tcG9uZW50LnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnQoKTtcbi8vIFNvbWUgdGhpcmQtcGFydHkgbGlicmFyaWVzIGNoZWNrIGlmIHRoaXMgcHJvcGVydHkgaXMgcHJlc2VudFxuUHVyZUNvbXBvbmVudC5wcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnQgPSB0cnVlO1xuUHVyZUNvbXBvbmVudC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gKHByb3BzLCBzdGF0ZSkge1xuXHRyZXR1cm4gc2hhbGxvd0RpZmZlcnModGhpcy5wcm9wcywgcHJvcHMpIHx8IHNoYWxsb3dEaWZmZXJzKHRoaXMuc3RhdGUsIHN0YXRlKTtcbn07XG4iLCAiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBzaGFsbG93RGlmZmVycyB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogTWVtb2l6ZSBhIGNvbXBvbmVudCwgc28gdGhhdCBpdCBvbmx5IHVwZGF0ZXMgd2hlbiB0aGUgcHJvcHMgYWN0dWFsbHkgaGF2ZVxuICogY2hhbmdlZC4gVGhpcyB3YXMgcHJldmlvdXNseSBrbm93biBhcyBgUmVhY3QucHVyZWAuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkZ1bmN0aW9uQ29tcG9uZW50fSBjIGZ1bmN0aW9uYWwgY29tcG9uZW50XG4gKiBAcGFyYW0geyhwcmV2OiBvYmplY3QsIG5leHQ6IG9iamVjdCkgPT4gYm9vbGVhbn0gW2NvbXBhcmVyXSBDdXN0b20gZXF1YWxpdHkgZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5GdW5jdGlvbkNvbXBvbmVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lbW8oYywgY29tcGFyZXIpIHtcblx0ZnVuY3Rpb24gc2hvdWxkVXBkYXRlKG5leHRQcm9wcykge1xuXHRcdGxldCByZWYgPSB0aGlzLnByb3BzLnJlZjtcblx0XHRsZXQgdXBkYXRlUmVmID0gcmVmID09IG5leHRQcm9wcy5yZWY7XG5cdFx0aWYgKCF1cGRhdGVSZWYgJiYgcmVmKSB7XG5cdFx0XHRyZWYuY2FsbCA/IHJlZihudWxsKSA6IChyZWYuY3VycmVudCA9IG51bGwpO1xuXHRcdH1cblxuXHRcdGlmICghY29tcGFyZXIpIHtcblx0XHRcdHJldHVybiBzaGFsbG93RGlmZmVycyh0aGlzLnByb3BzLCBuZXh0UHJvcHMpO1xuXHRcdH1cblxuXHRcdHJldHVybiAhY29tcGFyZXIodGhpcy5wcm9wcywgbmV4dFByb3BzKSB8fCAhdXBkYXRlUmVmO1xuXHR9XG5cblx0ZnVuY3Rpb24gTWVtb2VkKHByb3BzKSB7XG5cdFx0dGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBzaG91bGRVcGRhdGU7XG5cdFx0cmV0dXJuIGNyZWF0ZUVsZW1lbnQoYywgcHJvcHMpO1xuXHR9XG5cdE1lbW9lZC5kaXNwbGF5TmFtZSA9ICdNZW1vKCcgKyAoYy5kaXNwbGF5TmFtZSB8fCBjLm5hbWUpICsgJyknO1xuXHRNZW1vZWQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB0cnVlO1xuXHRNZW1vZWQuX2ZvcndhcmRlZCA9IHRydWU7XG5cdHJldHVybiBNZW1vZWQ7XG59XG4iLCAiaW1wb3J0IHsgb3B0aW9ucyB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuXG5sZXQgb2xkRGlmZkhvb2sgPSBvcHRpb25zLl9kaWZmO1xub3B0aW9ucy5fZGlmZiA9IHZub2RlID0+IHtcblx0aWYgKHZub2RlLnR5cGUgJiYgdm5vZGUudHlwZS5fZm9yd2FyZGVkICYmIHZub2RlLnJlZikge1xuXHRcdHZub2RlLnByb3BzLnJlZiA9IHZub2RlLnJlZjtcblx0XHR2bm9kZS5yZWYgPSBudWxsO1xuXHR9XG5cdGlmIChvbGREaWZmSG9vaykgb2xkRGlmZkhvb2sodm5vZGUpO1xufTtcblxuZXhwb3J0IGNvbnN0IFJFQUNUX0ZPUldBUkRfU1lNQk9MID1cblx0KHR5cGVvZiBTeW1ib2wgIT0gJ3VuZGVmaW5lZCcgJiZcblx0XHRTeW1ib2wuZm9yICYmXG5cdFx0U3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKSkgfHxcblx0MHhmNDc7XG5cbi8qKlxuICogUGFzcyByZWYgZG93biB0byBhIGNoaWxkLiBUaGlzIGlzIG1haW5seSB1c2VkIGluIGxpYnJhcmllcyB3aXRoIEhPQ3MgdGhhdFxuICogd3JhcCBjb21wb25lbnRzLiBVc2luZyBgZm9yd2FyZFJlZmAgdGhlcmUgaXMgYW4gZWFzeSB3YXkgdG8gZ2V0IGEgcmVmZXJlbmNlXG4gKiBvZiB0aGUgd3JhcHBlZCBjb21wb25lbnQgaW5zdGVhZCBvZiBvbmUgb2YgdGhlIHdyYXBwZXIgaXRzZWxmLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW5kZXgnKS5Gb3J3YXJkRm59IGZuXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuRnVuY3Rpb25Db21wb25lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3J3YXJkUmVmKGZuKSB7XG5cdGZ1bmN0aW9uIEZvcndhcmRlZChwcm9wcykge1xuXHRcdGxldCBjbG9uZSA9IGFzc2lnbih7fSwgcHJvcHMpO1xuXHRcdGRlbGV0ZSBjbG9uZS5yZWY7XG5cdFx0cmV0dXJuIGZuKGNsb25lLCBwcm9wcy5yZWYgfHwgbnVsbCk7XG5cdH1cblxuXHQvLyBtb2J4LXJlYWN0IGNoZWNrcyBmb3IgdGhpcyBiZWluZyBwcmVzZW50XG5cdEZvcndhcmRlZC4kJHR5cGVvZiA9IFJFQUNUX0ZPUldBUkRfU1lNQk9MO1xuXHQvLyBtb2J4LXJlYWN0IGhlYXZpbHkgcmVsaWVzIG9uIGltcGxlbWVudGF0aW9uIGRldGFpbHMuXG5cdC8vIEl0IGV4cGVjdHMgYW4gb2JqZWN0IGhlcmUgd2l0aCBhIGByZW5kZXJgIHByb3BlcnR5LFxuXHQvLyBhbmQgcHJvdG90eXBlLnJlbmRlciB3aWxsIGZhaWwuIFdpdGhvdXQgdGhpc1xuXHQvLyBtb2J4LXJlYWN0IHRocm93cy5cblx0Rm9yd2FyZGVkLnJlbmRlciA9IEZvcndhcmRlZDtcblxuXHRGb3J3YXJkZWQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSBGb3J3YXJkZWQuX2ZvcndhcmRlZCA9IHRydWU7XG5cdEZvcndhcmRlZC5kaXNwbGF5TmFtZSA9ICdGb3J3YXJkUmVmKCcgKyAoZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSkgKyAnKSc7XG5cdHJldHVybiBGb3J3YXJkZWQ7XG59XG4iLCAiaW1wb3J0IHsgdG9DaGlsZEFycmF5IH0gZnJvbSAncHJlYWN0JztcblxuY29uc3QgbWFwRm4gPSAoY2hpbGRyZW4sIGZuKSA9PiB7XG5cdGlmIChjaGlsZHJlbiA9PSBudWxsKSByZXR1cm4gbnVsbDtcblx0cmV0dXJuIHRvQ2hpbGRBcnJheSh0b0NoaWxkQXJyYXkoY2hpbGRyZW4pLm1hcChmbikpO1xufTtcblxuLy8gVGhpcyBBUEkgaXMgY29tcGxldGVseSB1bm5lY2Vzc2FyeSBmb3IgUHJlYWN0LCBzbyBpdCdzIGJhc2ljYWxseSBwYXNzdGhyb3VnaC5cbmV4cG9ydCBjb25zdCBDaGlsZHJlbiA9IHtcblx0bWFwOiBtYXBGbixcblx0Zm9yRWFjaDogbWFwRm4sXG5cdGNvdW50KGNoaWxkcmVuKSB7XG5cdFx0cmV0dXJuIGNoaWxkcmVuID8gdG9DaGlsZEFycmF5KGNoaWxkcmVuKS5sZW5ndGggOiAwO1xuXHR9LFxuXHRvbmx5KGNoaWxkcmVuKSB7XG5cdFx0Y29uc3Qgbm9ybWFsaXplZCA9IHRvQ2hpbGRBcnJheShjaGlsZHJlbik7XG5cdFx0aWYgKG5vcm1hbGl6ZWQubGVuZ3RoICE9PSAxKSB0aHJvdyAnQ2hpbGRyZW4ub25seSc7XG5cdFx0cmV0dXJuIG5vcm1hbGl6ZWRbMF07XG5cdH0sXG5cdHRvQXJyYXk6IHRvQ2hpbGRBcnJheVxufTtcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIGNyZWF0ZUVsZW1lbnQsIG9wdGlvbnMsIEZyYWdtZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IE1PREVfSFlEUkFURSB9IGZyb20gJy4uLy4uL3NyYy9jb25zdGFudHMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcblxuY29uc3Qgb2xkQ2F0Y2hFcnJvciA9IG9wdGlvbnMuX2NhdGNoRXJyb3I7XG5vcHRpb25zLl9jYXRjaEVycm9yID0gZnVuY3Rpb24gKGVycm9yLCBuZXdWTm9kZSwgb2xkVk5vZGUsIGVycm9ySW5mbykge1xuXHRpZiAoZXJyb3IudGhlbikge1xuXHRcdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSAqL1xuXHRcdGxldCBjb21wb25lbnQ7XG5cdFx0bGV0IHZub2RlID0gbmV3Vk5vZGU7XG5cblx0XHRmb3IgKDsgKHZub2RlID0gdm5vZGUuX3BhcmVudCk7ICkge1xuXHRcdFx0aWYgKChjb21wb25lbnQgPSB2bm9kZS5fY29tcG9uZW50KSAmJiBjb21wb25lbnQuX2NoaWxkRGlkU3VzcGVuZCkge1xuXHRcdFx0XHRpZiAobmV3Vk5vZGUuX2RvbSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2RvbSA9IG9sZFZOb2RlLl9kb207XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NoaWxkcmVuID0gb2xkVk5vZGUuX2NoaWxkcmVuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIERvbid0IGNhbGwgb2xkQ2F0Y2hFcnJvciBpZiB3ZSBmb3VuZCBhIFN1c3BlbnNlXG5cdFx0XHRcdHJldHVybiBjb21wb25lbnQuX2NoaWxkRGlkU3VzcGVuZChlcnJvciwgbmV3Vk5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRvbGRDYXRjaEVycm9yKGVycm9yLCBuZXdWTm9kZSwgb2xkVk5vZGUsIGVycm9ySW5mbyk7XG59O1xuXG5jb25zdCBvbGRVbm1vdW50ID0gb3B0aW9ucy51bm1vdW50O1xub3B0aW9ucy51bm1vdW50ID0gZnVuY3Rpb24gKHZub2RlKSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSAqL1xuXHRjb25zdCBjb21wb25lbnQgPSB2bm9kZS5fY29tcG9uZW50O1xuXHRpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC5fb25SZXNvbHZlKSB7XG5cdFx0Y29tcG9uZW50Ll9vblJlc29sdmUoKTtcblx0fVxuXG5cdC8vIGlmIHRoZSBjb21wb25lbnQgaXMgc3RpbGwgaHlkcmF0aW5nXG5cdC8vIG1vc3QgbGlrZWx5IGl0IGlzIGJlY2F1c2UgdGhlIGNvbXBvbmVudCBpcyBzdXNwZW5kZWRcblx0Ly8gd2Ugc2V0IHRoZSB2bm9kZS50eXBlIGFzIGBudWxsYCBzbyB0aGF0IGl0IGlzIG5vdCBhIHR5cGVvZiBmdW5jdGlvblxuXHQvLyBzbyB0aGUgdW5tb3VudCB3aWxsIHJlbW92ZSB0aGUgdm5vZGUuX2RvbVxuXHRpZiAoY29tcG9uZW50ICYmIHZub2RlLl9mbGFncyAmIE1PREVfSFlEUkFURSkge1xuXHRcdHZub2RlLnR5cGUgPSBudWxsO1xuXHR9XG5cblx0aWYgKG9sZFVubW91bnQpIG9sZFVubW91bnQodm5vZGUpO1xufTtcblxuZnVuY3Rpb24gZGV0YWNoZWRDbG9uZSh2bm9kZSwgZGV0YWNoZWRQYXJlbnQsIHBhcmVudERvbSkge1xuXHRpZiAodm5vZGUpIHtcblx0XHRpZiAodm5vZGUuX2NvbXBvbmVudCAmJiB2bm9kZS5fY29tcG9uZW50Ll9faG9va3MpIHtcblx0XHRcdHZub2RlLl9jb21wb25lbnQuX19ob29rcy5fbGlzdC5mb3JFYWNoKGVmZmVjdCA9PiB7XG5cdFx0XHRcdGlmICh0eXBlb2YgZWZmZWN0Ll9jbGVhbnVwID09ICdmdW5jdGlvbicpIGVmZmVjdC5fY2xlYW51cCgpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHZub2RlLl9jb21wb25lbnQuX19ob29rcyA9IG51bGw7XG5cdFx0fVxuXG5cdFx0dm5vZGUgPSBhc3NpZ24oe30sIHZub2RlKTtcblx0XHRpZiAodm5vZGUuX2NvbXBvbmVudCAhPSBudWxsKSB7XG5cdFx0XHRpZiAodm5vZGUuX2NvbXBvbmVudC5fcGFyZW50RG9tID09PSBwYXJlbnREb20pIHtcblx0XHRcdFx0dm5vZGUuX2NvbXBvbmVudC5fcGFyZW50RG9tID0gZGV0YWNoZWRQYXJlbnQ7XG5cdFx0XHR9XG5cblx0XHRcdHZub2RlLl9jb21wb25lbnQuX2ZvcmNlID0gdHJ1ZTtcblxuXHRcdFx0dm5vZGUuX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0dm5vZGUuX2NoaWxkcmVuID1cblx0XHRcdHZub2RlLl9jaGlsZHJlbiAmJlxuXHRcdFx0dm5vZGUuX2NoaWxkcmVuLm1hcChjaGlsZCA9PlxuXHRcdFx0XHRkZXRhY2hlZENsb25lKGNoaWxkLCBkZXRhY2hlZFBhcmVudCwgcGFyZW50RG9tKVxuXHRcdFx0KTtcblx0fVxuXG5cdHJldHVybiB2bm9kZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlT3JpZ2luYWwodm5vZGUsIGRldGFjaGVkUGFyZW50LCBvcmlnaW5hbFBhcmVudCkge1xuXHRpZiAodm5vZGUgJiYgb3JpZ2luYWxQYXJlbnQpIHtcblx0XHR2bm9kZS5fb3JpZ2luYWwgPSBudWxsO1xuXHRcdHZub2RlLl9jaGlsZHJlbiA9XG5cdFx0XHR2bm9kZS5fY2hpbGRyZW4gJiZcblx0XHRcdHZub2RlLl9jaGlsZHJlbi5tYXAoY2hpbGQgPT5cblx0XHRcdFx0cmVtb3ZlT3JpZ2luYWwoY2hpbGQsIGRldGFjaGVkUGFyZW50LCBvcmlnaW5hbFBhcmVudClcblx0XHRcdCk7XG5cblx0XHRpZiAodm5vZGUuX2NvbXBvbmVudCkge1xuXHRcdFx0aWYgKHZub2RlLl9jb21wb25lbnQuX3BhcmVudERvbSA9PT0gZGV0YWNoZWRQYXJlbnQpIHtcblx0XHRcdFx0aWYgKHZub2RlLl9kb20pIHtcblx0XHRcdFx0XHRvcmlnaW5hbFBhcmVudC5hcHBlbmRDaGlsZCh2bm9kZS5fZG9tKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2bm9kZS5fY29tcG9uZW50Ll9mb3JjZSA9IHRydWU7XG5cdFx0XHRcdHZub2RlLl9jb21wb25lbnQuX3BhcmVudERvbSA9IG9yaWdpbmFsUGFyZW50O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB2bm9kZTtcbn1cblxuLy8gaGF2aW5nIGN1c3RvbSBpbmhlcml0YW5jZSBpbnN0ZWFkIG9mIGEgY2xhc3MgaGVyZSBzYXZlcyBhIGxvdCBvZiBieXRlc1xuZXhwb3J0IGZ1bmN0aW9uIFN1c3BlbnNlKCkge1xuXHQvLyB3ZSBkbyBub3QgY2FsbCBzdXBlciBoZXJlIHRvIGdvbGYgc29tZSBieXRlcy4uLlxuXHR0aGlzLl9wZW5kaW5nU3VzcGVuc2lvbkNvdW50ID0gMDtcblx0dGhpcy5fc3VzcGVuZGVycyA9IG51bGw7XG5cdHRoaXMuX2RldGFjaE9uTmV4dFJlbmRlciA9IG51bGw7XG59XG5cbi8vIFRoaW5ncyB3ZSBkbyBoZXJlIHRvIHNhdmUgc29tZSBieXRlcyBidXQgYXJlIG5vdCBwcm9wZXIgSlMgaW5oZXJpdGFuY2U6XG4vLyAtIGNhbGwgYG5ldyBDb21wb25lbnQoKWAgYXMgdGhlIHByb3RvdHlwZVxuLy8gLSBkbyBub3Qgc2V0IGBTdXNwZW5zZS5wcm90b3R5cGUuY29uc3RydWN0b3JgIHRvIGBTdXNwZW5zZWBcblN1c3BlbnNlLnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnQoKTtcblxuLyoqXG4gKiBAdGhpcyB7aW1wb3J0KCcuL2ludGVybmFsJykuU3VzcGVuc2VDb21wb25lbnR9XG4gKiBAcGFyYW0ge1Byb21pc2V9IHByb21pc2UgVGhlIHRocm93biBwcm9taXNlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlPGFueSwgYW55Pn0gc3VzcGVuZGluZ1ZOb2RlIFRoZSBzdXNwZW5kaW5nIGNvbXBvbmVudFxuICovXG5TdXNwZW5zZS5wcm90b3R5cGUuX2NoaWxkRGlkU3VzcGVuZCA9IGZ1bmN0aW9uIChwcm9taXNlLCBzdXNwZW5kaW5nVk5vZGUpIHtcblx0Y29uc3Qgc3VzcGVuZGluZ0NvbXBvbmVudCA9IHN1c3BlbmRpbmdWTm9kZS5fY29tcG9uZW50O1xuXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuU3VzcGVuc2VDb21wb25lbnR9ICovXG5cdGNvbnN0IGMgPSB0aGlzO1xuXG5cdGlmIChjLl9zdXNwZW5kZXJzID09IG51bGwpIHtcblx0XHRjLl9zdXNwZW5kZXJzID0gW107XG5cdH1cblx0Yy5fc3VzcGVuZGVycy5wdXNoKHN1c3BlbmRpbmdDb21wb25lbnQpO1xuXG5cdGNvbnN0IHJlc29sdmUgPSBzdXNwZW5kZWQoYy5fdm5vZGUpO1xuXG5cdGxldCByZXNvbHZlZCA9IGZhbHNlO1xuXHRjb25zdCBvblJlc29sdmVkID0gKCkgPT4ge1xuXHRcdGlmIChyZXNvbHZlZCkgcmV0dXJuO1xuXG5cdFx0cmVzb2x2ZWQgPSB0cnVlO1xuXHRcdHN1c3BlbmRpbmdDb21wb25lbnQuX29uUmVzb2x2ZSA9IG51bGw7XG5cblx0XHRpZiAocmVzb2x2ZSkge1xuXHRcdFx0cmVzb2x2ZShvblN1c3BlbnNpb25Db21wbGV0ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9uU3VzcGVuc2lvbkNvbXBsZXRlKCk7XG5cdFx0fVxuXHR9O1xuXG5cdHN1c3BlbmRpbmdDb21wb25lbnQuX29uUmVzb2x2ZSA9IG9uUmVzb2x2ZWQ7XG5cblx0Y29uc3Qgb25TdXNwZW5zaW9uQ29tcGxldGUgPSAoKSA9PiB7XG5cdFx0aWYgKCEtLWMuX3BlbmRpbmdTdXNwZW5zaW9uQ291bnQpIHtcblx0XHRcdC8vIElmIHRoZSBzdXNwZW5zaW9uIHdhcyBkdXJpbmcgaHlkcmF0aW9uIHdlIGRvbid0IG5lZWQgdG8gcmVzdG9yZSB0aGVcblx0XHRcdC8vIHN1c3BlbmRlZCBjaGlsZHJlbiBpbnRvIHRoZSBfY2hpbGRyZW4gYXJyYXlcblx0XHRcdGlmIChjLnN0YXRlLl9zdXNwZW5kZWQpIHtcblx0XHRcdFx0Y29uc3Qgc3VzcGVuZGVkVk5vZGUgPSBjLnN0YXRlLl9zdXNwZW5kZWQ7XG5cdFx0XHRcdGMuX3Zub2RlLl9jaGlsZHJlblswXSA9IHJlbW92ZU9yaWdpbmFsKFxuXHRcdFx0XHRcdHN1c3BlbmRlZFZOb2RlLFxuXHRcdFx0XHRcdHN1c3BlbmRlZFZOb2RlLl9jb21wb25lbnQuX3BhcmVudERvbSxcblx0XHRcdFx0XHRzdXNwZW5kZWRWTm9kZS5fY29tcG9uZW50Ll9vcmlnaW5hbFBhcmVudERvbVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRjLnNldFN0YXRlKHsgX3N1c3BlbmRlZDogKGMuX2RldGFjaE9uTmV4dFJlbmRlciA9IG51bGwpIH0pO1xuXG5cdFx0XHRsZXQgc3VzcGVuZGVkO1xuXHRcdFx0d2hpbGUgKChzdXNwZW5kZWQgPSBjLl9zdXNwZW5kZXJzLnBvcCgpKSkge1xuXHRcdFx0XHRzdXNwZW5kZWQuZm9yY2VVcGRhdGUoKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFdlIGRvIG5vdCBzZXQgYHN1c3BlbmRlZDogdHJ1ZWAgZHVyaW5nIGh5ZHJhdGlvbiBiZWNhdXNlIHdlIHdhbnQgdGhlIGFjdHVhbCBtYXJrdXBcblx0ICogdG8gcmVtYWluIG9uIHNjcmVlbiBhbmQgaHlkcmF0ZSBpdCB3aGVuIHRoZSBzdXNwZW5zZSBhY3R1YWxseSBnZXRzIHJlc29sdmVkLlxuXHQgKiBXaGlsZSBpbiBub24taHlkcmF0aW9uIGNhc2VzIHRoZSB1c3VhbCBmYWxsYmFjayAtPiBjb21wb25lbnQgZmxvdyB3b3VsZCBvY2NvdXIuXG5cdCAqL1xuXHRpZiAoXG5cdFx0IWMuX3BlbmRpbmdTdXNwZW5zaW9uQ291bnQrKyAmJlxuXHRcdCEoc3VzcGVuZGluZ1ZOb2RlLl9mbGFncyAmIE1PREVfSFlEUkFURSlcblx0KSB7XG5cdFx0Yy5zZXRTdGF0ZSh7IF9zdXNwZW5kZWQ6IChjLl9kZXRhY2hPbk5leHRSZW5kZXIgPSBjLl92bm9kZS5fY2hpbGRyZW5bMF0pIH0pO1xuXHR9XG5cdHByb21pc2UudGhlbihvblJlc29sdmVkLCBvblJlc29sdmVkKTtcbn07XG5cblN1c3BlbnNlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcblx0dGhpcy5fc3VzcGVuZGVycyA9IFtdO1xufTtcblxuLyoqXG4gKiBAdGhpcyB7aW1wb3J0KCcuL2ludGVybmFsJykuU3VzcGVuc2VDb21wb25lbnR9XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlN1c3BlbnNlQ29tcG9uZW50W1wicHJvcHNcIl19IHByb3BzXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlN1c3BlbnNlU3RhdGV9IHN0YXRlXG4gKi9cblN1c3BlbnNlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocHJvcHMsIHN0YXRlKSB7XG5cdGlmICh0aGlzLl9kZXRhY2hPbk5leHRSZW5kZXIpIHtcblx0XHQvLyBXaGVuIHRoZSBTdXNwZW5zZSdzIF92bm9kZSB3YXMgY3JlYXRlZCBieSBhIGNhbGwgdG8gY3JlYXRlVk5vZGVcblx0XHQvLyAoaS5lLiBkdWUgdG8gYSBzZXRTdGF0ZSBmdXJ0aGVyIHVwIGluIHRoZSB0cmVlKVxuXHRcdC8vIGl0J3MgX2NoaWxkcmVuIHByb3AgaXMgbnVsbCwgaW4gdGhpcyBjYXNlIHdlIFwiZm9yZ2V0XCIgYWJvdXQgdGhlIHBhcmtlZCB2bm9kZXMgdG8gZGV0YWNoXG5cdFx0aWYgKHRoaXMuX3Zub2RlLl9jaGlsZHJlbikge1xuXHRcdFx0Y29uc3QgZGV0YWNoZWRQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdGNvbnN0IGRldGFjaGVkQ29tcG9uZW50ID0gdGhpcy5fdm5vZGUuX2NoaWxkcmVuWzBdLl9jb21wb25lbnQ7XG5cdFx0XHR0aGlzLl92bm9kZS5fY2hpbGRyZW5bMF0gPSBkZXRhY2hlZENsb25lKFxuXHRcdFx0XHR0aGlzLl9kZXRhY2hPbk5leHRSZW5kZXIsXG5cdFx0XHRcdGRldGFjaGVkUGFyZW50LFxuXHRcdFx0XHQoZGV0YWNoZWRDb21wb25lbnQuX29yaWdpbmFsUGFyZW50RG9tID0gZGV0YWNoZWRDb21wb25lbnQuX3BhcmVudERvbSlcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fZGV0YWNoT25OZXh0UmVuZGVyID0gbnVsbDtcblx0fVxuXG5cdC8vIFdyYXAgZmFsbGJhY2sgdHJlZSBpbiBhIFZOb2RlIHRoYXQgcHJldmVudHMgaXRzZWxmIGZyb20gYmVpbmcgbWFya2VkIGFzIGFib3J0aW5nIG1pZC1oeWRyYXRpb246XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9ICovXG5cdGNvbnN0IGZhbGxiYWNrID1cblx0XHRzdGF0ZS5fc3VzcGVuZGVkICYmIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIHByb3BzLmZhbGxiYWNrKTtcblx0aWYgKGZhbGxiYWNrKSBmYWxsYmFjay5fZmxhZ3MgJj0gfk1PREVfSFlEUkFURTtcblxuXHRyZXR1cm4gW1xuXHRcdGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIHN0YXRlLl9zdXNwZW5kZWQgPyBudWxsIDogcHJvcHMuY2hpbGRyZW4pLFxuXHRcdGZhbGxiYWNrXG5cdF07XG59O1xuXG4vKipcbiAqIENoZWNrcyBhbmQgY2FsbHMgdGhlIHBhcmVudCBjb21wb25lbnQncyBfc3VzcGVuZGVkIG1ldGhvZCwgcGFzc2luZyBpbiB0aGVcbiAqIHN1c3BlbmRlZCB2bm9kZS4gVGhpcyBpcyBhIHdheSBmb3IgYSBwYXJlbnQgKGUuZy4gU3VzcGVuc2VMaXN0KSB0byBnZXQgbm90aWZpZWRcbiAqIHRoYXQgb25lIG9mIGl0cyBjaGlsZHJlbi9kZXNjZW5kYW50cyBzdXNwZW5kZWQuXG4gKlxuICogVGhlIHBhcmVudCBNQVkgcmV0dXJuIGEgY2FsbGJhY2suIFRoZSBjYWxsYmFjayB3aWxsIGdldCBjYWxsZWQgd2hlbiB0aGVcbiAqIHN1c3BlbnNpb24gcmVzb2x2ZXMsIG5vdGlmeWluZyB0aGUgcGFyZW50IG9mIHRoZSBmYWN0LlxuICogTW9yZW92ZXIsIHRoZSBjYWxsYmFjayBnZXRzIGZ1bmN0aW9uIGB1bnN1c3BlbmRgIGFzIGEgcGFyYW1ldGVyLiBUaGUgcmVzb2x2ZWRcbiAqIGNoaWxkIGRlc2NlbmRhbnQgd2lsbCBub3QgYWN0dWFsbHkgZ2V0IHVuc3VzcGVuZGVkIHVudGlsIGB1bnN1c3BlbmRgIGdldHMgY2FsbGVkLlxuICogVGhpcyBpcyBhIHdheSBmb3IgdGhlIHBhcmVudCB0byBkZWxheSB1bnN1c3BlbmRpbmcuXG4gKlxuICogSWYgdGhlIHBhcmVudCBkb2VzIG5vdCByZXR1cm4gYSBjYWxsYmFjayB0aGVuIHRoZSByZXNvbHZlZCB2bm9kZVxuICogZ2V0cyB1bnN1c3BlbmRlZCBpbW1lZGlhdGVseSB3aGVuIGl0IHJlc29sdmVzLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlXG4gKiBAcmV0dXJucyB7KCh1bnN1c3BlbmQ6ICgpID0+IHZvaWQpID0+IHZvaWQpP31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1c3BlbmRlZCh2bm9kZSkge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gKi9cblx0bGV0IGNvbXBvbmVudCA9IHZub2RlLl9wYXJlbnQuX2NvbXBvbmVudDtcblx0cmV0dXJuIGNvbXBvbmVudCAmJiBjb21wb25lbnQuX3N1c3BlbmRlZCAmJiBjb21wb25lbnQuX3N1c3BlbmRlZCh2bm9kZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsYXp5KGxvYWRlcikge1xuXHRsZXQgcHJvbTtcblx0bGV0IGNvbXBvbmVudDtcblx0bGV0IGVycm9yO1xuXG5cdGZ1bmN0aW9uIExhenkocHJvcHMpIHtcblx0XHRpZiAoIXByb20pIHtcblx0XHRcdHByb20gPSBsb2FkZXIoKTtcblx0XHRcdHByb20udGhlbihcblx0XHRcdFx0ZXhwb3J0cyA9PiB7XG5cdFx0XHRcdFx0Y29tcG9uZW50ID0gZXhwb3J0cy5kZWZhdWx0IHx8IGV4cG9ydHM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGUgPT4ge1xuXHRcdFx0XHRcdGVycm9yID0gZTtcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdGlmICghY29tcG9uZW50KSB7XG5cdFx0XHR0aHJvdyBwcm9tO1xuXHRcdH1cblxuXHRcdHJldHVybiBjcmVhdGVFbGVtZW50KGNvbXBvbmVudCwgcHJvcHMpO1xuXHR9XG5cblx0TGF6eS5kaXNwbGF5TmFtZSA9ICdMYXp5Jztcblx0TGF6eS5fZm9yd2FyZGVkID0gdHJ1ZTtcblx0cmV0dXJuIExhenk7XG59XG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCB0b0NoaWxkQXJyYXkgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgc3VzcGVuZGVkIH0gZnJvbSAnLi9zdXNwZW5zZS5qcyc7XG5cbi8vIEluZGV4ZXMgdG8gbGlua2VkIGxpc3Qgbm9kZXMgKG5vZGVzIGFyZSBzdG9yZWQgYXMgYXJyYXlzIHRvIHNhdmUgYnl0ZXMpLlxuY29uc3QgU1VTUEVOREVEX0NPVU5UID0gMDtcbmNvbnN0IFJFU09MVkVEX0NPVU5UID0gMTtcbmNvbnN0IE5FWFRfTk9ERSA9IDI7XG5cbi8vIEhhdmluZyBjdXN0b20gaW5oZXJpdGFuY2UgaW5zdGVhZCBvZiBhIGNsYXNzIGhlcmUgc2F2ZXMgYSBsb3Qgb2YgYnl0ZXMuXG5leHBvcnQgZnVuY3Rpb24gU3VzcGVuc2VMaXN0KCkge1xuXHR0aGlzLl9uZXh0ID0gbnVsbDtcblx0dGhpcy5fbWFwID0gbnVsbDtcbn1cblxuLy8gTWFyayBvbmUgb2YgY2hpbGQncyBlYXJsaWVyIHN1c3BlbnNpb25zIGFzIHJlc29sdmVkLlxuLy8gU29tZSBwZW5kaW5nIGNhbGxiYWNrcyBtYXkgYmVjb21lIGNhbGxhYmxlIGR1ZSB0byB0aGlzXG4vLyAoZS5nLiB0aGUgbGFzdCBzdXNwZW5kZWQgZGVzY2VuZGFudCBnZXRzIHJlc29sdmVkIHdoZW5cbi8vIHJldmVhbE9yZGVyID09PSAndG9nZXRoZXInKS4gUHJvY2VzcyB0aG9zZSBjYWxsYmFja3MgYXMgd2VsbC5cbmNvbnN0IHJlc29sdmUgPSAobGlzdCwgY2hpbGQsIG5vZGUpID0+IHtcblx0aWYgKCsrbm9kZVtSRVNPTFZFRF9DT1VOVF0gPT09IG5vZGVbU1VTUEVOREVEX0NPVU5UXSkge1xuXHRcdC8vIFRoZSBudW1iZXIgYSBjaGlsZCAob3IgYW55IG9mIGl0cyBkZXNjZW5kYW50cykgaGFzIGJlZW4gc3VzcGVuZGVkXG5cdFx0Ly8gbWF0Y2hlcyB0aGUgbnVtYmVyIG9mIHRpbWVzIGl0J3MgYmVlbiByZXNvbHZlZC4gVGhlcmVmb3JlIHdlXG5cdFx0Ly8gbWFyayB0aGUgY2hpbGQgYXMgY29tcGxldGVseSByZXNvbHZlZCBieSBkZWxldGluZyBpdCBmcm9tIC5fbWFwLlxuXHRcdC8vIFRoaXMgaXMgdXNlZCB0byBmaWd1cmUgb3V0IHdoZW4gKmFsbCogY2hpbGRyZW4gaGF2ZSBiZWVuIGNvbXBsZXRlbHlcblx0XHQvLyByZXNvbHZlZCB3aGVuIHJldmVhbE9yZGVyIGlzICd0b2dldGhlcicuXG5cdFx0bGlzdC5fbWFwLmRlbGV0ZShjaGlsZCk7XG5cdH1cblxuXHQvLyBJZiByZXZlYWxPcmRlciBpcyBmYWxzeSB0aGVuIHdlIGNhbiBkbyBhbiBlYXJseSBleGl0LCBhcyB0aGVcblx0Ly8gY2FsbGJhY2tzIHdvbid0IGdldCBxdWV1ZWQgaW4gdGhlIG5vZGUgYW55d2F5LlxuXHQvLyBJZiByZXZlYWxPcmRlciBpcyAndG9nZXRoZXInIHRoZW4gYWxzbyBkbyBhbiBlYXJseSBleGl0XG5cdC8vIGlmIGFsbCBzdXNwZW5kZWQgZGVzY2VuZGFudHMgaGF2ZSBub3QgeWV0IGJlZW4gcmVzb2x2ZWQuXG5cdGlmIChcblx0XHQhbGlzdC5wcm9wcy5yZXZlYWxPcmRlciB8fFxuXHRcdChsaXN0LnByb3BzLnJldmVhbE9yZGVyWzBdID09PSAndCcgJiYgbGlzdC5fbWFwLnNpemUpXG5cdCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFdhbGsgdGhlIGN1cnJlbnRseSBzdXNwZW5kZWQgY2hpbGRyZW4gaW4gb3JkZXIsIGNhbGxpbmcgdGhlaXJcblx0Ly8gc3RvcmVkIGNhbGxiYWNrcyBvbiB0aGUgd2F5LiBTdG9wIGlmIHdlIGVuY291bnRlciBhIGNoaWxkIHRoYXRcblx0Ly8gaGFzIG5vdCBiZWVuIGNvbXBsZXRlbHkgcmVzb2x2ZWQgeWV0LlxuXHRub2RlID0gbGlzdC5fbmV4dDtcblx0d2hpbGUgKG5vZGUpIHtcblx0XHR3aGlsZSAobm9kZS5sZW5ndGggPiAzKSB7XG5cdFx0XHRub2RlLnBvcCgpKCk7XG5cdFx0fVxuXHRcdGlmIChub2RlW1JFU09MVkVEX0NPVU5UXSA8IG5vZGVbU1VTUEVOREVEX0NPVU5UXSkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdGxpc3QuX25leHQgPSBub2RlID0gbm9kZVtORVhUX05PREVdO1xuXHR9XG59O1xuXG4vLyBUaGluZ3Mgd2UgZG8gaGVyZSB0byBzYXZlIHNvbWUgYnl0ZXMgYnV0IGFyZSBub3QgcHJvcGVyIEpTIGluaGVyaXRhbmNlOlxuLy8gLSBjYWxsIGBuZXcgQ29tcG9uZW50KClgIGFzIHRoZSBwcm90b3R5cGVcbi8vIC0gZG8gbm90IHNldCBgU3VzcGVuc2UucHJvdG90eXBlLmNvbnN0cnVjdG9yYCB0byBgU3VzcGVuc2VgXG5TdXNwZW5zZUxpc3QucHJvdG90eXBlID0gbmV3IENvbXBvbmVudCgpO1xuXG5TdXNwZW5zZUxpc3QucHJvdG90eXBlLl9zdXNwZW5kZWQgPSBmdW5jdGlvbiAoY2hpbGQpIHtcblx0Y29uc3QgbGlzdCA9IHRoaXM7XG5cdGNvbnN0IGRlbGVnYXRlZCA9IHN1c3BlbmRlZChsaXN0Ll92bm9kZSk7XG5cblx0bGV0IG5vZGUgPSBsaXN0Ll9tYXAuZ2V0KGNoaWxkKTtcblx0bm9kZVtTVVNQRU5ERURfQ09VTlRdKys7XG5cblx0cmV0dXJuIHVuc3VzcGVuZCA9PiB7XG5cdFx0Y29uc3Qgd3JhcHBlZFVuc3VzcGVuZCA9ICgpID0+IHtcblx0XHRcdGlmICghbGlzdC5wcm9wcy5yZXZlYWxPcmRlcikge1xuXHRcdFx0XHQvLyBTcGVjaWFsIGNhc2UgdGhlIHVuZGVmaW5lZCAoZmFsc3kpIHJldmVhbE9yZGVyLCBhcyB0aGVyZVxuXHRcdFx0XHQvLyBpcyBubyBuZWVkIHRvIGNvb3JkaW5hdGUgYSBzcGVjaWZpYyBvcmRlciBvciB1bnN1c3BlbmRzLlxuXHRcdFx0XHR1bnN1c3BlbmQoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5vZGUucHVzaCh1bnN1c3BlbmQpO1xuXHRcdFx0XHRyZXNvbHZlKGxpc3QsIGNoaWxkLCBub2RlKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGlmIChkZWxlZ2F0ZWQpIHtcblx0XHRcdGRlbGVnYXRlZCh3cmFwcGVkVW5zdXNwZW5kKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d3JhcHBlZFVuc3VzcGVuZCgpO1xuXHRcdH1cblx0fTtcbn07XG5cblN1c3BlbnNlTGlzdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHByb3BzKSB7XG5cdHRoaXMuX25leHQgPSBudWxsO1xuXHR0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XG5cblx0Y29uc3QgY2hpbGRyZW4gPSB0b0NoaWxkQXJyYXkocHJvcHMuY2hpbGRyZW4pO1xuXHRpZiAocHJvcHMucmV2ZWFsT3JkZXIgJiYgcHJvcHMucmV2ZWFsT3JkZXJbMF0gPT09ICdiJykge1xuXHRcdC8vIElmIG9yZGVyID09PSAnYmFja3dhcmRzJyAob3IsIHdlbGwsIGFueXRoaW5nIHN0YXJ0aW5nIHdpdGggYSAnYicpXG5cdFx0Ly8gdGhlbiBmbGlwIHRoZSBjaGlsZCBsaXN0IGFyb3VuZCBzbyB0aGF0IHRoZSBsYXN0IGNoaWxkIHdpbGwgYmVcblx0XHQvLyB0aGUgZmlyc3QgaW4gdGhlIGxpbmtlZCBsaXN0LlxuXHRcdGNoaWxkcmVuLnJldmVyc2UoKTtcblx0fVxuXHQvLyBCdWlsZCB0aGUgbGlua2VkIGxpc3QuIEl0ZXJhdGUgdGhyb3VnaCB0aGUgY2hpbGRyZW4gaW4gcmV2ZXJzZSBvcmRlclxuXHQvLyBzbyB0aGF0IGBfbmV4dGAgcG9pbnRzIHRvIHRoZSBmaXJzdCBsaW5rZWQgbGlzdCBub2RlIHRvIGJlIHJlc29sdmVkLlxuXHRmb3IgKGxldCBpID0gY2hpbGRyZW4ubGVuZ3RoOyBpLS07ICkge1xuXHRcdC8vIENyZWF0ZSBhIG5ldyBsaW5rZWQgbGlzdCBub2RlIGFzIGFuIGFycmF5IG9mIGZvcm06XG5cdFx0Ly8gXHRbc3VzcGVuZGVkX2NvdW50LCByZXNvbHZlZF9jb3VudCwgbmV4dF9ub2RlXVxuXHRcdC8vIHdoZXJlIHN1c3BlbmRlZF9jb3VudCBhbmQgcmVzb2x2ZWRfY291bnQgYXJlIG51bWVyaWMgY291bnRlcnMgZm9yXG5cdFx0Ly8ga2VlcGluZyB0cmFjayBob3cgbWFueSB0aW1lcyBhIG5vZGUgaGFzIGJlZW4gc3VzcGVuZGVkIGFuZCByZXNvbHZlZC5cblx0XHQvL1xuXHRcdC8vIE5vdGUgdGhhdCBzdXNwZW5kZWRfY291bnQgc3RhcnRzIGZyb20gMSBpbnN0ZWFkIG9mIDAsIHNvIHdlIGNhbiBibG9ja1xuXHRcdC8vIHByb2Nlc3NpbmcgY2FsbGJhY2tzIHVudGlsIGNvbXBvbmVudERpZE1vdW50IGhhcyBiZWVuIGNhbGxlZC4gSW4gYSBzZW5zZVxuXHRcdC8vIG5vZGUgaXMgc3VzcGVuZGVkIGF0IGxlYXN0IHVudGlsIGNvbXBvbmVudERpZE1vdW50IGdldHMgY2FsbGVkIVxuXHRcdC8vXG5cdFx0Ly8gUGVuZGluZyBjYWxsYmFja3MgYXJlIGFkZGVkIHRvIHRoZSBlbmQgb2YgdGhlIG5vZGU6XG5cdFx0Ly8gXHRbc3VzcGVuZGVkX2NvdW50LCByZXNvbHZlZF9jb3VudCwgbmV4dF9ub2RlLCBjYWxsYmFja18wLCBjYWxsYmFja18xLCAuLi5dXG5cdFx0dGhpcy5fbWFwLnNldChjaGlsZHJlbltpXSwgKHRoaXMuX25leHQgPSBbMSwgMCwgdGhpcy5fbmV4dF0pKTtcblx0fVxuXHRyZXR1cm4gcHJvcHMuY2hpbGRyZW47XG59O1xuXG5TdXNwZW5zZUxpc3QucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9XG5cdFN1c3BlbnNlTGlzdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBjaGlsZHJlbiBhZnRlciBtb3VudGluZyBmb3IgdHdvIHJlYXNvbnM6XG5cdFx0Ly8gMS4gQXMgZWFjaCBub2RlW1NVU1BFTkRFRF9DT1VOVF0gc3RhcnRzIGZyb20gMSwgdGhpcyBpdGVyYXRpb24gaW5jcmVhc2VzXG5cdFx0Ly8gICAgZWFjaCBub2RlW1JFTEVBU0VEX0NPVU5UXSBieSAxLCB0aGVyZWZvcmUgYmFsYW5jaW5nIHRoZSBjb3VudGVycy5cblx0XHQvLyAgICBUaGUgbm9kZXMgY2FuIG5vdyBiZSBjb21wbGV0ZWx5IGNvbnN1bWVkIGZyb20gdGhlIGxpbmtlZCBsaXN0LlxuXHRcdC8vIDIuIEhhbmRsZSBub2RlcyB0aGF0IG1pZ2h0IGhhdmUgZ290dGVuIHJlc29sdmVkIGJldHdlZW4gcmVuZGVyIGFuZFxuXHRcdC8vICAgIGNvbXBvbmVudERpZE1vdW50LlxuXHRcdHRoaXMuX21hcC5mb3JFYWNoKChub2RlLCBjaGlsZCkgPT4ge1xuXHRcdFx0cmVzb2x2ZSh0aGlzLCBjaGlsZCwgbm9kZSk7XG5cdFx0fSk7XG5cdH07XG4iLCAiLyoqIE5vcm1hbCBoeWRyYXRpb24gdGhhdCBhdHRhY2hlcyB0byBhIERPTSB0cmVlIGJ1dCBkb2VzIG5vdCBkaWZmIGl0LiAqL1xuZXhwb3J0IGNvbnN0IE1PREVfSFlEUkFURSA9IDEgPDwgNTtcbi8qKiBTaWduaWZpZXMgdGhpcyBWTm9kZSBzdXNwZW5kZWQgb24gdGhlIHByZXZpb3VzIHJlbmRlciAqL1xuZXhwb3J0IGNvbnN0IE1PREVfU1VTUEVOREVEID0gMSA8PCA3O1xuLyoqIEluZGljYXRlcyB0aGF0IHRoaXMgbm9kZSBuZWVkcyB0byBiZSBpbnNlcnRlZCB3aGlsZSBwYXRjaGluZyBjaGlsZHJlbiAqL1xuZXhwb3J0IGNvbnN0IElOU0VSVF9WTk9ERSA9IDEgPDwgMjtcbi8qKiBJbmRpY2F0ZXMgYSBWTm9kZSBoYXMgYmVlbiBtYXRjaGVkIHdpdGggYW5vdGhlciBWTm9kZSBpbiB0aGUgZGlmZiAqL1xuZXhwb3J0IGNvbnN0IE1BVENIRUQgPSAxIDw8IDE7XG5cbi8qKiBSZXNldCBhbGwgbW9kZSBmbGFncyAqL1xuZXhwb3J0IGNvbnN0IFJFU0VUX01PREUgPSB+KE1PREVfSFlEUkFURSB8IE1PREVfU1VTUEVOREVEKTtcblxuZXhwb3J0IGNvbnN0IFNWR19OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuZXhwb3J0IGNvbnN0IFhIVE1MX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJztcbmV4cG9ydCBjb25zdCBNQVRIX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MJztcblxuZXhwb3J0IGNvbnN0IE5VTEwgPSBudWxsO1xuZXhwb3J0IGNvbnN0IFVOREVGSU5FRCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBFTVBUWV9PQkogPSAvKiogQHR5cGUge2FueX0gKi8gKHt9KTtcbmV4cG9ydCBjb25zdCBFTVBUWV9BUlIgPSBbXTtcbmV4cG9ydCBjb25zdCBJU19OT05fRElNRU5TSU9OQUwgPVxuXHQvYWNpdHxleCg/OnN8Z3xufHB8JCl8cnBofGdyaWR8b3dzfG1uY3xudHd8aW5lW2NoXXx6b298Xm9yZHxpdGVyYS9pO1xuIiwgImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIHJlbmRlciB9IGZyb20gJ3ByZWFjdCc7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL3NyYy9pbmRleCcpLlJlbmRlcmFibGVQcm9wczx7IGNvbnRleHQ6IGFueSB9Pn0gcHJvcHNcbiAqL1xuZnVuY3Rpb24gQ29udGV4dFByb3ZpZGVyKHByb3BzKSB7XG5cdHRoaXMuZ2V0Q2hpbGRDb250ZXh0ID0gKCkgPT4gcHJvcHMuY29udGV4dDtcblx0cmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufVxuXG4vKipcbiAqIFBvcnRhbCBjb21wb25lbnRcbiAqIEB0aGlzIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9XG4gKiBAcGFyYW0ge29iamVjdCB8IG51bGwgfCB1bmRlZmluZWR9IHByb3BzXG4gKlxuICogVE9ETzogdXNlIGNyZWF0ZVJvb3QoKSBpbnN0ZWFkIG9mIGZha2Ugcm9vdFxuICovXG5mdW5jdGlvbiBQb3J0YWwocHJvcHMpIHtcblx0Y29uc3QgX3RoaXMgPSB0aGlzO1xuXHRsZXQgY29udGFpbmVyID0gcHJvcHMuX2NvbnRhaW5lcjtcblxuXHRfdGhpcy5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZW5kZXIobnVsbCwgX3RoaXMuX3RlbXApO1xuXHRcdF90aGlzLl90ZW1wID0gbnVsbDtcblx0XHRfdGhpcy5fY29udGFpbmVyID0gbnVsbDtcblx0fTtcblxuXHQvLyBXaGVuIHdlIGNoYW5nZSBjb250YWluZXIgd2Ugc2hvdWxkIGNsZWFyIG91ciBvbGQgY29udGFpbmVyIGFuZFxuXHQvLyBpbmRpY2F0ZSBhIG5ldyBtb3VudC5cblx0aWYgKF90aGlzLl9jb250YWluZXIgJiYgX3RoaXMuX2NvbnRhaW5lciAhPT0gY29udGFpbmVyKSB7XG5cdFx0X3RoaXMuY29tcG9uZW50V2lsbFVubW91bnQoKTtcblx0fVxuXG5cdGlmICghX3RoaXMuX3RlbXApIHtcblx0XHQvLyBFbnN1cmUgdGhlIGVsZW1lbnQgaGFzIGEgbWFzayBmb3IgdXNlSWQgaW52b2NhdGlvbnNcblx0XHRsZXQgcm9vdCA9IF90aGlzLl92bm9kZTtcblx0XHR3aGlsZSAocm9vdCAhPT0gbnVsbCAmJiAhcm9vdC5fbWFzayAmJiByb290Ll9wYXJlbnQgIT09IG51bGwpIHtcblx0XHRcdHJvb3QgPSByb290Ll9wYXJlbnQ7XG5cdFx0fVxuXG5cdFx0X3RoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcblxuXHRcdC8vIENyZWF0ZSBhIGZha2UgRE9NIHBhcmVudCBub2RlIHRoYXQgbWFuYWdlcyBhIHN1YnNldCBvZiBgY29udGFpbmVyYCdzIGNoaWxkcmVuOlxuXHRcdF90aGlzLl90ZW1wID0ge1xuXHRcdFx0bm9kZVR5cGU6IDEsXG5cdFx0XHRwYXJlbnROb2RlOiBjb250YWluZXIsXG5cdFx0XHRjaGlsZE5vZGVzOiBbXSxcblx0XHRcdF9jaGlsZHJlbjogeyBfbWFzazogcm9vdC5fbWFzayB9LFxuXHRcdFx0Y29udGFpbnM6ICgpID0+IHRydWUsXG5cdFx0XHRpbnNlcnRCZWZvcmUoY2hpbGQsIGJlZm9yZSkge1xuXHRcdFx0XHR0aGlzLmNoaWxkTm9kZXMucHVzaChjaGlsZCk7XG5cdFx0XHRcdF90aGlzLl9jb250YWluZXIuaW5zZXJ0QmVmb3JlKGNoaWxkLCBiZWZvcmUpO1xuXHRcdFx0fSxcblx0XHRcdHJlbW92ZUNoaWxkKGNoaWxkKSB7XG5cdFx0XHRcdHRoaXMuY2hpbGROb2Rlcy5zcGxpY2UodGhpcy5jaGlsZE5vZGVzLmluZGV4T2YoY2hpbGQpID4+PiAxLCAxKTtcblx0XHRcdFx0X3RoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZChjaGlsZCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdC8vIFJlbmRlciBvdXIgd3JhcHBpbmcgZWxlbWVudCBpbnRvIHRlbXAuXG5cdHJlbmRlcihcblx0XHRjcmVhdGVFbGVtZW50KENvbnRleHRQcm92aWRlciwgeyBjb250ZXh0OiBfdGhpcy5jb250ZXh0IH0sIHByb3BzLl92bm9kZSksXG5cdFx0X3RoaXMuX3RlbXBcblx0KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBgUG9ydGFsYCB0byBjb250aW51ZSByZW5kZXJpbmcgdGhlIHZub2RlIHRyZWUgYXQgYSBkaWZmZXJlbnQgRE9NIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlIFRoZSB2bm9kZSB0byByZW5kZXJcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gY29udGFpbmVyIFRoZSBET00gbm9kZSB0byBjb250aW51ZSByZW5kZXJpbmcgaW4gdG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQb3J0YWwodm5vZGUsIGNvbnRhaW5lcikge1xuXHRjb25zdCBlbCA9IGNyZWF0ZUVsZW1lbnQoUG9ydGFsLCB7IF92bm9kZTogdm5vZGUsIF9jb250YWluZXI6IGNvbnRhaW5lciB9KTtcblx0ZWwuY29udGFpbmVySW5mbyA9IGNvbnRhaW5lcjtcblx0cmV0dXJuIGVsO1xufVxuIiwgImltcG9ydCB7XG5cdHJlbmRlciBhcyBwcmVhY3RSZW5kZXIsXG5cdGh5ZHJhdGUgYXMgcHJlYWN0SHlkcmF0ZSxcblx0b3B0aW9ucyxcblx0dG9DaGlsZEFycmF5LFxuXHRDb21wb25lbnRcbn0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7XG5cdHVzZUNhbGxiYWNrLFxuXHR1c2VDb250ZXh0LFxuXHR1c2VEZWJ1Z1ZhbHVlLFxuXHR1c2VFZmZlY3QsXG5cdHVzZUlkLFxuXHR1c2VJbXBlcmF0aXZlSGFuZGxlLFxuXHR1c2VMYXlvdXRFZmZlY3QsXG5cdHVzZU1lbW8sXG5cdHVzZVJlZHVjZXIsXG5cdHVzZVJlZixcblx0dXNlU3RhdGVcbn0gZnJvbSAncHJlYWN0L2hvb2tzJztcbmltcG9ydCB7XG5cdHVzZURlZmVycmVkVmFsdWUsXG5cdHVzZUluc2VydGlvbkVmZmVjdCxcblx0dXNlU3luY0V4dGVybmFsU3RvcmUsXG5cdHVzZVRyYW5zaXRpb25cbn0gZnJvbSAnLi9pbmRleCc7XG5cbmV4cG9ydCBjb25zdCBSRUFDVF9FTEVNRU5UX1RZUEUgPVxuXHQodHlwZW9mIFN5bWJvbCAhPSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuZm9yICYmIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcblx0MHhlYWM3O1xuXG5jb25zdCBDQU1FTF9QUk9QUyA9XG5cdC9eKD86YWNjZW50fGFsaWdubWVudHxhcmFiaWN8YmFzZWxpbmV8Y2FwfGNsaXAoPyFQYXRoVSl8Y29sb3J8ZG9taW5hbnR8ZmlsbHxmbG9vZHxmb250fGdseXBoKD8hUil8aG9yaXp8aW1hZ2UoIVMpfGxldHRlcnxsaWdodGluZ3xtYXJrZXIoPyFIfFd8VSl8b3ZlcmxpbmV8cGFpbnR8cG9pbnRlcnxzaGFwZXxzdG9wfHN0cmlrZXRocm91Z2h8c3Ryb2tlfHRleHQoPyFMKXx0cmFuc2Zvcm18dW5kZXJsaW5lfHVuaWNvZGV8dW5pdHN8dnx2ZWN0b3J8dmVydHx3b3JkfHdyaXRpbmd8eCg/IUMpKVtBLVpdLztcbmNvbnN0IE9OX0FOSSA9IC9eb24oQW5pfFRyYXxUb3V8QmVmb3JlSW5wfENvbXBvKS87XG5jb25zdCBDQU1FTF9SRVBMQUNFID0gL1tBLVowLTldL2c7XG5jb25zdCBJU19ET00gPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBJbnB1dCB0eXBlcyBmb3Igd2hpY2ggb25jaGFuZ2Ugc2hvdWxkIG5vdCBiZSBjb252ZXJ0ZWQgdG8gb25pbnB1dC5cbi8vIHR5cGU9XCJmaWxlfGNoZWNrYm94fHJhZGlvXCIsIHBsdXMgXCJyYW5nZVwiIGluIElFMTEuXG4vLyAoSUUxMSBkb2Vzbid0IHN1cHBvcnQgU3ltYm9sLCB3aGljaCB3ZSB1c2UgaGVyZSB0byB0dXJuIGByYWRgIGludG8gYHJhYCB3aGljaCBtYXRjaGVzIFwicmFuZ2VcIilcbmNvbnN0IG9uQ2hhbmdlSW5wdXRUeXBlID0gdHlwZSA9PlxuXHQodHlwZW9mIFN5bWJvbCAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgU3ltYm9sKCkgPT0gJ3N5bWJvbCdcblx0XHQ/IC9maWx8Y2hlfHJhZC9cblx0XHQ6IC9maWx8Y2hlfHJhL1xuXHQpLnRlc3QodHlwZSk7XG5cbi8vIFNvbWUgbGlicmFyaWVzIGxpa2UgYHJlYWN0LXZpcnR1YWxpemVkYCBleHBsaWNpdGx5IGNoZWNrIGZvciB0aGlzLlxuQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG5cbi8vIGBVTlNBRkVfKmAgbGlmZWN5Y2xlIGhvb2tzXG4vLyBQcmVhY3Qgb25seSBldmVyIGludm9rZXMgdGhlIHVucHJlZml4ZWQgbWV0aG9kcy5cbi8vIEhlcmUgd2UgcHJvdmlkZSBhIGJhc2UgXCJmYWxsYmFja1wiIGltcGxlbWVudGF0aW9uIHRoYXQgY2FsbHMgYW55IGRlZmluZWQgVU5TQUZFXyBwcmVmaXhlZCBtZXRob2QuXG4vLyAtIElmIGEgY29tcG9uZW50IGRlZmluZXMgaXRzIG93biBgY29tcG9uZW50RGlkTW91bnQoKWAgKGluY2x1ZGluZyB2aWEgZGVmaW5lUHJvcGVydHkpLCB1c2UgdGhhdC5cbi8vIC0gSWYgYSBjb21wb25lbnQgZGVmaW5lcyBgVU5TQUZFX2NvbXBvbmVudERpZE1vdW50KClgLCBgY29tcG9uZW50RGlkTW91bnRgIGlzIHRoZSBhbGlhcyBnZXR0ZXIvc2V0dGVyLlxuLy8gLSBJZiBhbnl0aGluZyBhc3NpZ25zIHRvIGFuIGBVTlNBRkVfKmAgcHJvcGVydHksIHRoZSBhc3NpZ25tZW50IGlzIGZvcndhcmRlZCB0byB0aGUgdW5wcmVmaXhlZCBwcm9wZXJ0eS5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJlYWN0anMvcHJlYWN0L2lzc3Vlcy8xOTQxXG5bXG5cdCdjb21wb25lbnRXaWxsTW91bnQnLFxuXHQnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG5cdCdjb21wb25lbnRXaWxsVXBkYXRlJ1xuXS5mb3JFYWNoKGtleSA9PiB7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBrZXksIHtcblx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0Z2V0KCkge1xuXHRcdFx0cmV0dXJuIHRoaXNbJ1VOU0FGRV8nICsga2V5XTtcblx0XHR9LFxuXHRcdHNldCh2KSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdHZhbHVlOiB2XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xufSk7XG5cbi8qKlxuICogUHJveHkgcmVuZGVyKCkgc2luY2UgUmVhY3QgcmV0dXJucyBhIENvbXBvbmVudCByZWZlcmVuY2UuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBWTm9kZSB0cmVlIHRvIHJlbmRlclxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBwYXJlbnQgRE9NIG5vZGUgdG8gcmVuZGVyIHZub2RlIHRyZWUgaW50b1xuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIE9wdGlvbmFsIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgcmVuZGVyaW5nXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50IHwgbnVsbH0gVGhlIHJvb3QgY29tcG9uZW50IHJlZmVyZW5jZSBvciBudWxsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgY2FsbGJhY2spIHtcblx0Ly8gUmVhY3QgZGVzdHJveXMgYW55IGV4aXN0aW5nIERPTSBub2Rlcywgc2VlICMxNzI3XG5cdC8vIC4uLmJ1dCBvbmx5IG9uIHRoZSBmaXJzdCByZW5kZXIsIHNlZSAjMTgyOFxuXHRpZiAocGFyZW50Ll9jaGlsZHJlbiA9PSBudWxsKSB7XG5cdFx0cGFyZW50LnRleHRDb250ZW50ID0gJyc7XG5cdH1cblxuXHRwcmVhY3RSZW5kZXIodm5vZGUsIHBhcmVudCk7XG5cdGlmICh0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcblxuXHRyZXR1cm4gdm5vZGUgPyB2bm9kZS5fY29tcG9uZW50IDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUodm5vZGUsIHBhcmVudCwgY2FsbGJhY2spIHtcblx0cHJlYWN0SHlkcmF0ZSh2bm9kZSwgcGFyZW50KTtcblx0aWYgKHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuXG5cdHJldHVybiB2bm9kZSA/IHZub2RlLl9jb21wb25lbnQgOiBudWxsO1xufVxuXG5sZXQgb2xkRXZlbnRIb29rID0gb3B0aW9ucy5ldmVudDtcbm9wdGlvbnMuZXZlbnQgPSBlID0+IHtcblx0aWYgKG9sZEV2ZW50SG9vaykgZSA9IG9sZEV2ZW50SG9vayhlKTtcblxuXHRlLnBlcnNpc3QgPSBlbXB0eTtcblx0ZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGlzUHJvcGFnYXRpb25TdG9wcGVkO1xuXHRlLmlzRGVmYXVsdFByZXZlbnRlZCA9IGlzRGVmYXVsdFByZXZlbnRlZDtcblx0cmV0dXJuIChlLm5hdGl2ZUV2ZW50ID0gZSk7XG59O1xuXG5mdW5jdGlvbiBlbXB0eSgpIHt9XG5cbmZ1bmN0aW9uIGlzUHJvcGFnYXRpb25TdG9wcGVkKCkge1xuXHRyZXR1cm4gdGhpcy5jYW5jZWxCdWJibGU7XG59XG5cbmZ1bmN0aW9uIGlzRGVmYXVsdFByZXZlbnRlZCgpIHtcblx0cmV0dXJuIHRoaXMuZGVmYXVsdFByZXZlbnRlZDtcbn1cblxuY29uc3QgY2xhc3NOYW1lRGVzY3JpcHRvck5vbkVudW1iZXJhYmxlID0ge1xuXHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRnZXQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuY2xhc3M7XG5cdH1cbn07XG5cbmZ1bmN0aW9uIGhhbmRsZURvbVZOb2RlKHZub2RlKSB7XG5cdGxldCBwcm9wcyA9IHZub2RlLnByb3BzLFxuXHRcdHR5cGUgPSB2bm9kZS50eXBlLFxuXHRcdG5vcm1hbGl6ZWRQcm9wcyA9IHt9O1xuXG5cdGxldCBpc05vbkRhc2hlZFR5cGUgPSB0eXBlLmluZGV4T2YoJy0nKSA9PT0gLTE7XG5cdGZvciAobGV0IGkgaW4gcHJvcHMpIHtcblx0XHRsZXQgdmFsdWUgPSBwcm9wc1tpXTtcblxuXHRcdGlmIChcblx0XHRcdChpID09PSAndmFsdWUnICYmICdkZWZhdWx0VmFsdWUnIGluIHByb3BzICYmIHZhbHVlID09IG51bGwpIHx8XG5cdFx0XHQvLyBFbXVsYXRlIFJlYWN0J3MgYmVoYXZpb3Igb2Ygbm90IHJlbmRlcmluZyB0aGUgY29udGVudHMgb2Ygbm9zY3JpcHQgdGFncyBvbiB0aGUgY2xpZW50LlxuXHRcdFx0KElTX0RPTSAmJiBpID09PSAnY2hpbGRyZW4nICYmIHR5cGUgPT09ICdub3NjcmlwdCcpIHx8XG5cdFx0XHRpID09PSAnY2xhc3MnIHx8XG5cdFx0XHRpID09PSAnY2xhc3NOYW1lJ1xuXHRcdCkge1xuXHRcdFx0Ly8gU2tpcCBhcHBseWluZyB2YWx1ZSBpZiBpdCBpcyBudWxsL3VuZGVmaW5lZCBhbmQgd2UgYWxyZWFkeSBzZXRcblx0XHRcdC8vIGEgZGVmYXVsdCB2YWx1ZVxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0bGV0IGxvd2VyQ2FzZWQgPSBpLnRvTG93ZXJDYXNlKCk7XG5cdFx0aWYgKGkgPT09ICdkZWZhdWx0VmFsdWUnICYmICd2YWx1ZScgaW4gcHJvcHMgJiYgcHJvcHMudmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0Ly8gYGRlZmF1bHRWYWx1ZWAgaXMgdHJlYXRlZCBhcyBhIGZhbGxiYWNrIGB2YWx1ZWAgd2hlbiBhIHZhbHVlIHByb3AgaXMgcHJlc2VudCBidXQgbnVsbC91bmRlZmluZWQuXG5cdFx0XHQvLyBgZGVmYXVsdFZhbHVlYCBmb3IgRWxlbWVudHMgd2l0aCBubyB2YWx1ZSBwcm9wIGlzIHRoZSBzYW1lIGFzIHRoZSBET00gZGVmYXVsdFZhbHVlIHByb3BlcnR5LlxuXHRcdFx0aSA9ICd2YWx1ZSc7XG5cdFx0fSBlbHNlIGlmIChpID09PSAnZG93bmxvYWQnICYmIHZhbHVlID09PSB0cnVlKSB7XG5cdFx0XHQvLyBDYWxsaW5nIGBzZXRBdHRyaWJ1dGVgIHdpdGggYSB0cnV0aHkgdmFsdWUgd2lsbCBsZWFkIHRvIGl0IGJlaW5nXG5cdFx0XHQvLyBwYXNzZWQgYXMgYSBzdHJpbmdpZmllZCB2YWx1ZSwgZS5nLiBgZG93bmxvYWQ9XCJ0cnVlXCJgLiBSZWFjdFxuXHRcdFx0Ly8gY29udmVydHMgaXQgdG8gYW4gZW1wdHkgc3RyaW5nIGluc3RlYWQsIG90aGVyd2lzZSB0aGUgYXR0cmlidXRlXG5cdFx0XHQvLyB2YWx1ZSB3aWxsIGJlIHVzZWQgYXMgdGhlIGZpbGUgbmFtZSBhbmQgdGhlIGZpbGUgd2lsbCBiZSBjYWxsZWRcblx0XHRcdC8vIFwidHJ1ZVwiIHVwb24gZG93bmxvYWRpbmcgaXQuXG5cdFx0XHR2YWx1ZSA9ICcnO1xuXHRcdH0gZWxzZSBpZiAobG93ZXJDYXNlZCA9PT0gJ3RyYW5zbGF0ZScgJiYgdmFsdWUgPT09ICdubycpIHtcblx0XHRcdHZhbHVlID0gZmFsc2U7XG5cdFx0fSBlbHNlIGlmIChsb3dlckNhc2VkWzBdID09PSAnbycgJiYgbG93ZXJDYXNlZFsxXSA9PT0gJ24nKSB7XG5cdFx0XHRpZiAobG93ZXJDYXNlZCA9PT0gJ29uZG91YmxlY2xpY2snKSB7XG5cdFx0XHRcdGkgPSAnb25kYmxjbGljayc7XG5cdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHRsb3dlckNhc2VkID09PSAnb25jaGFuZ2UnICYmXG5cdFx0XHRcdCh0eXBlID09PSAnaW5wdXQnIHx8IHR5cGUgPT09ICd0ZXh0YXJlYScpICYmXG5cdFx0XHRcdCFvbkNoYW5nZUlucHV0VHlwZShwcm9wcy50eXBlKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGxvd2VyQ2FzZWQgPSBpID0gJ29uaW5wdXQnO1xuXHRcdFx0fSBlbHNlIGlmIChsb3dlckNhc2VkID09PSAnb25mb2N1cycpIHtcblx0XHRcdFx0aSA9ICdvbmZvY3VzaW4nO1xuXHRcdFx0fSBlbHNlIGlmIChsb3dlckNhc2VkID09PSAnb25ibHVyJykge1xuXHRcdFx0XHRpID0gJ29uZm9jdXNvdXQnO1xuXHRcdFx0fSBlbHNlIGlmIChPTl9BTkkudGVzdChpKSkge1xuXHRcdFx0XHRpID0gbG93ZXJDYXNlZDtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGlzTm9uRGFzaGVkVHlwZSAmJiBDQU1FTF9QUk9QUy50ZXN0KGkpKSB7XG5cdFx0XHRpID0gaS5yZXBsYWNlKENBTUVMX1JFUExBQ0UsICctJCYnKS50b0xvd2VyQ2FzZSgpO1xuXHRcdH0gZWxzZSBpZiAodmFsdWUgPT09IG51bGwpIHtcblx0XHRcdHZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIEFkZCBzdXBwb3J0IGZvciBvbklucHV0IGFuZCBvbkNoYW5nZSwgc2VlICMzNTYxXG5cdFx0Ly8gaWYgd2UgaGF2ZSBhbiBvbmlucHV0IHByb3AgYWxyZWFkeSBjaGFuZ2UgaXQgdG8gb25pbnB1dENhcHR1cmVcblx0XHRpZiAobG93ZXJDYXNlZCA9PT0gJ29uaW5wdXQnKSB7XG5cdFx0XHRpID0gbG93ZXJDYXNlZDtcblx0XHRcdGlmIChub3JtYWxpemVkUHJvcHNbaV0pIHtcblx0XHRcdFx0aSA9ICdvbmlucHV0Q2FwdHVyZSc7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bm9ybWFsaXplZFByb3BzW2ldID0gdmFsdWU7XG5cdH1cblxuXHQvLyBBZGQgc3VwcG9ydCBmb3IgYXJyYXkgc2VsZWN0IHZhbHVlczogPHNlbGVjdCBtdWx0aXBsZSB2YWx1ZT17W119IC8+XG5cdGlmIChcblx0XHR0eXBlID09ICdzZWxlY3QnICYmXG5cdFx0bm9ybWFsaXplZFByb3BzLm11bHRpcGxlICYmXG5cdFx0QXJyYXkuaXNBcnJheShub3JtYWxpemVkUHJvcHMudmFsdWUpXG5cdCkge1xuXHRcdC8vIGZvckVhY2goKSBhbHdheXMgcmV0dXJucyB1bmRlZmluZWQsIHdoaWNoIHdlIGFidXNlIGhlcmUgdG8gdW5zZXQgdGhlIHZhbHVlIHByb3AuXG5cdFx0bm9ybWFsaXplZFByb3BzLnZhbHVlID0gdG9DaGlsZEFycmF5KHByb3BzLmNoaWxkcmVuKS5mb3JFYWNoKGNoaWxkID0+IHtcblx0XHRcdGNoaWxkLnByb3BzLnNlbGVjdGVkID1cblx0XHRcdFx0bm9ybWFsaXplZFByb3BzLnZhbHVlLmluZGV4T2YoY2hpbGQucHJvcHMudmFsdWUpICE9IC0xO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gQWRkaW5nIHN1cHBvcnQgZm9yIGRlZmF1bHRWYWx1ZSBpbiBzZWxlY3QgdGFnXG5cdGlmICh0eXBlID09ICdzZWxlY3QnICYmIG5vcm1hbGl6ZWRQcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuXHRcdG5vcm1hbGl6ZWRQcm9wcy52YWx1ZSA9IHRvQ2hpbGRBcnJheShwcm9wcy5jaGlsZHJlbikuZm9yRWFjaChjaGlsZCA9PiB7XG5cdFx0XHRpZiAobm9ybWFsaXplZFByb3BzLm11bHRpcGxlKSB7XG5cdFx0XHRcdGNoaWxkLnByb3BzLnNlbGVjdGVkID1cblx0XHRcdFx0XHRub3JtYWxpemVkUHJvcHMuZGVmYXVsdFZhbHVlLmluZGV4T2YoY2hpbGQucHJvcHMudmFsdWUpICE9IC0xO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2hpbGQucHJvcHMuc2VsZWN0ZWQgPVxuXHRcdFx0XHRcdG5vcm1hbGl6ZWRQcm9wcy5kZWZhdWx0VmFsdWUgPT0gY2hpbGQucHJvcHMudmFsdWU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRpZiAocHJvcHMuY2xhc3MgJiYgIXByb3BzLmNsYXNzTmFtZSkge1xuXHRcdG5vcm1hbGl6ZWRQcm9wcy5jbGFzcyA9IHByb3BzLmNsYXNzO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcblx0XHRcdG5vcm1hbGl6ZWRQcm9wcyxcblx0XHRcdCdjbGFzc05hbWUnLFxuXHRcdFx0Y2xhc3NOYW1lRGVzY3JpcHRvck5vbkVudW1iZXJhYmxlXG5cdFx0KTtcblx0fSBlbHNlIGlmIChwcm9wcy5jbGFzc05hbWUgJiYgIXByb3BzLmNsYXNzKSB7XG5cdFx0bm9ybWFsaXplZFByb3BzLmNsYXNzID0gbm9ybWFsaXplZFByb3BzLmNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZTtcblx0fSBlbHNlIGlmIChwcm9wcy5jbGFzcyAmJiBwcm9wcy5jbGFzc05hbWUpIHtcblx0XHRub3JtYWxpemVkUHJvcHMuY2xhc3MgPSBub3JtYWxpemVkUHJvcHMuY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lO1xuXHR9XG5cblx0dm5vZGUucHJvcHMgPSBub3JtYWxpemVkUHJvcHM7XG59XG5cbmxldCBvbGRWTm9kZUhvb2sgPSBvcHRpb25zLnZub2RlO1xub3B0aW9ucy52bm9kZSA9IHZub2RlID0+IHtcblx0Ly8gb25seSBub3JtYWxpemUgcHJvcHMgb24gRWxlbWVudCBub2Rlc1xuXHRpZiAodHlwZW9mIHZub2RlLnR5cGUgPT09ICdzdHJpbmcnKSB7XG5cdFx0aGFuZGxlRG9tVk5vZGUodm5vZGUpO1xuXHR9XG5cblx0dm5vZGUuJCR0eXBlb2YgPSBSRUFDVF9FTEVNRU5UX1RZUEU7XG5cblx0aWYgKG9sZFZOb2RlSG9vaykgb2xkVk5vZGVIb29rKHZub2RlKTtcbn07XG5cbi8vIE9ubHkgbmVlZGVkIGZvciByZWFjdC1yZWxheVxubGV0IGN1cnJlbnRDb21wb25lbnQ7XG5jb25zdCBvbGRCZWZvcmVSZW5kZXIgPSBvcHRpb25zLl9yZW5kZXI7XG5vcHRpb25zLl9yZW5kZXIgPSBmdW5jdGlvbiAodm5vZGUpIHtcblx0aWYgKG9sZEJlZm9yZVJlbmRlcikge1xuXHRcdG9sZEJlZm9yZVJlbmRlcih2bm9kZSk7XG5cdH1cblx0Y3VycmVudENvbXBvbmVudCA9IHZub2RlLl9jb21wb25lbnQ7XG59O1xuXG5jb25zdCBvbGREaWZmZWQgPSBvcHRpb25zLmRpZmZlZDtcbi8qKiBAdHlwZSB7KHZub2RlOiBpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZSkgPT4gdm9pZH0gKi9cbm9wdGlvbnMuZGlmZmVkID0gZnVuY3Rpb24gKHZub2RlKSB7XG5cdGlmIChvbGREaWZmZWQpIHtcblx0XHRvbGREaWZmZWQodm5vZGUpO1xuXHR9XG5cblx0Y29uc3QgcHJvcHMgPSB2bm9kZS5wcm9wcztcblx0Y29uc3QgZG9tID0gdm5vZGUuX2RvbTtcblxuXHRpZiAoXG5cdFx0ZG9tICE9IG51bGwgJiZcblx0XHR2bm9kZS50eXBlID09PSAndGV4dGFyZWEnICYmXG5cdFx0J3ZhbHVlJyBpbiBwcm9wcyAmJlxuXHRcdHByb3BzLnZhbHVlICE9PSBkb20udmFsdWVcblx0KSB7XG5cdFx0ZG9tLnZhbHVlID0gcHJvcHMudmFsdWUgPT0gbnVsbCA/ICcnIDogcHJvcHMudmFsdWU7XG5cdH1cblxuXHRjdXJyZW50Q29tcG9uZW50ID0gbnVsbDtcbn07XG5cbi8vIFRoaXMgaXMgYSB2ZXJ5IHZlcnkgcHJpdmF0ZSBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgUmVhY3QgaXRcbi8vIGlzIHVzZWQgdG8gc29ydC1vZiBkbyBydW50aW1lIGRlcGVuZGVuY3kgaW5qZWN0aW9uLlxuZXhwb3J0IGNvbnN0IF9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEID0ge1xuXHRSZWFjdEN1cnJlbnREaXNwYXRjaGVyOiB7XG5cdFx0Y3VycmVudDoge1xuXHRcdFx0cmVhZENvbnRleHQoY29udGV4dCkge1xuXHRcdFx0XHRyZXR1cm4gY3VycmVudENvbXBvbmVudC5fZ2xvYmFsQ29udGV4dFtjb250ZXh0Ll9pZF0ucHJvcHMudmFsdWU7XG5cdFx0XHR9LFxuXHRcdFx0dXNlQ2FsbGJhY2ssXG5cdFx0XHR1c2VDb250ZXh0LFxuXHRcdFx0dXNlRGVidWdWYWx1ZSxcblx0XHRcdHVzZURlZmVycmVkVmFsdWUsXG5cdFx0XHR1c2VFZmZlY3QsXG5cdFx0XHR1c2VJZCxcblx0XHRcdHVzZUltcGVyYXRpdmVIYW5kbGUsXG5cdFx0XHR1c2VJbnNlcnRpb25FZmZlY3QsXG5cdFx0XHR1c2VMYXlvdXRFZmZlY3QsXG5cdFx0XHR1c2VNZW1vLFxuXHRcdFx0Ly8gdXNlTXV0YWJsZVNvdXJjZSwgLy8gZXhwZXJpbWVudGFsLW9ubHkgYW5kIHJlcGxhY2VkIGJ5IHVTRVMsIGxpa2VseSBub3Qgd29ydGggc3VwcG9ydGluZ1xuXHRcdFx0dXNlUmVkdWNlcixcblx0XHRcdHVzZVJlZixcblx0XHRcdHVzZVN0YXRlLFxuXHRcdFx0dXNlU3luY0V4dGVybmFsU3RvcmUsXG5cdFx0XHR1c2VUcmFuc2l0aW9uXG5cdFx0fVxuXHR9XG59O1xuIiwgImltcG9ydCB7XG5cdGNyZWF0ZUVsZW1lbnQsXG5cdHJlbmRlciBhcyBwcmVhY3RSZW5kZXIsXG5cdGNsb25lRWxlbWVudCBhcyBwcmVhY3RDbG9uZUVsZW1lbnQsXG5cdGNyZWF0ZVJlZixcblx0Q29tcG9uZW50LFxuXHRjcmVhdGVDb250ZXh0LFxuXHRGcmFnbWVudFxufSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHtcblx0dXNlU3RhdGUsXG5cdHVzZUlkLFxuXHR1c2VSZWR1Y2VyLFxuXHR1c2VFZmZlY3QsXG5cdHVzZUxheW91dEVmZmVjdCxcblx0dXNlUmVmLFxuXHR1c2VJbXBlcmF0aXZlSGFuZGxlLFxuXHR1c2VNZW1vLFxuXHR1c2VDYWxsYmFjayxcblx0dXNlQ29udGV4dCxcblx0dXNlRGVidWdWYWx1ZVxufSBmcm9tICdwcmVhY3QvaG9va3MnO1xuaW1wb3J0IHtcblx0dXNlSW5zZXJ0aW9uRWZmZWN0LFxuXHRzdGFydFRyYW5zaXRpb24sXG5cdHVzZURlZmVycmVkVmFsdWUsXG5cdHVzZVN5bmNFeHRlcm5hbFN0b3JlLFxuXHR1c2VUcmFuc2l0aW9uXG59IGZyb20gJy4vaG9va3MnO1xuaW1wb3J0IHsgUHVyZUNvbXBvbmVudCB9IGZyb20gJy4vUHVyZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBtZW1vIH0gZnJvbSAnLi9tZW1vJztcbmltcG9ydCB7IGZvcndhcmRSZWYgfSBmcm9tICcuL2ZvcndhcmRSZWYnO1xuaW1wb3J0IHsgQ2hpbGRyZW4gfSBmcm9tICcuL0NoaWxkcmVuJztcbmltcG9ydCB7IFN1c3BlbnNlLCBsYXp5IH0gZnJvbSAnLi9zdXNwZW5zZSc7XG5pbXBvcnQgeyBTdXNwZW5zZUxpc3QgfSBmcm9tICcuL3N1c3BlbnNlLWxpc3QnO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAnLi9wb3J0YWxzJztcbmltcG9ydCB7XG5cdGh5ZHJhdGUsXG5cdHJlbmRlcixcblx0UkVBQ1RfRUxFTUVOVF9UWVBFLFxuXHRfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRFxufSBmcm9tICcuL3JlbmRlcic7XG5cbmNvbnN0IHZlcnNpb24gPSAnMTguMy4xJzsgLy8gdHJpY2sgbGlicmFyaWVzIHRvIHRoaW5rIHdlIGFyZSByZWFjdFxuXG4vKipcbiAqIExlZ2FjeSB2ZXJzaW9uIG9mIGNyZWF0ZUVsZW1lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlW1widHlwZVwiXX0gdHlwZSBUaGUgbm9kZSBuYW1lIG9yIENvbXBvbmVudCBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBjcmVhdGVGYWN0b3J5KHR5cGUpIHtcblx0cmV0dXJuIGNyZWF0ZUVsZW1lbnQuYmluZChudWxsLCB0eXBlKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFzc2VkIGVsZW1lbnQgaXMgYSB2YWxpZCAocClyZWFjdCBub2RlLlxuICogQHBhcmFtIHsqfSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkge1xuXHRyZXR1cm4gISFlbGVtZW50ICYmIGVsZW1lbnQuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFzc2VkIGVsZW1lbnQgaXMgYSBGcmFnbWVudCBub2RlLlxuICogQHBhcmFtIHsqfSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNGcmFnbWVudChlbGVtZW50KSB7XG5cdHJldHVybiBpc1ZhbGlkRWxlbWVudChlbGVtZW50KSAmJiBlbGVtZW50LnR5cGUgPT09IEZyYWdtZW50O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBwYXNzZWQgZWxlbWVudCBpcyBhIE1lbW8gbm9kZS5cbiAqIEBwYXJhbSB7Kn0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBjaGVja1xuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzTWVtbyhlbGVtZW50KSB7XG5cdHJldHVybiAoXG5cdFx0ISFlbGVtZW50ICYmXG5cdFx0ISFlbGVtZW50LmRpc3BsYXlOYW1lICYmXG5cdFx0KHR5cGVvZiBlbGVtZW50LmRpc3BsYXlOYW1lID09PSAnc3RyaW5nJyB8fFxuXHRcdFx0ZWxlbWVudC5kaXNwbGF5TmFtZSBpbnN0YW5jZW9mIFN0cmluZykgJiZcblx0XHRlbGVtZW50LmRpc3BsYXlOYW1lLnN0YXJ0c1dpdGgoJ01lbW8oJylcblx0KTtcbn1cblxuLyoqXG4gKiBXcmFwIGBjbG9uZUVsZW1lbnRgIHRvIGFib3J0IGlmIHRoZSBwYXNzZWQgZWxlbWVudCBpcyBub3QgYSB2YWxpZCBlbGVtZW50IGFuZCBhcHBseVxuICogYWxsIHZub2RlIG5vcm1hbGl6YXRpb25zLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gZWxlbWVudCBUaGUgdm5vZGUgdG8gY2xvbmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBQcm9wcyB0byBhZGQgd2hlbiBjbG9uaW5nXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudENoaWxkcmVuPn0gcmVzdCBPcHRpb25hbCBjb21wb25lbnQgY2hpbGRyZW5cbiAqL1xuZnVuY3Rpb24gY2xvbmVFbGVtZW50KGVsZW1lbnQpIHtcblx0aWYgKCFpc1ZhbGlkRWxlbWVudChlbGVtZW50KSkgcmV0dXJuIGVsZW1lbnQ7XG5cdHJldHVybiBwcmVhY3RDbG9uZUVsZW1lbnQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBjb21wb25lbnQgdHJlZSBmcm9tIHRoZSBET00sIGluY2x1ZGluZyBzdGF0ZSBhbmQgZXZlbnQgaGFuZGxlcnMuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IGNvbnRhaW5lclxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHVubW91bnRDb21wb25lbnRBdE5vZGUoY29udGFpbmVyKSB7XG5cdGlmIChjb250YWluZXIuX2NoaWxkcmVuKSB7XG5cdFx0cHJlYWN0UmVuZGVyKG51bGwsIGNvbnRhaW5lcik7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEdldCB0aGUgbWF0Y2hpbmcgRE9NIG5vZGUgZm9yIGEgY29tcG9uZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gY29tcG9uZW50XG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuUHJlYWN0RWxlbWVudCB8IG51bGx9XG4gKi9cbmZ1bmN0aW9uIGZpbmRET01Ob2RlKGNvbXBvbmVudCkge1xuXHRyZXR1cm4gKFxuXHRcdChjb21wb25lbnQgJiZcblx0XHRcdChjb21wb25lbnQuYmFzZSB8fCAoY29tcG9uZW50Lm5vZGVUeXBlID09PSAxICYmIGNvbXBvbmVudCkpKSB8fFxuXHRcdG51bGxcblx0KTtcbn1cblxuLyoqXG4gKiBEZXByZWNhdGVkIHdheSB0byBjb250cm9sIGJhdGNoZWQgcmVuZGVyaW5nIGluc2lkZSB0aGUgcmVjb25jaWxlciwgYnV0IHdlXG4gKiBhbHJlYWR5IHNjaGVkdWxlIGluIGJhdGNoZXMgaW5zaWRlIG91ciByZW5kZXJpbmcgY29kZVxuICogQHRlbXBsYXRlIEFyZ1xuICogQHBhcmFtIHsoYXJnOiBBcmcpID0+IHZvaWR9IGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgdHJpZ2dlcnMgdGhlIHVwZGF0ZWRcbiAqIEBwYXJhbSB7QXJnfSBbYXJnXSBPcHRpb25hbCBhcmd1bWVudCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbmNvbnN0IHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzID0gKGNhbGxiYWNrLCBhcmcpID0+IGNhbGxiYWNrKGFyZyk7XG5cbi8qKlxuICogSW4gUmVhY3QsIGBmbHVzaFN5bmNgIGZsdXNoZXMgdGhlIGVudGlyZSB0cmVlIGFuZCBmb3JjZXMgYSByZXJlbmRlci4gSXQnc1xuICogaW1wbG1lbnRlZCBoZXJlIGFzIGEgbm8tb3AuXG4gKiBAdGVtcGxhdGUgQXJnXG4gKiBAdGVtcGxhdGUgUmVzdWx0XG4gKiBAcGFyYW0geyhhcmc6IEFyZykgPT4gUmVzdWx0fSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHJ1bnMgYmVmb3JlIHRoZSBmbHVzaFxuICogQHBhcmFtIHtBcmd9IFthcmddIE9wdGlvbmFsIGFyZ3VtZW50IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB0aGUgY2FsbGJhY2tcbiAqIEByZXR1cm5zXG4gKi9cbmNvbnN0IGZsdXNoU3luYyA9IChjYWxsYmFjaywgYXJnKSA9PiBjYWxsYmFjayhhcmcpO1xuXG4vKipcbiAqIFN0cmljdCBNb2RlIGlzIG5vdCBpbXBsZW1lbnRlZCBpbiBQcmVhY3QsIHNvIHdlIHByb3ZpZGUgYSBzdGFuZC1pbiBmb3IgaXRcbiAqIHRoYXQganVzdCByZW5kZXJzIGl0cyBjaGlsZHJlbiB3aXRob3V0IGltcG9zaW5nIGFueSByZXN0cmljdGlvbnMuXG4gKi9cbmNvbnN0IFN0cmljdE1vZGUgPSBGcmFnbWVudDtcblxuLy8gY29tcGF0IHRvIHJlYWN0LWlzXG5leHBvcnQgY29uc3QgaXNFbGVtZW50ID0gaXNWYWxpZEVsZW1lbnQ7XG5cbmV4cG9ydCAqIGZyb20gJ3ByZWFjdC9ob29rcyc7XG5leHBvcnQge1xuXHR2ZXJzaW9uLFxuXHRDaGlsZHJlbixcblx0cmVuZGVyLFxuXHRoeWRyYXRlLFxuXHR1bm1vdW50Q29tcG9uZW50QXROb2RlLFxuXHRjcmVhdGVQb3J0YWwsXG5cdGNyZWF0ZUVsZW1lbnQsXG5cdGNyZWF0ZUNvbnRleHQsXG5cdGNyZWF0ZUZhY3RvcnksXG5cdGNsb25lRWxlbWVudCxcblx0Y3JlYXRlUmVmLFxuXHRGcmFnbWVudCxcblx0aXNWYWxpZEVsZW1lbnQsXG5cdGlzRnJhZ21lbnQsXG5cdGlzTWVtbyxcblx0ZmluZERPTU5vZGUsXG5cdENvbXBvbmVudCxcblx0UHVyZUNvbXBvbmVudCxcblx0bWVtbyxcblx0Zm9yd2FyZFJlZixcblx0Zmx1c2hTeW5jLFxuXHR1c2VJbnNlcnRpb25FZmZlY3QsXG5cdHN0YXJ0VHJhbnNpdGlvbixcblx0dXNlRGVmZXJyZWRWYWx1ZSxcblx0dXNlU3luY0V4dGVybmFsU3RvcmUsXG5cdHVzZVRyYW5zaXRpb24sXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2Vcblx0dW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMsXG5cdFN0cmljdE1vZGUsXG5cdFN1c3BlbnNlLFxuXHRTdXNwZW5zZUxpc3QsXG5cdGxhenksXG5cdF9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEXG59O1xuXG4vLyBSZWFjdCBjb3BpZXMgdGhlIG5hbWVkIGV4cG9ydHMgdG8gdGhlIGRlZmF1bHQgb25lLlxuZXhwb3J0IGRlZmF1bHQge1xuXHR1c2VTdGF0ZSxcblx0dXNlSWQsXG5cdHVzZVJlZHVjZXIsXG5cdHVzZUVmZmVjdCxcblx0dXNlTGF5b3V0RWZmZWN0LFxuXHR1c2VJbnNlcnRpb25FZmZlY3QsXG5cdHVzZVRyYW5zaXRpb24sXG5cdHVzZURlZmVycmVkVmFsdWUsXG5cdHVzZVN5bmNFeHRlcm5hbFN0b3JlLFxuXHRzdGFydFRyYW5zaXRpb24sXG5cdHVzZVJlZixcblx0dXNlSW1wZXJhdGl2ZUhhbmRsZSxcblx0dXNlTWVtbyxcblx0dXNlQ2FsbGJhY2ssXG5cdHVzZUNvbnRleHQsXG5cdHVzZURlYnVnVmFsdWUsXG5cdHZlcnNpb24sXG5cdENoaWxkcmVuLFxuXHRyZW5kZXIsXG5cdGh5ZHJhdGUsXG5cdHVubW91bnRDb21wb25lbnRBdE5vZGUsXG5cdGNyZWF0ZVBvcnRhbCxcblx0Y3JlYXRlRWxlbWVudCxcblx0Y3JlYXRlQ29udGV4dCxcblx0Y3JlYXRlRmFjdG9yeSxcblx0Y2xvbmVFbGVtZW50LFxuXHRjcmVhdGVSZWYsXG5cdEZyYWdtZW50LFxuXHRpc1ZhbGlkRWxlbWVudCxcblx0aXNFbGVtZW50LFxuXHRpc0ZyYWdtZW50LFxuXHRpc01lbW8sXG5cdGZpbmRET01Ob2RlLFxuXHRDb21wb25lbnQsXG5cdFB1cmVDb21wb25lbnQsXG5cdG1lbW8sXG5cdGZvcndhcmRSZWYsXG5cdGZsdXNoU3luYyxcblx0dW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMsXG5cdFN0cmljdE1vZGUsXG5cdFN1c3BlbnNlLFxuXHRTdXNwZW5zZUxpc3QsXG5cdGxhenksXG5cdF9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEXG59O1xuIiwgImltcG9ydCB7b3B0aW9ucywgRnJhZ21lbnR9IGZyb20gXCJwcmVhY3RcIjtcblxubGV0IGN1cnJlbnRWTm9kZTtcbmxldCByZWZJbmRleDtcbmxldCBpbmNsdWRlRm5hbWVzPWZhbHNlO1xuLy9sZXQgaW5jbHVkZUZuYW1lcz10cnVlO1xuXG5sZXQgb2xkUmVuZGVyPW9wdGlvbnMuX19yO1xub3B0aW9ucy5fX3I9dm5vZGU9Pntcblx0Y3VycmVudFZOb2RlPXZub2RlO1xuXHRyZWZJbmRleD0wO1xuXHRpZiAob2xkUmVuZGVyKVxuXHRcdG9sZFJlbmRlcih2bm9kZSk7XG59XG5cbmZ1bmN0aW9uIHZub2RlUGF0aCh2bm9kZSkge1xuXHRpZiAoIXZub2RlKVxuXHRcdHJldHVybiBcIlwiO1xuXG4gICAgLy8gU2tpcCB1bmtleWVkIGZyYWdtZW50cyBmb3IgY29uc2lzdGVudCBwYXRoaW5nXG4gICAgaWYgKHZub2RlLnR5cGUgPT09IEZyYWdtZW50ICYmIHZub2RlLmtleSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB2bm9kZVBhdGgodm5vZGUuX18pO1xuICAgIH1cblxuXHRsZXQgbmFtZT12bm9kZS50eXBlO1xuXHQvL2NvbnNvbGUubG9nKG5hbWUpO1xuXHRpZiAodHlwZW9mIG5hbWU9PVwiZnVuY3Rpb25cIikge1xuXHRcdGlmIChpbmNsdWRlRm5hbWVzKVxuXHRcdFx0bmFtZT1uYW1lLm5hbWU7XG5cblx0XHRlbHNlXG5cdFx0XHRuYW1lPVwiQ1wiO1xuXHR9XG5cblx0bGV0IGtleT12bm9kZS5rZXk7XG5cdGlmICgha2V5KSB7XG5cdFx0aWYgKHZub2RlLl9faT49MClcblx0XHRcdGtleT12bm9kZS5fX2k7XG5cblx0XHRlbHNlIGlmICh2bm9kZS5fXyAmJiB2bm9kZS5fXy5fX2spXG5cdFx0XHRrZXk9dm5vZGUuX18uX19rLmluZGV4T2Yodm5vZGUpO1xuXG5cdFx0ZWxzZVxuXHRcdFx0a2V5PTA7XG5cblx0XHRpZiAoa2V5PDApXG5cdFx0XHRjb25zb2xlLmxvZyhcIndhcm5pbmc6IG5lZ2F0aXZlIGtleSBpbiByZWZpZFwiKVxuXHR9XG5cblx0bGV0IHBhcmVudFBhdGg9dm5vZGVQYXRoKHZub2RlLl9fKTtcblxuXHRyZXR1cm4gcGFyZW50UGF0aCsocGFyZW50UGF0aD9cIi9cIjpcIlwiKStuYW1lK2tleTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVJlZklkKCkge1xuXHRyZWZJbmRleCsrO1xuXG5cdHJldHVybiB2bm9kZVBhdGgoY3VycmVudFZOb2RlKStcIiNcIityZWZJbmRleDtcbn0iLCAiZXhwb3J0IGZ1bmN0aW9uIGpzb25FcShhLGIpIHtcblx0cmV0dXJuIChKU09OLnN0cmluZ2lmeShhKT09SlNPTi5zdHJpbmdpZnkoYikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRQYXRoKHBhdGhuYW1lKSB7XG5cdGlmIChwYXRobmFtZT09PXVuZGVmaW5lZClcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmRlZmluZWQgcGF0aG5hbWVcIik7XG5cblx0cmV0dXJuIHBhdGhuYW1lLnNwbGl0KFwiL1wiKS5maWx0ZXIocz0+cy5sZW5ndGg+MCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cmxHZXRBcmdzKHVybCkge1xuXHRyZXR1cm4gc3BsaXRQYXRoKG5ldyBVUkwodXJsKS5wYXRobmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cmxHZXRQYXJhbXModXJsKSB7XG5cdGxldCB1PW5ldyBVUkwodXJsKTtcblx0cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyh1LnNlYXJjaFBhcmFtcyk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoUGF0aEFycmF5KHBhdGgsIGV4cHIpIHtcbiAgICBmdW5jdGlvbiBoZWxwZXIocGksIGVpKSB7XG4gICAgICAgIHZhciBjYXB0dXJlcyA9IFtdO1xuXG4gICAgICAgIHdoaWxlIChlaSA8IGV4cHIubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBleHByW2VpXTtcblxuICAgICAgICAgICAgaWYgKHRva2VuID09PSBcIioqXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBUcnkgbWF0Y2hpbmcgemVybyBpdGVtc1xuICAgICAgICAgICAgICAgIHZhciB6ZXJvID0gaGVscGVyKHBpLCBlaSArIDEpO1xuICAgICAgICAgICAgICAgIGlmICh6ZXJvICE9PSBudWxsKSByZXR1cm4gY2FwdHVyZXMuY29uY2F0KHplcm8pO1xuXG4gICAgICAgICAgICAgICAgLy8gVHJ5IG1hdGNoaW5nIG9uZSBvciBtb3JlIGl0ZW1zXG4gICAgICAgICAgICAgICAgaWYgKHBpIDwgcGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHQgPSBoZWxwZXIocGkgKyAxLCBlaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYXB0dXJlIGN1cnJlbnQgaXRlbShzKSBpbiBcIioqXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXB0dXJlZCA9IFN0cmluZyhwYXRoW3BpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FwdHVyZXMuY29uY2F0KFtjYXB0dXJlZF0sIG5leHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGkgPj0gcGF0aC5sZW5ndGgpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICBpZiAodG9rZW4gPT09IFwiKlwiKSB7XG4gICAgICAgICAgICAgICAgY2FwdHVyZXMucHVzaChTdHJpbmcocGF0aFtwaV0pKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4gIT09IFN0cmluZyhwYXRoW3BpXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGkrKztcbiAgICAgICAgICAgIGVpKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGkgPT09IHBhdGgubGVuZ3RoID8gY2FwdHVyZXMgOiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBoZWxwZXIoMCwgMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cmxNYXRjaFBhdGgodXJsLCBwYXRoKSB7XG5cdGlmICghdXJsKVxuXHRcdHJldHVybjtcblxuXHRsZXQgdT1uZXcgVVJMKHVybCk7XG5cdGxldCB1cmxTcGxpdD1zcGxpdFBhdGgodS5wYXRobmFtZSk7XG5cdGxldCBwYXRoU3BsaXQ9c3BsaXRQYXRoKHBhdGgpO1xuXG5cdHJldHVybiBtYXRjaFBhdGhBcnJheSh1cmxTcGxpdCxwYXRoU3BsaXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDb29raWUoc3RyKSB7XG5cdGlmICghc3RyKVxuXHRcdHJldHVybiB7fTtcblxuXHRyZXR1cm4gKFxuXHQgIFx0c3RyXG5cdFx0ICAgIC5zcGxpdCgnOycpXG5cdFx0ICAgIC5tYXAodiA9PiB2LnNwbGl0KCc9JykpXG5cdFx0ICAgIC5yZWR1Y2UoKGFjYywgdikgPT4ge1xuXHRcdCAgICBcdGlmICh2Lmxlbmd0aD09Milcblx0XHRcdFx0XHRhY2NbZGVjb2RlVVJJQ29tcG9uZW50KHZbMF0udHJpbSgpKV0gPSBkZWNvZGVVUklDb21wb25lbnQodlsxXS50cmltKCkpO1xuXG5cdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0ICAgIH0sIHt9KVxuXHQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlDb29raWUoa2V5LCB2YWx1ZSwgb3B0aW9ucz17fSkge1xuXHRsZXQgcz1lbmNvZGVVUklDb21wb25lbnQoa2V5KStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodmFsdWUpK1wiO1wiO1xuXHRpZiAob3B0aW9ucy5leHBpcmVzKVxuXHRcdHMrPVwiZXhwaXJlcz1cIituZXcgRGF0ZShvcHRpb25zLmV4cGlyZXMpLnRvVVRDU3RyaW5nKCkrXCI7XCI7XG5cblx0aWYgKG9wdGlvbnMucGF0aClcblx0XHRzKz1cInBhdGg9XCIrb3B0aW9ucy5wYXRoK1wiO1wiXG5cblx0ZWxzZVxuXHRcdHMrPVwicGF0aD0vO1wiXG5cblx0cmV0dXJuIHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidWYyaGV4KGJ1ZmZlcikgeyAvLyBidWZmZXIgaXMgYW4gQXJyYXlCdWZmZXJcbiAgICByZXR1cm4gWy4uLm5ldyBVaW50OEFycmF5KGJ1ZmZlcildXG4gICAgICAgIC5tYXAoeCA9PiB4LnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKVxuICAgICAgICAuam9pbignJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVJlbW92ZShhcnJheSwgaXRlbSkge1xuXHRsZXQgaW5kZXg9YXJyYXkuaW5kZXhPZihpdGVtKTtcblx0aWYgKGluZGV4Pj0wKVxuXHRcdGFycmF5LnNwbGljZShpbmRleCwxKTtcblxuXHRyZXR1cm4gYXJyYXk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlRnJvbVN1YnN0cmluZyhzdHIsIHN1YiwgcmVwbGFjZW1lbnQpIHtcbiAgY29uc3QgaWR4ID0gc3RyLmluZGV4T2Yoc3ViKTtcbiAgaWYgKGlkeCA9PT0gLTEpIHJldHVybiBzdHI7IC8vIHN1YnN0cmluZyBub3QgZm91bmQsIHJldHVybiBvcmlnaW5hbFxuICByZXR1cm4gc3RyLnNsaWNlKDAsIGlkeCkgKyByZXBsYWNlbWVudDtcbn1cblxuZXhwb3J0IGNsYXNzIERlY2xhcmVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcblx0XHRzdXBlciguLi5hcmdzKTtcblx0XHR0aGlzLmRlY2xhcmVkPXRydWU7XG5cdH1cbn1cbiIsICJpbXBvcnQge2NyZWF0ZUNvbnRleHR9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7Y3JlYXRlRWxlbWVudCwgU3VzcGVuc2V9IGZyb20gXCJwcmVhY3QvY29tcGF0XCI7XG5pbXBvcnQge3VzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlTGF5b3V0RWZmZWN0fSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQge3VzZVJlZklkfSBmcm9tIFwiLi4vdXRpbHMvcHJlYWN0LXJlZmlkLmpzXCI7XG5pbXBvcnQge2FycmF5UmVtb3ZlfSBmcm9tIFwiLi4vdXRpbHMvanMtdXRpbC5qc1wiO1xuXG5leHBvcnQgY29uc3QgSXNvUmVmQ29udGV4dD1jcmVhdGVDb250ZXh0KCk7XG5cbmV4cG9ydCBjbGFzcyBJc29SZWYge1xuXHRjb25zdHJ1Y3Rvcihpc29SZWZTdGF0ZSwgaW5pdGlhbFZhbHVlLCBvcHRpb25zKSB7XG5cdFx0dGhpcy5pc29SZWZTdGF0ZT1pc29SZWZTdGF0ZTtcblx0XHR0aGlzLnJlZkNvdW50PTA7XG5cdFx0dGhpcy5jdXJyZW50PWluaXRpYWxWYWx1ZTtcblx0XHR0aGlzLmlkcz1bXTtcblxuXHRcdHRoaXMuc2hhcmVkPW9wdGlvbnMuc2hhcmVkO1xuXHRcdGlmICh0aGlzLnNoYXJlZD09PXVuZGVmaW5lZClcblx0XHRcdHRoaXMuc2hhcmVkPXRydWU7XG5cdH1cblxuXHRyZWYoaWQpIHtcblx0XHQvL2NvbnNvbGUubG9nKFwicmVmOiBcIitpZCk7XG5cdFx0aWYgKCF0aGlzLmlkcy5pbmNsdWRlcyhpZCkpXG5cdFx0XHR0aGlzLmlkcy5wdXNoKGlkKTtcblx0fVxuXG5cdHVucmVmKGlkKSB7XG5cdFx0YXJyYXlSZW1vdmUodGhpcy5pZHMsaWQpO1xuXHRcdGlmICghdGhpcy5pZHMubGVuZ3RoKVxuXHRcdFx0dGhpcy5pc29SZWZTdGF0ZS5zY2hlZHVsZVN3ZWVwKCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIElzb1JlZlN0YXRlIHtcblx0Y29uc3RydWN0b3Ioe2luaXRpYWxSZWZWYWx1ZXN9PXt9KSB7XG5cdFx0dGhpcy5yZWZzPXt9O1xuXHRcdHRoaXMuc3dlZXBUaW1lb3V0PW51bGw7XG5cdFx0dGhpcy5zd2VlcEJsb2NrSWRzPVtdO1xuXG5cdFx0aWYgKGluaXRpYWxSZWZWYWx1ZXMpIHtcblx0XHRcdGZvciAobGV0IGsgaW4gaW5pdGlhbFJlZlZhbHVlcylcblx0XHRcdFx0dGhpcy5yZWZzW2tdPW5ldyBJc29SZWYodGhpcyxpbml0aWFsUmVmVmFsdWVzW2tdLHtzaGFyZWQ6IHRydWV9KTtcblx0XHR9XG5cdH1cblxuXHRnZXRSZWYoaWQsIGluaXRpYWxWYWx1ZSwgb3B0aW9ucykge1xuXHRcdGlmICghdGhpcy5yZWZzW2lkXSkge1xuXHRcdFx0dGhpcy5yZWZzW2lkXT1uZXcgSXNvUmVmKHRoaXMsaW5pdGlhbFZhbHVlLG9wdGlvbnMpO1xuXHRcdFx0dGhpcy5zY2hlZHVsZVN3ZWVwKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucmVmc1tpZF07XG5cdH1cblxuXHRzY2hlZHVsZVN3ZWVwKCkge1xuXHRcdGlmICghZ2xvYmFsVGhpcy53aW5kb3cgfHxcblx0XHRcdFx0dGhpcy5zd2VlcFRpbWVvdXQgfHxcblx0XHRcdFx0dGhpcy5zd2VlcEJsb2NrSWRzLmxlbmd0aClcblx0XHRcdHJldHVybjtcblxuXHRcdC8vdGhpcy5zd2VlcFRpbWVvdXQ9c2V0VGltZW91dCh0aGlzLmhhbmRsZVN3ZWVwLDApO1xuXHRcdHRoaXMuc3dlZXBUaW1lb3V0PXJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmhhbmRsZVN3ZWVwKTtcblx0fVxuXG5cdGhhbmRsZVN3ZWVwPSgpPT57XG5cdFx0dGhpcy5zd2VlcFRpbWVvdXQ9bnVsbDtcblxuXHRcdGlmICh0aGlzLnN3ZWVwQmxvY2tJZHMubGVuZ3RoKVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0Ly9jb25zb2xlLmxvZyhcInN3ZWVwaW5nXCIpO1xuXHRcdGZvciAobGV0IGlkIGluIHRoaXMucmVmcykge1xuXHRcdFx0bGV0IHJlZj10aGlzLnJlZnNbaWRdO1xuXHRcdFx0Ly9jb25zb2xlLmxvZyhcInJlZiBcIitpZCtcIjogXCIrcmVmLmlkcy5qb2luKFwiLFwiKSk7XG5cblx0XHRcdGlmICghcmVmLmlkcy5sZW5ndGgpIHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcImV2YzogXCIraWQpO1xuXHRcdFx0XHRkZWxldGUgdGhpcy5yZWZzW2lkXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZWZTd2VlcEJsb2NrKGlkKSB7XG5cdFx0aWYgKCF0aGlzLnN3ZWVwQmxvY2tJZHMuaW5jbHVkZXMoaWQpKVxuXHRcdFx0dGhpcy5zd2VlcEJsb2NrSWRzLnB1c2goaWQpO1xuXHR9XG5cblx0dW5yZWZTd2VlcEJsb2NrKGlkKSB7XG5cdFx0YXJyYXlSZW1vdmUodGhpcy5zd2VlcEJsb2NrSWRzLGlkKTtcblx0XHRpZiAoIXRoaXMuc3dlZXBCbG9ja0lkcy5sZW5ndGgpXG5cdFx0XHR0aGlzLnNjaGVkdWxlU3dlZXAoKTtcblx0fVxuXG5cdGdldFNoYXJlZFJlZlZhbHVlcygpIHtcblx0XHRsZXQgcmVmVmFsdWVzPXt9O1xuXHRcdGZvciAobGV0IGsgaW4gdGhpcy5yZWZzKVxuXHRcdFx0aWYgKHRoaXMucmVmc1trXS5zaGFyZWQpXG5cdFx0XHRcdHJlZlZhbHVlc1trXT10aGlzLnJlZnNba10uY3VycmVudDtcblxuXHRcdHJldHVybiByZWZWYWx1ZXM7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzb1N1c3BlbnNlKHtjaGlsZHJlbiwgZmFsbGJhY2t9KSB7XG5cdGxldCBpc29SZWZTdGF0ZT11c2VDb250ZXh0KElzb1JlZkNvbnRleHQpO1xuXHRsZXQgcmVmSWQ9dXNlUmVmSWQoKTtcblxuXHRmdW5jdGlvbiBGYWxsYmFja1dyYXBwZXIoKSB7XG5cdFx0dXNlTGF5b3V0RWZmZWN0KCgpPT57XG5cdFx0XHQvL2NvbnNvbGUubG9nKFwibW91bnQgZmFsbGJhY2tcIik7XG5cdFx0XHRpc29SZWZTdGF0ZS5yZWZTd2VlcEJsb2NrKHJlZklkKTtcblx0XHRcdHJldHVybiAoKT0+e1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKFwidW5tb3VudCBmYWxsYmFja1wiKTtcblx0XHRcdFx0aXNvUmVmU3RhdGUudW5yZWZTd2VlcEJsb2NrKHJlZklkKTtcblx0XHRcdH1cblx0XHR9LFtdKTtcblxuXHRcdHJldHVybiBmYWxsYmFjaztcblx0fVxuXG5cdHJldHVybiBjcmVhdGVFbGVtZW50KFN1c3BlbnNlLHtmYWxsYmFjazogY3JlYXRlRWxlbWVudChGYWxsYmFja1dyYXBwZXIpfSxjaGlsZHJlbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VJc29SZWYoaW5pdGlhbFZhbHVlLCBvcHRpb25zPXt9KSB7XG5cdGlmICh0eXBlb2Ygb3B0aW9ucz09XCJib29sZWFuXCIpXG5cdFx0b3B0aW9ucz17c2hhcmVkOiBvcHRpb25zfTtcblxuXHRsZXQgcmVmSWQ9dXNlUmVmSWQoKTtcblx0Ly9jb25zb2xlLmxvZyhcInVzZSByZWYgaWQ9XCIrcmVmSWQpO1xuXHRsZXQgaXNvUmVmU3RhdGU9dXNlQ29udGV4dChJc29SZWZDb250ZXh0KTtcblx0bGV0IHJlZj1pc29SZWZTdGF0ZS5nZXRSZWYocmVmSWQsaW5pdGlhbFZhbHVlLG9wdGlvbnMpO1xuXHR1c2VMYXlvdXRFZmZlY3QoKCk9Pntcblx0XHQvL2NvbnNvbGUubG9nKFwicmVmIGVmZmVjdCwgaWQ9XCIrcmVmSWQpO1xuXHRcdHJlZi5yZWYocmVmSWQpO1xuXHRcdHJldHVybiAoKT0+e1xuXHRcdFx0Ly9jb25zb2xlLmxvZyhcInVubW91bnQgcmVmLCBpZD1cIityZWZJZCk7XG5cdFx0XHRyZWYudW5yZWYocmVmSWQpO1xuXHRcdH1cblx0fSxbXSk7XG5cblx0cmV0dXJuIHJlZjtcbn0iLCAiaW1wb3J0IHt1c2VTdGF0ZSwgdXNlUmVmLCB1c2VNZW1vLCB1c2VDYWxsYmFjaywgdXNlTGF5b3V0RWZmZWN0fSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VFdmVudExpc3RlbmVyKG8sIGV2LCBmbikge1xuXHR1c2VMYXlvdXRFZmZlY3QoKCk9Pntcblx0XHRvLmFkZEV2ZW50TGlzdGVuZXIoZXYsZm4pO1xuXHRcdHJldHVybiAoKT0+e1xuXHRcdFx0by5yZW1vdmVFdmVudExpc3RlbmVyKGV2LGZuKTtcblx0XHR9XG5cdH0sW28sZXYsZm5dKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUV2ZW50VXBkYXRlKG8sIGV2KSB7XG5cdGxldCBbXyxzZXREdW1teVN0YXRlXT11c2VTdGF0ZSgpO1xuXHRsZXQgZm9yY2VVcGRhdGU9dXNlQ2FsbGJhY2soKCk9PnNldER1bW15U3RhdGUoe30pKTtcblx0dXNlRXZlbnRMaXN0ZW5lcihvLGV2LGZvcmNlVXBkYXRlKTtcbn1cbiIsICJjb25zdCBFTkNPREVEX0VOVElUSUVTID0gL1tcIiY8XS87XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gc3RyICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlRW50aXRpZXMoc3RyKSB7XG5cdC8vIFNraXAgYWxsIHdvcmsgZm9yIHN0cmluZ3Mgd2l0aCBubyBlbnRpdGllcyBuZWVkaW5nIGVuY29kaW5nOlxuXHRpZiAoc3RyLmxlbmd0aCA9PT0gMCB8fCBFTkNPREVEX0VOVElUSUVTLnRlc3Qoc3RyKSA9PT0gZmFsc2UpIHJldHVybiBzdHI7XG5cblx0bGV0IGxhc3QgPSAwLFxuXHRcdGkgPSAwLFxuXHRcdG91dCA9ICcnLFxuXHRcdGNoID0gJyc7XG5cblx0Ly8gU2VlayBmb3J3YXJkIGluIHN0ciB1bnRpbCB0aGUgbmV4dCBlbnRpdHkgY2hhcjpcblx0Zm9yICg7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcblx0XHRzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGkpKSB7XG5cdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRjaCA9ICcmcXVvdDsnO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdGNoID0gJyZhbXA7Jztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDYwOlxuXHRcdFx0XHRjaCA9ICcmbHQ7Jztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0Ly8gQXBwZW5kIHNraXBwZWQvYnVmZmVyZWQgY2hhcmFjdGVycyBhbmQgdGhlIGVuY29kZWQgZW50aXR5OlxuXHRcdGlmIChpICE9PSBsYXN0KSBvdXQgKz0gc3RyLnNsaWNlKGxhc3QsIGkpO1xuXHRcdG91dCArPSBjaDtcblx0XHQvLyBTdGFydCB0aGUgbmV4dCBzZWVrL2J1ZmZlciBhZnRlciB0aGUgZW50aXR5J3Mgb2Zmc2V0OlxuXHRcdGxhc3QgPSBpICsgMTtcblx0fVxuXHRpZiAoaSAhPT0gbGFzdCkgb3V0ICs9IHN0ci5zbGljZShsYXN0LCBpKTtcblx0cmV0dXJuIG91dDtcbn1cbiIsICIvKiogTm9ybWFsIGh5ZHJhdGlvbiB0aGF0IGF0dGFjaGVzIHRvIGEgRE9NIHRyZWUgYnV0IGRvZXMgbm90IGRpZmYgaXQuICovXG5leHBvcnQgY29uc3QgTU9ERV9IWURSQVRFID0gMSA8PCA1O1xuLyoqIFNpZ25pZmllcyB0aGlzIFZOb2RlIHN1c3BlbmRlZCBvbiB0aGUgcHJldmlvdXMgcmVuZGVyICovXG5leHBvcnQgY29uc3QgTU9ERV9TVVNQRU5ERUQgPSAxIDw8IDc7XG4vKiogSW5kaWNhdGVzIHRoYXQgdGhpcyBub2RlIG5lZWRzIHRvIGJlIGluc2VydGVkIHdoaWxlIHBhdGNoaW5nIGNoaWxkcmVuICovXG5leHBvcnQgY29uc3QgSU5TRVJUX1ZOT0RFID0gMSA8PCAyO1xuLyoqIEluZGljYXRlcyBhIFZOb2RlIGhhcyBiZWVuIG1hdGNoZWQgd2l0aCBhbm90aGVyIFZOb2RlIGluIHRoZSBkaWZmICovXG5leHBvcnQgY29uc3QgTUFUQ0hFRCA9IDEgPDwgMTtcblxuLyoqIFJlc2V0IGFsbCBtb2RlIGZsYWdzICovXG5leHBvcnQgY29uc3QgUkVTRVRfTU9ERSA9IH4oTU9ERV9IWURSQVRFIHwgTU9ERV9TVVNQRU5ERUQpO1xuXG5leHBvcnQgY29uc3QgU1ZHX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5leHBvcnQgY29uc3QgWEhUTUxfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnO1xuZXhwb3J0IGNvbnN0IE1BVEhfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnO1xuXG5leHBvcnQgY29uc3QgTlVMTCA9IG51bGw7XG5leHBvcnQgY29uc3QgVU5ERUZJTkVEID0gdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IEVNUFRZX09CSiA9IC8qKiBAdHlwZSB7YW55fSAqLyAoe30pO1xuZXhwb3J0IGNvbnN0IEVNUFRZX0FSUiA9IFtdO1xuZXhwb3J0IGNvbnN0IElTX05PTl9ESU1FTlNJT05BTCA9XG5cdC9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8Z3JpZHxvd3N8bW5jfG50d3xpbmVbY2hdfHpvb3xeb3JkfGl0ZXJhL2k7XG4iLCAiaW1wb3J0IHsgb3B0aW9ucywgRnJhZ21lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgZW5jb2RlRW50aXRpZXMgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IElTX05PTl9ESU1FTlNJT05BTCB9IGZyb20gJy4uLy4uL3NyYy9jb25zdGFudHMnO1xuXG5sZXQgdm5vZGVJZCA9IDA7XG5cbmNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIFRoaXMgZmlsZSBleHBvcnRzIHZhcmlvdXMgbWV0aG9kcyB0aGF0IGltcGxlbWVudCBCYWJlbCdzIFwiYXV0b21hdGljXCIgSlNYIHJ1bnRpbWUgQVBJOlxuICogLSBqc3godHlwZSwgcHJvcHMsIGtleSlcbiAqIC0ganN4cyh0eXBlLCBwcm9wcywga2V5KVxuICogLSBqc3hERVYodHlwZSwgcHJvcHMsIGtleSwgX19zb3VyY2UsIF9fc2VsZilcbiAqXG4gKiBUaGUgaW1wbGVtZW50YXRpb24gb2YgY3JlYXRlVk5vZGUgaGVyZSBpcyBvcHRpbWl6ZWQgZm9yIHBlcmZvcm1hbmNlLlxuICogQmVuY2htYXJrczogaHR0cHM6Ly9lc2JlbmNoLmNvbS9iZW5jaC81ZjZiNTRhMGI0NjMyMTAwYTdkY2QyYjNcbiAqL1xuXG4vKipcbiAqIEpTWC5FbGVtZW50IGZhY3RvcnkgdXNlZCBieSBCYWJlbCdzIHtydW50aW1lOlwiYXV0b21hdGljXCJ9IEpTWCB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7Vk5vZGVbJ3R5cGUnXX0gdHlwZVxuICogQHBhcmFtIHtWTm9kZVsncHJvcHMnXX0gcHJvcHNcbiAqIEBwYXJhbSB7Vk5vZGVbJ2tleSddfSBba2V5XVxuICogQHBhcmFtIHt1bmtub3dufSBbaXNTdGF0aWNDaGlsZHJlbl1cbiAqIEBwYXJhbSB7dW5rbm93bn0gW19fc291cmNlXVxuICogQHBhcmFtIHt1bmtub3dufSBbX19zZWxmXVxuICovXG5mdW5jdGlvbiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wcywga2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBfX3NvdXJjZSwgX19zZWxmKSB7XG5cdGlmICghcHJvcHMpIHByb3BzID0ge307XG5cdC8vIFdlJ2xsIHdhbnQgdG8gcHJlc2VydmUgYHJlZmAgaW4gcHJvcHMgdG8gZ2V0IHJpZCBvZiB0aGUgbmVlZCBmb3Jcblx0Ly8gZm9yd2FyZFJlZiBjb21wb25lbnRzIGluIHRoZSBmdXR1cmUsIGJ1dCB0aGF0IHNob3VsZCBoYXBwZW4gdmlhXG5cdC8vIGEgc2VwYXJhdGUgUFIuXG5cdGxldCBub3JtYWxpemVkUHJvcHMgPSBwcm9wcyxcblx0XHRyZWYsXG5cdFx0aTtcblxuXHRpZiAoJ3JlZicgaW4gbm9ybWFsaXplZFByb3BzKSB7XG5cdFx0bm9ybWFsaXplZFByb3BzID0ge307XG5cdFx0Zm9yIChpIGluIHByb3BzKSB7XG5cdFx0XHRpZiAoaSA9PSAncmVmJykge1xuXHRcdFx0XHRyZWYgPSBwcm9wc1tpXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5vcm1hbGl6ZWRQcm9wc1tpXSA9IHByb3BzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKiBAdHlwZSB7Vk5vZGUgJiB7IF9fc291cmNlOiBhbnk7IF9fc2VsZjogYW55IH19ICovXG5cdGNvbnN0IHZub2RlID0ge1xuXHRcdHR5cGUsXG5cdFx0cHJvcHM6IG5vcm1hbGl6ZWRQcm9wcyxcblx0XHRrZXksXG5cdFx0cmVmLFxuXHRcdF9jaGlsZHJlbjogbnVsbCxcblx0XHRfcGFyZW50OiBudWxsLFxuXHRcdF9kZXB0aDogMCxcblx0XHRfZG9tOiBudWxsLFxuXHRcdF9jb21wb25lbnQ6IG51bGwsXG5cdFx0Y29uc3RydWN0b3I6IHVuZGVmaW5lZCxcblx0XHRfb3JpZ2luYWw6IC0tdm5vZGVJZCxcblx0XHRfaW5kZXg6IC0xLFxuXHRcdF9mbGFnczogMCxcblx0XHRfX3NvdXJjZSxcblx0XHRfX3NlbGZcblx0fTtcblxuXHQvLyBJZiBhIENvbXBvbmVudCBWTm9kZSwgY2hlY2sgZm9yIGFuZCBhcHBseSBkZWZhdWx0UHJvcHMuXG5cdC8vIE5vdGU6IGB0eXBlYCBpcyBvZnRlbiBhIFN0cmluZywgYW5kIGNhbiBiZSBgdW5kZWZpbmVkYCBpbiBkZXZlbG9wbWVudC5cblx0aWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmIChyZWYgPSB0eXBlLmRlZmF1bHRQcm9wcykpIHtcblx0XHRmb3IgKGkgaW4gcmVmKVxuXHRcdFx0aWYgKG5vcm1hbGl6ZWRQcm9wc1tpXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG5vcm1hbGl6ZWRQcm9wc1tpXSA9IHJlZltpXTtcblx0XHRcdH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnZub2RlKSBvcHRpb25zLnZub2RlKHZub2RlKTtcblx0cmV0dXJuIHZub2RlO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIHRlbXBsYXRlIHZub2RlLiBUaGlzIGZ1bmN0aW9uIGlzIG5vdCBleHBlY3RlZCB0byBiZVxuICogdXNlZCBkaXJlY3RseSwgYnV0IHJhdGhlciB0aHJvdWdoIGEgcHJlY29tcGlsZSBKU1ggdHJhbnNmb3JtXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSB0ZW1wbGF0ZXNcbiAqIEBwYXJhbSAge0FycmF5PHN0cmluZyB8IG51bGwgfCBWTm9kZT59IGV4cHJzXG4gKiBAcmV0dXJucyB7Vk5vZGV9XG4gKi9cbmZ1bmN0aW9uIGpzeFRlbXBsYXRlKHRlbXBsYXRlcywgLi4uZXhwcnMpIHtcblx0Y29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShGcmFnbWVudCwgeyB0cGw6IHRlbXBsYXRlcywgZXhwcnMgfSk7XG5cdC8vIEJ5cGFzcyByZW5kZXIgdG8gc3RyaW5nIHRvcCBsZXZlbCBGcmFnbWVudCBvcHRpbWl6YXRpb25cblx0dm5vZGUua2V5ID0gdm5vZGUuX3Zub2RlO1xuXHRyZXR1cm4gdm5vZGU7XG59XG5cbmNvbnN0IEpTX1RPX0NTUyA9IHt9O1xuY29uc3QgQ1NTX1JFR0VYID0gL1tBLVpdL2c7XG5cbi8qKlxuICogVW53cmFwIHBvdGVudGlhbCBzaWduYWxzLlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZUF0dHJWYWx1ZSh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgIT09IG51bGwgJiZcblx0XHR0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG5cdFx0dHlwZW9mIHZhbHVlLnZhbHVlT2YgPT09ICdmdW5jdGlvbidcblx0XHQ/IHZhbHVlLnZhbHVlT2YoKVxuXHRcdDogdmFsdWU7XG59XG5cbi8qKlxuICogU2VyaWFsaXplIGFuIEhUTUwgYXR0cmlidXRlIHRvIGEgc3RyaW5nLiBUaGlzIGZ1bmN0aW9uIGlzIG5vdFxuICogZXhwZWN0ZWQgdG8gYmUgdXNlZCBkaXJlY3RseSwgYnV0IHJhdGhlciB0aHJvdWdoIGEgcHJlY29tcGlsZVxuICogSlNYIHRyYW5zZm9ybVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIGF0dHJpYnV0ZSBuYW1lXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBhdHRyaWJ1dGUgdmFsdWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGpzeEF0dHIobmFtZSwgdmFsdWUpIHtcblx0aWYgKG9wdGlvbnMuYXR0cikge1xuXHRcdGNvbnN0IHJlc3VsdCA9IG9wdGlvbnMuYXR0cihuYW1lLCB2YWx1ZSk7XG5cdFx0aWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSByZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0dmFsdWUgPSBub3JtYWxpemVBdHRyVmFsdWUodmFsdWUpO1xuXG5cdGlmIChuYW1lID09PSAncmVmJyB8fCBuYW1lID09PSAna2V5JykgcmV0dXJuICcnO1xuXHRpZiAobmFtZSA9PT0gJ3N0eWxlJyAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG5cdFx0bGV0IHN0ciA9ICcnO1xuXHRcdGZvciAobGV0IHByb3AgaW4gdmFsdWUpIHtcblx0XHRcdGxldCB2YWwgPSB2YWx1ZVtwcm9wXTtcblx0XHRcdGlmICh2YWwgIT0gbnVsbCAmJiB2YWwgIT09ICcnKSB7XG5cdFx0XHRcdGNvbnN0IG5hbWUgPVxuXHRcdFx0XHRcdHByb3BbMF0gPT0gJy0nXG5cdFx0XHRcdFx0XHQ/IHByb3Bcblx0XHRcdFx0XHRcdDogSlNfVE9fQ1NTW3Byb3BdIHx8XG5cdFx0XHRcdFx0XHRcdChKU19UT19DU1NbcHJvcF0gPSBwcm9wLnJlcGxhY2UoQ1NTX1JFR0VYLCAnLSQmJykudG9Mb3dlckNhc2UoKSk7XG5cblx0XHRcdFx0bGV0IHN1ZmZpeCA9ICc7Jztcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHR5cGVvZiB2YWwgPT09ICdudW1iZXInICYmXG5cdFx0XHRcdFx0Ly8gRXhjbHVkZSBjdXN0b20tYXR0cmlidXRlc1xuXHRcdFx0XHRcdCFuYW1lLnN0YXJ0c1dpdGgoJy0tJykgJiZcblx0XHRcdFx0XHQhSVNfTk9OX0RJTUVOU0lPTkFMLnRlc3QobmFtZSlcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0c3VmZml4ID0gJ3B4Oyc7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RyID0gc3RyICsgbmFtZSArICc6JyArIHZhbCArIHN1ZmZpeDtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG5hbWUgKyAnPVwiJyArIGVuY29kZUVudGl0aWVzKHN0cikgKyAnXCInO1xuXHR9XG5cblx0aWYgKFxuXHRcdHZhbHVlID09IG51bGwgfHxcblx0XHR2YWx1ZSA9PT0gZmFsc2UgfHxcblx0XHR0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgfHxcblx0XHR0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnXG5cdCkge1xuXHRcdHJldHVybiAnJztcblx0fSBlbHNlIGlmICh2YWx1ZSA9PT0gdHJ1ZSkgcmV0dXJuIG5hbWU7XG5cblx0cmV0dXJuIG5hbWUgKyAnPVwiJyArIGVuY29kZUVudGl0aWVzKCcnICsgdmFsdWUpICsgJ1wiJztcbn1cblxuLyoqXG4gKiBFc2NhcGUgYSBkeW5hbWljIGNoaWxkIHBhc3NlZCB0byBganN4VGVtcGxhdGVgLiBUaGlzIGZ1bmN0aW9uXG4gKiBpcyBub3QgZXhwZWN0ZWQgdG8gYmUgdXNlZCBkaXJlY3RseSwgYnV0IHJhdGhlciB0aHJvdWdoIGFcbiAqIHByZWNvbXBpbGUgSlNYIHRyYW5zZm9ybVxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybnMge3N0cmluZyB8IG51bGwgfCBWTm9kZSB8IEFycmF5PHN0cmluZyB8IG51bGwgfCBWTm9kZT59XG4gKi9cbmZ1bmN0aW9uIGpzeEVzY2FwZSh2YWx1ZSkge1xuXHRpZiAoXG5cdFx0dmFsdWUgPT0gbnVsbCB8fFxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8XG5cdFx0dHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nXG5cdCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcblx0XHQvLyBDaGVjayBmb3IgVk5vZGVcblx0XHRpZiAodmFsdWUuY29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHZhbHVlO1xuXG5cdFx0aWYgKGlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhbHVlW2ldID0ganN4RXNjYXBlKHZhbHVlW2ldKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZW5jb2RlRW50aXRpZXMoJycgKyB2YWx1ZSk7XG59XG5cbmV4cG9ydCB7XG5cdGNyZWF0ZVZOb2RlIGFzIGpzeCxcblx0Y3JlYXRlVk5vZGUgYXMganN4cyxcblx0Y3JlYXRlVk5vZGUgYXMganN4REVWLFxuXHRGcmFnbWVudCxcblx0Ly8gcHJlY29tcGlsZWQgSlNYIHRyYW5zZm9ybVxuXHRqc3hUZW1wbGF0ZSxcblx0anN4QXR0cixcblx0anN4RXNjYXBlXG59O1xuIiwgImltcG9ydCB7Y3JlYXRlQ29udGV4dH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHt1c2VDb250ZXh0LCB1c2VMYXlvdXRFZmZlY3QsIHVzZUVmZmVjdCwgdXNlUmVmfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQge3VzZUV2ZW50VXBkYXRlfSBmcm9tIFwiLi4vdXRpbHMvcmVhY3QtdXRpbC5qc1wiO1xuaW1wb3J0IHt1cmxNYXRjaFBhdGgsIHVybEdldEFyZ3N9IGZyb20gXCIuLi91dGlscy9qcy11dGlsLmpzXCI7XG5pbXBvcnQge0lzb1N1c3BlbnNlfSBmcm9tIFwiLi9pc28tcmVmLmpzXCI7XG5cbmNvbnN0IFJvdXRlckNvbnRleHQ9Y3JlYXRlQ29udGV4dCgpO1xuY29uc3QgUm91dGVDb250ZXh0PWNyZWF0ZUNvbnRleHQoKTtcbmNvbnN0IFJvdXRlTWF0Y2hDb250ZXh0PWNyZWF0ZUNvbnRleHQoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVJlZGlyZWN0KCkge1xuXHRsZXQgcmVkaXJlY3RlZFJlZj11c2VSZWYoKTtcblx0bGV0IHJvdXRlclN0YXRlPXVzZUNvbnRleHQoUm91dGVyQ29udGV4dCk7XG5cdHJldHVybiAodXJsPT57XG5cdFx0aWYgKHJlZGlyZWN0ZWRSZWYuY3VycmVudD09dXJsKVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0cmVkaXJlY3RlZFJlZi5jdXJyZW50PXVybDtcblx0XHRyb3V0ZXJTdGF0ZS5zZXRVcmwodXJsKTtcblx0fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSb3V0ZUxvY2F0aW9uKCkge1xuXHRsZXQgcm91dGVWYWx1ZT11c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG5cdHJldHVybiByb3V0ZVZhbHVlLnVybDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUxvY2F0aW9uKCkge1xuXHRyZXR1cm4gdXNlUm91dGVMb2NhdGlvbigpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlUm91dGVBcmdzKCkge1xuXHRsZXQgcm91dGVWYWx1ZT11c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG5cdGxldCByb3V0ZU1hdGNoVmFsdWU9dXNlQ29udGV4dChSb3V0ZU1hdGNoQ29udGV4dCk7XG5cdGlmICghcm91dGVNYXRjaFZhbHVlKVxuXHRcdHJldHVybiB1cmxHZXRBcmdzKHJvdXRlVmFsdWUudXJsKTtcblxuXHRyZXR1cm4gdXJsTWF0Y2hQYXRoKHJvdXRlVmFsdWUudXJsLHJvdXRlTWF0Y2hWYWx1ZS5wYXRoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVJvdXRlUGFyYW1zKCkge1xuXHRsZXQgdXJsPW5ldyBVUkwodXNlUm91dGVMb2NhdGlvbigpKTtcblx0cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyh1cmwuc2VhcmNoUGFyYW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJvdXRlKHtwYXRoLCBjaGlsZHJlbn0pIHtcblx0Ly9yZXR1cm4gY2hpbGRyZW47XG5cblx0bGV0IHJvdXRlVmFsdWU9dXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuXHRsZXQgbWF0Y2g9dXJsTWF0Y2hQYXRoKHJvdXRlVmFsdWUudXJsLHBhdGgpO1xuXHRpZiAoIW1hdGNoKVxuXHRcdHJldHVybiAoPFJvdXRlTWF0Y2hDb250ZXh0LlByb3ZpZGVyPjwvUm91dGVNYXRjaENvbnRleHQuUHJvdmlkZXI+KTtcblxuXHRyZXR1cm4gKDxSb3V0ZU1hdGNoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17e3BhdGh9fT57Y2hpbGRyZW59PC9Sb3V0ZU1hdGNoQ29udGV4dC5Qcm92aWRlcj4pO1xufVxuXG5leHBvcnQgY2xhc3MgUm91dGVyU3RhdGUgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG5cdGNvbnN0cnVjdG9yKHt1cmx9KSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdHRoaXMuYmFzZVVybD1uZXcgVVJMKHVybCkub3JpZ2luO1xuXHRcdHRoaXMuY29tbWl0dGVkVXJsPW5ldyBVUkwodXJsKS50b1N0cmluZygpO1xuXHRcdHRoaXMuY29tbWl0dGVkVmVyc2lvbj0xO1xuXHRcdHRoaXMubmV4dFZlcnNpb249MDtcblx0XHR0aGlzLm5leHRVcmw9XCJcIjtcblx0XHR0aGlzLmlzU3NyPSFnbG9iYWxUaGlzLndpbmRvdztcblxuXHRcdGlmICghdGhpcy5pc1Nzcikge1xuXHRcdFx0Z2xvYmFsVGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsKGUpPT57XG5cdFx0XHRcdHRoaXMuc2V0VXJsKFN0cmluZyhnbG9iYWxUaGlzLndpbmRvdy5sb2NhdGlvbikpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0c2V0VXJsKHVybCkge1xuXHRcdGlmICh0aGlzLmlzU3NyKSB7XG5cdFx0XHR0aGlzLnJlZGlyZWN0VXJsPXVybDtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLm5leHRVcmw9bmV3IFVSTCh1cmwsdGhpcy5iYXNlVXJsKS50b1N0cmluZygpO1xuXG5cdFx0aWYgKHRoaXMubmV4dFZlcnNpb24pXG5cdFx0XHR0aGlzLm5leHRWZXJzaW9uKys7XG5cblx0XHRlbHNlXG5cdFx0XHR0aGlzLm5leHRWZXJzaW9uPXRoaXMuY29tbWl0dGVkVmVyc2lvbisxO1xuXG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImNoYW5nZVwiKSk7XG5cdH1cblxuXHRwb3N0TmF2U2Nyb2xsKCkge1xuXHRcdGxldCB3aW49Z2xvYmFsVGhpcy53aW5kb3c7XG5cdFx0bGV0IHU9bmV3IFVSTCh0aGlzLmNvbW1pdHRlZFVybCk7XG5cdFx0bGV0IGVsO1xuXG5cdFx0aWYgKHUuaGFzaCkge1xuXHRcdFx0bGV0IGhhc2g9dS5oYXNoLnJlcGxhY2UoXCIjXCIsXCJcIik7XG5cdFx0XHRsZXQgZWxzPXdpbi5kb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShoYXNoKTtcblx0XHRcdGlmIChlbHMubGVuZ3RoKVxuXHRcdFx0XHRlbD1lbHNbMF07XG5cdFx0fVxuXG5cdFx0aWYgKGVsKVxuXHRcdFx0ZWwuc2Nyb2xsSW50b1ZpZXcoe1xuXHRcdFx0XHRiZWhhdmlvcjogJ3Ntb290aCdcblx0XHRcdH0pO1xuXG5cdFx0ZWxzZVxuXHRcdFx0d2luLnNjcm9sbFRvKDAsMCk7XG5cdH1cblxuXHRjb21taXQoKSB7XG5cdFx0dGhpcy5jb21taXR0ZWRVcmw9dGhpcy5uZXh0VXJsO1xuXHRcdHRoaXMuY29tbWl0dGVkVmVyc2lvbj10aGlzLm5leHRWZXJzaW9uO1xuXHRcdHRoaXMubmV4dFZlcnNpb249bnVsbDtcblx0XHR0aGlzLm5leHRVcmw9bnVsbDtcblxuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJjaGFuZ2VcIikpO1xuXHRcdGlmICghdGhpcy5pc1Nzcikge1xuXHRcdFx0bGV0IHc9Z2xvYmFsVGhpcy53aW5kb3c7XG5cdFx0XHRpZiAody5sb2NhdGlvbiE9dGhpcy5jb21taXR0ZWRVcmwpIHtcblx0XHRcdFx0dy5oaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uPVwibWFudWFsXCI7XG5cdFx0XHRcdHcuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCxudWxsLHRoaXMuY29tbWl0dGVkVXJsKTtcblx0XHRcdH1cblxuXHRcdFx0c2V0VGltZW91dCgoKT0+dGhpcy5wb3N0TmF2U2Nyb2xsKCksMCk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIENoZWNrTW91bnQoe29uTW91bnQsIGNoaWxkcmVufSkge1xuXHR1c2VFZmZlY3QoKCk9Pntcblx0XHRpZiAob25Nb3VudClcblx0XHRcdG9uTW91bnQoKVxuXHR9KTtcblxuXHRyZXR1cm4gY2hpbGRyZW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSb3V0ZXIoe3JvdXRlclN0YXRlLCBjaGlsZHJlbn0pIHtcblx0dXNlRXZlbnRVcGRhdGUocm91dGVyU3RhdGUsXCJjaGFuZ2VcIik7XG5cblx0Ly9jb25zb2xlLmxvZyhyb3V0ZXJTdGF0ZSk7XG5cblx0cmV0dXJuIChcblx0XHQ8Um91dGVyQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17cm91dGVyU3RhdGV9PlxuXHRcdFx0PElzb1N1c3BlbnNlIGtleT17XCJyb3V0ZS1cIityb3V0ZXJTdGF0ZS5jb21taXR0ZWRWZXJzaW9ufT5cblx0XHRcdFx0PGRpdiBzdHlsZT17e2Rpc3BsYXk6IFwiY29udGVudHNcIn19PlxuXHRcdFx0XHRcdDxDaGVja01vdW50PlxuXHRcdFx0XHRcdFx0PFJvdXRlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17e3VybDogcm91dGVyU3RhdGUuY29tbWl0dGVkVXJsfX0+XG5cdFx0XHRcdFx0XHRcdHtjaGlsZHJlbn1cblx0XHRcdFx0XHRcdDwvUm91dGVDb250ZXh0LlByb3ZpZGVyPlxuXHRcdFx0XHRcdDwvQ2hlY2tNb3VudD5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L0lzb1N1c3BlbnNlPlxuXHRcdFx0eyEhcm91dGVyU3RhdGUubmV4dFZlcnNpb24gJiZcblx0XHRcdFx0PElzb1N1c3BlbnNlIGtleT17XCJyb3V0ZS1cIityb3V0ZXJTdGF0ZS5uZXh0VmVyc2lvbn0+XG5cdFx0XHRcdFx0PGRpdiBzdHlsZT17e2Rpc3BsYXk6IFwibm9uZVwifX0+XG5cdFx0XHRcdFx0XHQ8Q2hlY2tNb3VudCBvbk1vdW50PXsoKT0+cm91dGVyU3RhdGUuY29tbWl0KCl9PlxuXHRcdFx0XHRcdFx0XHQ8Um91dGVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7dXJsOiByb3V0ZXJTdGF0ZS5uZXh0VXJsfX0+XG5cdFx0XHRcdFx0XHRcdFx0e2NoaWxkcmVufVxuXHRcdFx0XHRcdFx0XHQ8L1JvdXRlQ29udGV4dC5Qcm92aWRlcj5cblx0XHRcdFx0XHRcdDwvQ2hlY2tNb3VudD5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9Jc29TdXNwZW5zZT5cblx0XHRcdH1cblx0XHQ8L1JvdXRlckNvbnRleHQuUHJvdmlkZXI+XG5cdCk7XG59IiwgImltcG9ydCB7Q29tcG9uZW50fSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQge3VzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcbmltcG9ydCB7dXNlSXNvQ29udGV4dH0gZnJvbSBcIi4vSXNvQ29udGV4dC5qc3hcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIERlZmF1bHRFcnJvckZhbGxiYWNrKHtlcnJvcn0pIHtcbiAgICBsZXQgW3Nob3dOb2lzeSxzZXRTaG93Tm9pc3ldPXVzZVN0YXRlKCk7XG4gICAgbGV0IHN0eWxlPXtcbiAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgbGVmdDogXCIwXCIsXG4gICAgICAgIHRvcDogXCIwXCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgek9yZGVyOiBcIjEwMFwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMFwiLFxuICAgICAgICBjb2xvcjogXCIjZmYwMDAwXCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjE2cHhcIixcbiAgICAgICAgZm9udEZhbWlseTogXCJtb25vc3BhY2VcIixcbiAgICAgICAgYm9yZGVyU3R5bGU6IFwic29saWRcIixcbiAgICAgICAgYm9yZGVyV2lkdGg6IFwiMC41ZW1cIixcbiAgICAgICAgYm9yZGVyQ29sb3I6IFwiI2ZmMDAwMFwiLFxuICAgICAgICBwYWRkaW5nOiBcIjAuNWVtXCIsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgfTtcblxuICAgIGxldCBhU3R5bGU9e1xuICAgICAgICBtYXJnaW5MZWZ0OiBcIjQwcHhcIiwgXG4gICAgICAgIHRleHREZWNvcmF0aW9uOiBcInVuZGVybGluZVwiLFxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZX0+XG4gICAgICAgICAgICA8ZGl2PntTdHJpbmcoZXJyb3IpfTwvZGl2PlxuICAgICAgICAgICAge2Vycm9yLnN0YWNrRnJhbWVzICYmIDw+XG4gICAgICAgICAgICAgICAge2Vycm9yLnN0YWNrRnJhbWVzLmZpbHRlcihmPT4oc2hvd05vaXN5IHx8ICFmLm5vaXN5KSkubWFwKGY9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7bWFyZ2luTGVmdDogXCI0MHB4XCJ9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF0IHtmLmZpbGV9OntmLmxpbmV9OntmLmNvbHVtbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmLm5hbWU/YCAoaW4gJHtmLm5hbWV9KWA6XCJcIn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7IXNob3dOb2lzeSAmJiBlcnJvci5zdGFja0ZyYW1lcy5maWx0ZXIoZj0+Zi5ub2lzeSkubGVuZ3RoPjAgJiZcbiAgICAgICAgICAgICAgICAgICAgPGEgc3R5bGU9e2FTdHlsZX0gb25DbGljaz17KCk9PnNldFNob3dOb2lzeSh0cnVlKX0+bW9yZS4uLjwvYT5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8Lz59XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59XG5cbmNsYXNzIEVycm9yQm91bmRhcnkgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHsgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcikge1xuICAgICAgICByZXR1cm4geyBoYXNFcnJvcjogdHJ1ZSB9O1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZENhdGNoKGVycm9yLCBpbmZvKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9uRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25FcnJvcihlcnJvciwgaW5mbyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoXywgc3RhdGUpIHtcbiAgICAgICAgaWYgKHN0YXRlLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5mYWxsYmFjayA/PyBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzb0Vycm9yQm91bmRhcnkoe2ZhbGxiYWNrLCBjaGlsZHJlbn0pIHtcbiAgICBsZXQgW2Vycm9yLHNldEVycm9yXT11c2VTdGF0ZSgpO1xuICAgIGxldCBpc289dXNlSXNvQ29udGV4dCgpO1xuXG4gICAgaXNvLmVycm9yRmFsbGJhY2s9ZmFsbGJhY2s7XG5cbiAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVFcnJvcihlKSB7XG4gICAgICAgIGxldCB0bXBFcnJvcj1uZXcgRXJyb3IoKTtcbiAgICAgICAgdG1wRXJyb3IubmFtZT1lLm5hbWU7XG4gICAgICAgIHRtcEVycm9yLm1lc3NhZ2U9ZS5tZXNzYWdlO1xuICAgICAgICBzZXRFcnJvcih0bXBFcnJvcik7XG4gICAgICAgIGF3YWl0IGlzby5wcm9jZXNzRXJyb3IoZSk7XG4gICAgICAgIHNldEVycm9yKGUpO1xuICAgIH1cblxuICAgIGxldCBGYWxsYmFjaz1mYWxsYmFjaztcblxuICAgIGlmIChlcnJvcilcbiAgICAgICAgcmV0dXJuIDxGYWxsYmFjayBlcnJvcj17ZXJyb3J9Lz5cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxFcnJvckJvdW5kYXJ5IG9uRXJyb3I9e2hhbmRsZUVycm9yfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICk7XG59IiwgInZhciBVTktOT1dOX0ZVTkNUSU9OID0gJzx1bmtub3duPic7XG4vKipcbiAqIFRoaXMgcGFyc2VzIHRoZSBkaWZmZXJlbnQgc3RhY2sgdHJhY2VzIGFuZCBwdXRzIHRoZW0gaW50byBvbmUgZm9ybWF0XG4gKiBUaGlzIGJvcnJvd3MgaGVhdmlseSBmcm9tIFRyYWNlS2l0IChodHRwczovL2dpdGh1Yi5jb20vY3Nub3Zlci9UcmFjZUtpdClcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdGFja1N0cmluZykge1xuICB2YXIgbGluZXMgPSBzdGFja1N0cmluZy5zcGxpdCgnXFxuJyk7XG4gIHJldHVybiBsaW5lcy5yZWR1Y2UoZnVuY3Rpb24gKHN0YWNrLCBsaW5lKSB7XG4gICAgdmFyIHBhcnNlUmVzdWx0ID0gcGFyc2VDaHJvbWUobGluZSkgfHwgcGFyc2VXaW5qcyhsaW5lKSB8fCBwYXJzZUdlY2tvKGxpbmUpIHx8IHBhcnNlTm9kZShsaW5lKSB8fCBwYXJzZUpTQyhsaW5lKTtcblxuICAgIGlmIChwYXJzZVJlc3VsdCkge1xuICAgICAgc3RhY2sucHVzaChwYXJzZVJlc3VsdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YWNrO1xuICB9LCBbXSk7XG59XG52YXIgY2hyb21lUmUgPSAvXlxccyphdCAoLio/KSA/XFwoKCg/OmZpbGV8aHR0cHM/fGJsb2J8Y2hyb21lLWV4dGVuc2lvbnxuYXRpdmV8ZXZhbHx3ZWJwYWNrfHJzY3w8YW5vbnltb3VzPnxcXC98W2Etel06XFxcXHxcXFxcXFxcXCkuKj8pKD86OihcXGQrKSk/KD86OihcXGQrKSk/XFwpP1xccyokL2k7XG52YXIgY2hyb21lRXZhbFJlID0gL1xcKChcXFMqKSg/OjooXFxkKykpKD86OihcXGQrKSlcXCkvO1xuXG5mdW5jdGlvbiBwYXJzZUNocm9tZShsaW5lKSB7XG4gIHZhciBwYXJ0cyA9IGNocm9tZVJlLmV4ZWMobGluZSk7XG5cbiAgaWYgKCFwYXJ0cykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGlzTmF0aXZlID0gcGFydHNbMl0gJiYgcGFydHNbMl0uaW5kZXhPZignbmF0aXZlJykgPT09IDA7IC8vIHN0YXJ0IG9mIGxpbmVcblxuICB2YXIgaXNFdmFsID0gcGFydHNbMl0gJiYgcGFydHNbMl0uaW5kZXhPZignZXZhbCcpID09PSAwOyAvLyBzdGFydCBvZiBsaW5lXG5cbiAgdmFyIHN1Ym1hdGNoID0gY2hyb21lRXZhbFJlLmV4ZWMocGFydHNbMl0pO1xuXG4gIGlmIChpc0V2YWwgJiYgc3VibWF0Y2ggIT0gbnVsbCkge1xuICAgIC8vIHRocm93IG91dCBldmFsIGxpbmUvY29sdW1uIGFuZCB1c2UgdG9wLW1vc3QgbGluZS9jb2x1bW4gbnVtYmVyXG4gICAgcGFydHNbMl0gPSBzdWJtYXRjaFsxXTsgLy8gdXJsXG5cbiAgICBwYXJ0c1szXSA9IHN1Ym1hdGNoWzJdOyAvLyBsaW5lXG5cbiAgICBwYXJ0c1s0XSA9IHN1Ym1hdGNoWzNdOyAvLyBjb2x1bW5cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZmlsZTogIWlzTmF0aXZlID8gcGFydHNbMl0gOiBudWxsLFxuICAgIG1ldGhvZE5hbWU6IHBhcnRzWzFdIHx8IFVOS05PV05fRlVOQ1RJT04sXG4gICAgYXJndW1lbnRzOiBpc05hdGl2ZSA/IFtwYXJ0c1syXV0gOiBbXSxcbiAgICBsaW5lTnVtYmVyOiBwYXJ0c1szXSA/ICtwYXJ0c1szXSA6IG51bGwsXG4gICAgY29sdW1uOiBwYXJ0c1s0XSA/ICtwYXJ0c1s0XSA6IG51bGxcbiAgfTtcbn1cblxudmFyIHdpbmpzUmUgPSAvXlxccyphdCAoPzooKD86XFxbb2JqZWN0IG9iamVjdFxcXSk/LispICk/XFwoPygoPzpmaWxlfG1zLWFwcHh8aHR0cHM/fHdlYnBhY2t8cnNjfGJsb2IpOi4qPyk6KFxcZCspKD86OihcXGQrKSk/XFwpP1xccyokL2k7XG5cbmZ1bmN0aW9uIHBhcnNlV2luanMobGluZSkge1xuICB2YXIgcGFydHMgPSB3aW5qc1JlLmV4ZWMobGluZSk7XG5cbiAgaWYgKCFwYXJ0cykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBmaWxlOiBwYXJ0c1syXSxcbiAgICBtZXRob2ROYW1lOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLFxuICAgIGFyZ3VtZW50czogW10sXG4gICAgbGluZU51bWJlcjogK3BhcnRzWzNdLFxuICAgIGNvbHVtbjogcGFydHNbNF0gPyArcGFydHNbNF0gOiBudWxsXG4gIH07XG59XG5cbnZhciBnZWNrb1JlID0gL15cXHMqKC4qPykoPzpcXCgoLio/KVxcKSk/KD86XnxAKSgoPzpmaWxlfGh0dHBzP3xibG9ifGNocm9tZXx3ZWJwYWNrfHJzY3xyZXNvdXJjZXxcXFtuYXRpdmUpLio/fFteQF0qYnVuZGxlKSg/OjooXFxkKykpPyg/OjooXFxkKykpP1xccyokL2k7XG52YXIgZ2Vja29FdmFsUmUgPSAvKFxcUyspIGxpbmUgKFxcZCspKD86ID4gZXZhbCBsaW5lIFxcZCspKiA+IGV2YWwvaTtcblxuZnVuY3Rpb24gcGFyc2VHZWNrbyhsaW5lKSB7XG4gIHZhciBwYXJ0cyA9IGdlY2tvUmUuZXhlYyhsaW5lKTtcblxuICBpZiAoIXBhcnRzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgaXNFdmFsID0gcGFydHNbM10gJiYgcGFydHNbM10uaW5kZXhPZignID4gZXZhbCcpID4gLTE7XG4gIHZhciBzdWJtYXRjaCA9IGdlY2tvRXZhbFJlLmV4ZWMocGFydHNbM10pO1xuXG4gIGlmIChpc0V2YWwgJiYgc3VibWF0Y2ggIT0gbnVsbCkge1xuICAgIC8vIHRocm93IG91dCBldmFsIGxpbmUvY29sdW1uIGFuZCB1c2UgdG9wLW1vc3QgbGluZSBudW1iZXJcbiAgICBwYXJ0c1szXSA9IHN1Ym1hdGNoWzFdO1xuICAgIHBhcnRzWzRdID0gc3VibWF0Y2hbMl07XG4gICAgcGFydHNbNV0gPSBudWxsOyAvLyBubyBjb2x1bW4gd2hlbiBldmFsXG4gIH1cblxuICByZXR1cm4ge1xuICAgIGZpbGU6IHBhcnRzWzNdLFxuICAgIG1ldGhvZE5hbWU6IHBhcnRzWzFdIHx8IFVOS05PV05fRlVOQ1RJT04sXG4gICAgYXJndW1lbnRzOiBwYXJ0c1syXSA/IHBhcnRzWzJdLnNwbGl0KCcsJykgOiBbXSxcbiAgICBsaW5lTnVtYmVyOiBwYXJ0c1s0XSA/ICtwYXJ0c1s0XSA6IG51bGwsXG4gICAgY29sdW1uOiBwYXJ0c1s1XSA/ICtwYXJ0c1s1XSA6IG51bGxcbiAgfTtcbn1cblxudmFyIGphdmFTY3JpcHRDb3JlUmUgPSAvXlxccyooPzooW15AXSopKD86XFwoKC4qPylcXCkpP0ApPyhcXFMuKj8pOihcXGQrKSg/OjooXFxkKykpP1xccyokL2k7XG5cbmZ1bmN0aW9uIHBhcnNlSlNDKGxpbmUpIHtcbiAgdmFyIHBhcnRzID0gamF2YVNjcmlwdENvcmVSZS5leGVjKGxpbmUpO1xuXG4gIGlmICghcGFydHMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZmlsZTogcGFydHNbM10sXG4gICAgbWV0aG9kTmFtZTogcGFydHNbMV0gfHwgVU5LTk9XTl9GVU5DVElPTixcbiAgICBhcmd1bWVudHM6IFtdLFxuICAgIGxpbmVOdW1iZXI6ICtwYXJ0c1s0XSxcbiAgICBjb2x1bW46IHBhcnRzWzVdID8gK3BhcnRzWzVdIDogbnVsbFxuICB9O1xufVxuXG52YXIgbm9kZVJlID0gL15cXHMqYXQgKD86KCg/OlxcW29iamVjdCBvYmplY3RcXF0pP1teXFxcXC9dKyg/OiBcXFthcyBcXFMrXFxdKT8pICk/XFwoPyguKj8pOihcXGQrKSg/OjooXFxkKykpP1xcKT9cXHMqJC9pO1xuXG5mdW5jdGlvbiBwYXJzZU5vZGUobGluZSkge1xuICB2YXIgcGFydHMgPSBub2RlUmUuZXhlYyhsaW5lKTtcblxuICBpZiAoIXBhcnRzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGZpbGU6IHBhcnRzWzJdLFxuICAgIG1ldGhvZE5hbWU6IHBhcnRzWzFdIHx8IFVOS05PV05fRlVOQ1RJT04sXG4gICAgYXJndW1lbnRzOiBbXSxcbiAgICBsaW5lTnVtYmVyOiArcGFydHNbM10sXG4gICAgY29sdW1uOiBwYXJ0c1s0XSA/ICtwYXJ0c1s0XSA6IG51bGxcbiAgfTtcbn1cblxuZXhwb3J0IHsgcGFyc2UgfTtcbiIsICJpbXBvcnQgdHlwZSB7IFN0cmluZ1JlYWRlciwgU3RyaW5nV3JpdGVyIH0gZnJvbSAnLi9zdHJpbmdzJztcblxuZXhwb3J0IGNvbnN0IGNvbW1hID0gJywnLmNoYXJDb2RlQXQoMCk7XG5leHBvcnQgY29uc3Qgc2VtaWNvbG9uID0gJzsnLmNoYXJDb2RlQXQoMCk7XG5cbmNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuY29uc3QgaW50VG9DaGFyID0gbmV3IFVpbnQ4QXJyYXkoNjQpOyAvLyA2NCBwb3NzaWJsZSBjaGFycy5cbmNvbnN0IGNoYXJUb0ludCA9IG5ldyBVaW50OEFycmF5KDEyOCk7IC8vIHogaXMgMTIyIGluIEFTQ0lJXG5cbmZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgY29uc3QgYyA9IGNoYXJzLmNoYXJDb2RlQXQoaSk7XG4gIGludFRvQ2hhcltpXSA9IGM7XG4gIGNoYXJUb0ludFtjXSA9IGk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVJbnRlZ2VyKHJlYWRlcjogU3RyaW5nUmVhZGVyLCByZWxhdGl2ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgbGV0IHZhbHVlID0gMDtcbiAgbGV0IHNoaWZ0ID0gMDtcbiAgbGV0IGludGVnZXIgPSAwO1xuXG4gIGRvIHtcbiAgICBjb25zdCBjID0gcmVhZGVyLm5leHQoKTtcbiAgICBpbnRlZ2VyID0gY2hhclRvSW50W2NdO1xuICAgIHZhbHVlIHw9IChpbnRlZ2VyICYgMzEpIDw8IHNoaWZ0O1xuICAgIHNoaWZ0ICs9IDU7XG4gIH0gd2hpbGUgKGludGVnZXIgJiAzMik7XG5cbiAgY29uc3Qgc2hvdWxkTmVnYXRlID0gdmFsdWUgJiAxO1xuICB2YWx1ZSA+Pj49IDE7XG5cbiAgaWYgKHNob3VsZE5lZ2F0ZSkge1xuICAgIHZhbHVlID0gLTB4ODAwMDAwMDAgfCAtdmFsdWU7XG4gIH1cblxuICByZXR1cm4gcmVsYXRpdmUgKyB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZUludGVnZXIoYnVpbGRlcjogU3RyaW5nV3JpdGVyLCBudW06IG51bWJlciwgcmVsYXRpdmU6IG51bWJlcik6IG51bWJlciB7XG4gIGxldCBkZWx0YSA9IG51bSAtIHJlbGF0aXZlO1xuXG4gIGRlbHRhID0gZGVsdGEgPCAwID8gKC1kZWx0YSA8PCAxKSB8IDEgOiBkZWx0YSA8PCAxO1xuICBkbyB7XG4gICAgbGV0IGNsYW1wZWQgPSBkZWx0YSAmIDBiMDExMTExO1xuICAgIGRlbHRhID4+Pj0gNTtcbiAgICBpZiAoZGVsdGEgPiAwKSBjbGFtcGVkIHw9IDBiMTAwMDAwO1xuICAgIGJ1aWxkZXIud3JpdGUoaW50VG9DaGFyW2NsYW1wZWRdKTtcbiAgfSB3aGlsZSAoZGVsdGEgPiAwKTtcblxuICByZXR1cm4gbnVtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzTW9yZVZscShyZWFkZXI6IFN0cmluZ1JlYWRlciwgbWF4OiBudW1iZXIpIHtcbiAgaWYgKHJlYWRlci5wb3MgPj0gbWF4KSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiByZWFkZXIucGVlaygpICE9PSBjb21tYTtcbn1cbiIsICJjb25zdCBidWZMZW5ndGggPSAxMDI0ICogMTY7XG5cbi8vIFByb3ZpZGUgYSBmYWxsYmFjayBmb3Igb2xkZXIgZW52aXJvbm1lbnRzLlxuY29uc3QgdGQgPVxuICB0eXBlb2YgVGV4dERlY29kZXIgIT09ICd1bmRlZmluZWQnXG4gICAgPyAvKiAjX19QVVJFX18gKi8gbmV3IFRleHREZWNvZGVyKClcbiAgICA6IHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnXG4gICAgICA/IHtcbiAgICAgICAgICBkZWNvZGUoYnVmOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgICAgICAgICAgIGNvbnN0IG91dCA9IEJ1ZmZlci5mcm9tKGJ1Zi5idWZmZXIsIGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gb3V0LnRvU3RyaW5nKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgOiB7XG4gICAgICAgICAgZGVjb2RlKGJ1ZjogVWludDhBcnJheSk6IHN0cmluZyB7XG4gICAgICAgICAgICBsZXQgb3V0ID0gJyc7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1Zi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG5leHBvcnQgY2xhc3MgU3RyaW5nV3JpdGVyIHtcbiAgcG9zID0gMDtcbiAgcHJpdmF0ZSBvdXQgPSAnJztcbiAgcHJpdmF0ZSBidWZmZXIgPSBuZXcgVWludDhBcnJheShidWZMZW5ndGgpO1xuXG4gIHdyaXRlKHY6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHsgYnVmZmVyIH0gPSB0aGlzO1xuICAgIGJ1ZmZlclt0aGlzLnBvcysrXSA9IHY7XG4gICAgaWYgKHRoaXMucG9zID09PSBidWZMZW5ndGgpIHtcbiAgICAgIHRoaXMub3V0ICs9IHRkLmRlY29kZShidWZmZXIpO1xuICAgICAgdGhpcy5wb3MgPSAwO1xuICAgIH1cbiAgfVxuXG4gIGZsdXNoKCk6IHN0cmluZyB7XG4gICAgY29uc3QgeyBidWZmZXIsIG91dCwgcG9zIH0gPSB0aGlzO1xuICAgIHJldHVybiBwb3MgPiAwID8gb3V0ICsgdGQuZGVjb2RlKGJ1ZmZlci5zdWJhcnJheSgwLCBwb3MpKSA6IG91dDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RyaW5nUmVhZGVyIHtcbiAgcG9zID0gMDtcbiAgZGVjbGFyZSBwcml2YXRlIGJ1ZmZlcjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGJ1ZmZlcjogc3RyaW5nKSB7XG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gIH1cblxuICBuZXh0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyLmNoYXJDb2RlQXQodGhpcy5wb3MrKyk7XG4gIH1cblxuICBwZWVrKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyLmNoYXJDb2RlQXQodGhpcy5wb3MpO1xuICB9XG5cbiAgaW5kZXhPZihjaGFyOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IHsgYnVmZmVyLCBwb3MgfSA9IHRoaXM7XG4gICAgY29uc3QgaWR4ID0gYnVmZmVyLmluZGV4T2YoY2hhciwgcG9zKTtcbiAgICByZXR1cm4gaWR4ID09PSAtMSA/IGJ1ZmZlci5sZW5ndGggOiBpZHg7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBTdHJpbmdSZWFkZXIsIFN0cmluZ1dyaXRlciB9IGZyb20gJy4vc3RyaW5ncyc7XG5pbXBvcnQgeyBjb21tYSwgZGVjb2RlSW50ZWdlciwgZW5jb2RlSW50ZWdlciwgaGFzTW9yZVZscSwgc2VtaWNvbG9uIH0gZnJvbSAnLi92bHEnO1xuXG5jb25zdCBFTVBUWTogYW55W10gPSBbXTtcblxudHlwZSBMaW5lID0gbnVtYmVyO1xudHlwZSBDb2x1bW4gPSBudW1iZXI7XG50eXBlIEtpbmQgPSBudW1iZXI7XG50eXBlIE5hbWUgPSBudW1iZXI7XG50eXBlIFZhciA9IG51bWJlcjtcbnR5cGUgU291cmNlc0luZGV4ID0gbnVtYmVyO1xudHlwZSBTY29wZXNJbmRleCA9IG51bWJlcjtcblxudHlwZSBNaXg8QSwgQiwgTz4gPSAoQSAmIE8pIHwgKEIgJiBPKTtcblxuZXhwb3J0IHR5cGUgT3JpZ2luYWxTY29wZSA9IE1peDxcbiAgW0xpbmUsIENvbHVtbiwgTGluZSwgQ29sdW1uLCBLaW5kXSxcbiAgW0xpbmUsIENvbHVtbiwgTGluZSwgQ29sdW1uLCBLaW5kLCBOYW1lXSxcbiAgeyB2YXJzOiBWYXJbXSB9XG4+O1xuXG5leHBvcnQgdHlwZSBHZW5lcmF0ZWRSYW5nZSA9IE1peDxcbiAgW0xpbmUsIENvbHVtbiwgTGluZSwgQ29sdW1uXSxcbiAgW0xpbmUsIENvbHVtbiwgTGluZSwgQ29sdW1uLCBTb3VyY2VzSW5kZXgsIFNjb3Blc0luZGV4XSxcbiAge1xuICAgIGNhbGxzaXRlOiBDYWxsU2l0ZSB8IG51bGw7XG4gICAgYmluZGluZ3M6IEJpbmRpbmdbXTtcbiAgICBpc1Njb3BlOiBib29sZWFuO1xuICB9XG4+O1xuZXhwb3J0IHR5cGUgQ2FsbFNpdGUgPSBbU291cmNlc0luZGV4LCBMaW5lLCBDb2x1bW5dO1xudHlwZSBCaW5kaW5nID0gQmluZGluZ0V4cHJlc3Npb25SYW5nZVtdO1xuZXhwb3J0IHR5cGUgQmluZGluZ0V4cHJlc3Npb25SYW5nZSA9IFtOYW1lXSB8IFtOYW1lLCBMaW5lLCBDb2x1bW5dO1xuXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlT3JpZ2luYWxTY29wZXMoaW5wdXQ6IHN0cmluZyk6IE9yaWdpbmFsU2NvcGVbXSB7XG4gIGNvbnN0IHsgbGVuZ3RoIH0gPSBpbnB1dDtcbiAgY29uc3QgcmVhZGVyID0gbmV3IFN0cmluZ1JlYWRlcihpbnB1dCk7XG4gIGNvbnN0IHNjb3BlczogT3JpZ2luYWxTY29wZVtdID0gW107XG4gIGNvbnN0IHN0YWNrOiBPcmlnaW5hbFNjb3BlW10gPSBbXTtcbiAgbGV0IGxpbmUgPSAwO1xuXG4gIGZvciAoOyByZWFkZXIucG9zIDwgbGVuZ3RoOyByZWFkZXIucG9zKyspIHtcbiAgICBsaW5lID0gZGVjb2RlSW50ZWdlcihyZWFkZXIsIGxpbmUpO1xuICAgIGNvbnN0IGNvbHVtbiA9IGRlY29kZUludGVnZXIocmVhZGVyLCAwKTtcblxuICAgIGlmICghaGFzTW9yZVZscShyZWFkZXIsIGxlbmd0aCkpIHtcbiAgICAgIGNvbnN0IGxhc3QgPSBzdGFjay5wb3AoKSE7XG4gICAgICBsYXN0WzJdID0gbGluZTtcbiAgICAgIGxhc3RbM10gPSBjb2x1bW47XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBraW5kID0gZGVjb2RlSW50ZWdlcihyZWFkZXIsIDApO1xuICAgIGNvbnN0IGZpZWxkcyA9IGRlY29kZUludGVnZXIocmVhZGVyLCAwKTtcbiAgICBjb25zdCBoYXNOYW1lID0gZmllbGRzICYgMGIwMDAxO1xuXG4gICAgY29uc3Qgc2NvcGU6IE9yaWdpbmFsU2NvcGUgPSAoXG4gICAgICBoYXNOYW1lID8gW2xpbmUsIGNvbHVtbiwgMCwgMCwga2luZCwgZGVjb2RlSW50ZWdlcihyZWFkZXIsIDApXSA6IFtsaW5lLCBjb2x1bW4sIDAsIDAsIGtpbmRdXG4gICAgKSBhcyBPcmlnaW5hbFNjb3BlO1xuXG4gICAgbGV0IHZhcnM6IFZhcltdID0gRU1QVFk7XG4gICAgaWYgKGhhc01vcmVWbHEocmVhZGVyLCBsZW5ndGgpKSB7XG4gICAgICB2YXJzID0gW107XG4gICAgICBkbyB7XG4gICAgICAgIGNvbnN0IHZhcnNJbmRleCA9IGRlY29kZUludGVnZXIocmVhZGVyLCAwKTtcbiAgICAgICAgdmFycy5wdXNoKHZhcnNJbmRleCk7XG4gICAgICB9IHdoaWxlIChoYXNNb3JlVmxxKHJlYWRlciwgbGVuZ3RoKSk7XG4gICAgfVxuICAgIHNjb3BlLnZhcnMgPSB2YXJzO1xuXG4gICAgc2NvcGVzLnB1c2goc2NvcGUpO1xuICAgIHN0YWNrLnB1c2goc2NvcGUpO1xuICB9XG5cbiAgcmV0dXJuIHNjb3Blcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZU9yaWdpbmFsU2NvcGVzKHNjb3BlczogT3JpZ2luYWxTY29wZVtdKTogc3RyaW5nIHtcbiAgY29uc3Qgd3JpdGVyID0gbmV3IFN0cmluZ1dyaXRlcigpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2NvcGVzLmxlbmd0aDsgKSB7XG4gICAgaSA9IF9lbmNvZGVPcmlnaW5hbFNjb3BlcyhzY29wZXMsIGksIHdyaXRlciwgWzBdKTtcbiAgfVxuXG4gIHJldHVybiB3cml0ZXIuZmx1c2goKTtcbn1cblxuZnVuY3Rpb24gX2VuY29kZU9yaWdpbmFsU2NvcGVzKFxuICBzY29wZXM6IE9yaWdpbmFsU2NvcGVbXSxcbiAgaW5kZXg6IG51bWJlcixcbiAgd3JpdGVyOiBTdHJpbmdXcml0ZXIsXG4gIHN0YXRlOiBbXG4gICAgbnVtYmVyLCAvLyBHZW5Db2x1bW5cbiAgXSxcbik6IG51bWJlciB7XG4gIGNvbnN0IHNjb3BlID0gc2NvcGVzW2luZGV4XTtcbiAgY29uc3QgeyAwOiBzdGFydExpbmUsIDE6IHN0YXJ0Q29sdW1uLCAyOiBlbmRMaW5lLCAzOiBlbmRDb2x1bW4sIDQ6IGtpbmQsIHZhcnMgfSA9IHNjb3BlO1xuXG4gIGlmIChpbmRleCA+IDApIHdyaXRlci53cml0ZShjb21tYSk7XG5cbiAgc3RhdGVbMF0gPSBlbmNvZGVJbnRlZ2VyKHdyaXRlciwgc3RhcnRMaW5lLCBzdGF0ZVswXSk7XG4gIGVuY29kZUludGVnZXIod3JpdGVyLCBzdGFydENvbHVtbiwgMCk7XG4gIGVuY29kZUludGVnZXIod3JpdGVyLCBraW5kLCAwKTtcblxuICBjb25zdCBmaWVsZHMgPSBzY29wZS5sZW5ndGggPT09IDYgPyAwYjAwMDEgOiAwO1xuICBlbmNvZGVJbnRlZ2VyKHdyaXRlciwgZmllbGRzLCAwKTtcbiAgaWYgKHNjb3BlLmxlbmd0aCA9PT0gNikgZW5jb2RlSW50ZWdlcih3cml0ZXIsIHNjb3BlWzVdLCAwKTtcblxuICBmb3IgKGNvbnN0IHYgb2YgdmFycykge1xuICAgIGVuY29kZUludGVnZXIod3JpdGVyLCB2LCAwKTtcbiAgfVxuXG4gIGZvciAoaW5kZXgrKzsgaW5kZXggPCBzY29wZXMubGVuZ3RoOyApIHtcbiAgICBjb25zdCBuZXh0ID0gc2NvcGVzW2luZGV4XTtcbiAgICBjb25zdCB7IDA6IGwsIDE6IGMgfSA9IG5leHQ7XG4gICAgaWYgKGwgPiBlbmRMaW5lIHx8IChsID09PSBlbmRMaW5lICYmIGMgPj0gZW5kQ29sdW1uKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGluZGV4ID0gX2VuY29kZU9yaWdpbmFsU2NvcGVzKHNjb3BlcywgaW5kZXgsIHdyaXRlciwgc3RhdGUpO1xuICB9XG5cbiAgd3JpdGVyLndyaXRlKGNvbW1hKTtcbiAgc3RhdGVbMF0gPSBlbmNvZGVJbnRlZ2VyKHdyaXRlciwgZW5kTGluZSwgc3RhdGVbMF0pO1xuICBlbmNvZGVJbnRlZ2VyKHdyaXRlciwgZW5kQ29sdW1uLCAwKTtcblxuICByZXR1cm4gaW5kZXg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVHZW5lcmF0ZWRSYW5nZXMoaW5wdXQ6IHN0cmluZyk6IEdlbmVyYXRlZFJhbmdlW10ge1xuICBjb25zdCB7IGxlbmd0aCB9ID0gaW5wdXQ7XG4gIGNvbnN0IHJlYWRlciA9IG5ldyBTdHJpbmdSZWFkZXIoaW5wdXQpO1xuICBjb25zdCByYW5nZXM6IEdlbmVyYXRlZFJhbmdlW10gPSBbXTtcbiAgY29uc3Qgc3RhY2s6IEdlbmVyYXRlZFJhbmdlW10gPSBbXTtcblxuICBsZXQgZ2VuTGluZSA9IDA7XG4gIGxldCBkZWZpbml0aW9uU291cmNlc0luZGV4ID0gMDtcbiAgbGV0IGRlZmluaXRpb25TY29wZUluZGV4ID0gMDtcbiAgbGV0IGNhbGxzaXRlU291cmNlc0luZGV4ID0gMDtcbiAgbGV0IGNhbGxzaXRlTGluZSA9IDA7XG4gIGxldCBjYWxsc2l0ZUNvbHVtbiA9IDA7XG4gIGxldCBiaW5kaW5nTGluZSA9IDA7XG4gIGxldCBiaW5kaW5nQ29sdW1uID0gMDtcblxuICBkbyB7XG4gICAgY29uc3Qgc2VtaSA9IHJlYWRlci5pbmRleE9mKCc7Jyk7XG4gICAgbGV0IGdlbkNvbHVtbiA9IDA7XG5cbiAgICBmb3IgKDsgcmVhZGVyLnBvcyA8IHNlbWk7IHJlYWRlci5wb3MrKykge1xuICAgICAgZ2VuQ29sdW1uID0gZGVjb2RlSW50ZWdlcihyZWFkZXIsIGdlbkNvbHVtbik7XG5cbiAgICAgIGlmICghaGFzTW9yZVZscShyZWFkZXIsIHNlbWkpKSB7XG4gICAgICAgIGNvbnN0IGxhc3QgPSBzdGFjay5wb3AoKSE7XG4gICAgICAgIGxhc3RbMl0gPSBnZW5MaW5lO1xuICAgICAgICBsYXN0WzNdID0gZ2VuQ29sdW1uO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZmllbGRzID0gZGVjb2RlSW50ZWdlcihyZWFkZXIsIDApO1xuICAgICAgY29uc3QgaGFzRGVmaW5pdGlvbiA9IGZpZWxkcyAmIDBiMDAwMTtcbiAgICAgIGNvbnN0IGhhc0NhbGxzaXRlID0gZmllbGRzICYgMGIwMDEwO1xuICAgICAgY29uc3QgaGFzU2NvcGUgPSBmaWVsZHMgJiAwYjAxMDA7XG5cbiAgICAgIGxldCBjYWxsc2l0ZTogQ2FsbFNpdGUgfCBudWxsID0gbnVsbDtcbiAgICAgIGxldCBiaW5kaW5nczogQmluZGluZ1tdID0gRU1QVFk7XG4gICAgICBsZXQgcmFuZ2U6IEdlbmVyYXRlZFJhbmdlO1xuICAgICAgaWYgKGhhc0RlZmluaXRpb24pIHtcbiAgICAgICAgY29uc3QgZGVmU291cmNlc0luZGV4ID0gZGVjb2RlSW50ZWdlcihyZWFkZXIsIGRlZmluaXRpb25Tb3VyY2VzSW5kZXgpO1xuICAgICAgICBkZWZpbml0aW9uU2NvcGVJbmRleCA9IGRlY29kZUludGVnZXIoXG4gICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgIGRlZmluaXRpb25Tb3VyY2VzSW5kZXggPT09IGRlZlNvdXJjZXNJbmRleCA/IGRlZmluaXRpb25TY29wZUluZGV4IDogMCxcbiAgICAgICAgKTtcblxuICAgICAgICBkZWZpbml0aW9uU291cmNlc0luZGV4ID0gZGVmU291cmNlc0luZGV4O1xuICAgICAgICByYW5nZSA9IFtnZW5MaW5lLCBnZW5Db2x1bW4sIDAsIDAsIGRlZlNvdXJjZXNJbmRleCwgZGVmaW5pdGlvblNjb3BlSW5kZXhdIGFzIEdlbmVyYXRlZFJhbmdlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmFuZ2UgPSBbZ2VuTGluZSwgZ2VuQ29sdW1uLCAwLCAwXSBhcyBHZW5lcmF0ZWRSYW5nZTtcbiAgICAgIH1cblxuICAgICAgcmFuZ2UuaXNTY29wZSA9ICEhaGFzU2NvcGU7XG5cbiAgICAgIGlmIChoYXNDYWxsc2l0ZSkge1xuICAgICAgICBjb25zdCBwcmV2Q3NpID0gY2FsbHNpdGVTb3VyY2VzSW5kZXg7XG4gICAgICAgIGNvbnN0IHByZXZMaW5lID0gY2FsbHNpdGVMaW5lO1xuICAgICAgICBjYWxsc2l0ZVNvdXJjZXNJbmRleCA9IGRlY29kZUludGVnZXIocmVhZGVyLCBjYWxsc2l0ZVNvdXJjZXNJbmRleCk7XG4gICAgICAgIGNvbnN0IHNhbWVTb3VyY2UgPSBwcmV2Q3NpID09PSBjYWxsc2l0ZVNvdXJjZXNJbmRleDtcbiAgICAgICAgY2FsbHNpdGVMaW5lID0gZGVjb2RlSW50ZWdlcihyZWFkZXIsIHNhbWVTb3VyY2UgPyBjYWxsc2l0ZUxpbmUgOiAwKTtcbiAgICAgICAgY2FsbHNpdGVDb2x1bW4gPSBkZWNvZGVJbnRlZ2VyKFxuICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICBzYW1lU291cmNlICYmIHByZXZMaW5lID09PSBjYWxsc2l0ZUxpbmUgPyBjYWxsc2l0ZUNvbHVtbiA6IDAsXG4gICAgICAgICk7XG5cbiAgICAgICAgY2FsbHNpdGUgPSBbY2FsbHNpdGVTb3VyY2VzSW5kZXgsIGNhbGxzaXRlTGluZSwgY2FsbHNpdGVDb2x1bW5dO1xuICAgICAgfVxuICAgICAgcmFuZ2UuY2FsbHNpdGUgPSBjYWxsc2l0ZTtcblxuICAgICAgaWYgKGhhc01vcmVWbHEocmVhZGVyLCBzZW1pKSkge1xuICAgICAgICBiaW5kaW5ncyA9IFtdO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgYmluZGluZ0xpbmUgPSBnZW5MaW5lO1xuICAgICAgICAgIGJpbmRpbmdDb2x1bW4gPSBnZW5Db2x1bW47XG4gICAgICAgICAgY29uc3QgZXhwcmVzc2lvbnNDb3VudCA9IGRlY29kZUludGVnZXIocmVhZGVyLCAwKTtcbiAgICAgICAgICBsZXQgZXhwcmVzc2lvblJhbmdlczogQmluZGluZ0V4cHJlc3Npb25SYW5nZVtdO1xuICAgICAgICAgIGlmIChleHByZXNzaW9uc0NvdW50IDwgLTEpIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb25SYW5nZXMgPSBbW2RlY29kZUludGVnZXIocmVhZGVyLCAwKV1dO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IC0xOyBpID4gZXhwcmVzc2lvbnNDb3VudDsgaS0tKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHByZXZCbCA9IGJpbmRpbmdMaW5lO1xuICAgICAgICAgICAgICBiaW5kaW5nTGluZSA9IGRlY29kZUludGVnZXIocmVhZGVyLCBiaW5kaW5nTGluZSk7XG4gICAgICAgICAgICAgIGJpbmRpbmdDb2x1bW4gPSBkZWNvZGVJbnRlZ2VyKHJlYWRlciwgYmluZGluZ0xpbmUgPT09IHByZXZCbCA/IGJpbmRpbmdDb2x1bW4gOiAwKTtcbiAgICAgICAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IGRlY29kZUludGVnZXIocmVhZGVyLCAwKTtcbiAgICAgICAgICAgICAgZXhwcmVzc2lvblJhbmdlcy5wdXNoKFtleHByZXNzaW9uLCBiaW5kaW5nTGluZSwgYmluZGluZ0NvbHVtbl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHByZXNzaW9uUmFuZ2VzID0gW1tleHByZXNzaW9uc0NvdW50XV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGJpbmRpbmdzLnB1c2goZXhwcmVzc2lvblJhbmdlcyk7XG4gICAgICAgIH0gd2hpbGUgKGhhc01vcmVWbHEocmVhZGVyLCBzZW1pKSk7XG4gICAgICB9XG4gICAgICByYW5nZS5iaW5kaW5ncyA9IGJpbmRpbmdzO1xuXG4gICAgICByYW5nZXMucHVzaChyYW5nZSk7XG4gICAgICBzdGFjay5wdXNoKHJhbmdlKTtcbiAgICB9XG5cbiAgICBnZW5MaW5lKys7XG4gICAgcmVhZGVyLnBvcyA9IHNlbWkgKyAxO1xuICB9IHdoaWxlIChyZWFkZXIucG9zIDwgbGVuZ3RoKTtcblxuICByZXR1cm4gcmFuZ2VzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlR2VuZXJhdGVkUmFuZ2VzKHJhbmdlczogR2VuZXJhdGVkUmFuZ2VbXSk6IHN0cmluZyB7XG4gIGlmIChyYW5nZXMubGVuZ3RoID09PSAwKSByZXR1cm4gJyc7XG5cbiAgY29uc3Qgd3JpdGVyID0gbmV3IFN0cmluZ1dyaXRlcigpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgKSB7XG4gICAgaSA9IF9lbmNvZGVHZW5lcmF0ZWRSYW5nZXMocmFuZ2VzLCBpLCB3cml0ZXIsIFswLCAwLCAwLCAwLCAwLCAwLCAwXSk7XG4gIH1cblxuICByZXR1cm4gd3JpdGVyLmZsdXNoKCk7XG59XG5cbmZ1bmN0aW9uIF9lbmNvZGVHZW5lcmF0ZWRSYW5nZXMoXG4gIHJhbmdlczogR2VuZXJhdGVkUmFuZ2VbXSxcbiAgaW5kZXg6IG51bWJlcixcbiAgd3JpdGVyOiBTdHJpbmdXcml0ZXIsXG4gIHN0YXRlOiBbXG4gICAgbnVtYmVyLCAvLyBHZW5MaW5lXG4gICAgbnVtYmVyLCAvLyBHZW5Db2x1bW5cbiAgICBudW1iZXIsIC8vIERlZlNvdXJjZXNJbmRleFxuICAgIG51bWJlciwgLy8gRGVmU2NvcGVzSW5kZXhcbiAgICBudW1iZXIsIC8vIENhbGxTb3VyY2VzSW5kZXhcbiAgICBudW1iZXIsIC8vIENhbGxMaW5lXG4gICAgbnVtYmVyLCAvLyBDYWxsQ29sdW1uXG4gIF0sXG4pOiBudW1iZXIge1xuICBjb25zdCByYW5nZSA9IHJhbmdlc1tpbmRleF07XG4gIGNvbnN0IHtcbiAgICAwOiBzdGFydExpbmUsXG4gICAgMTogc3RhcnRDb2x1bW4sXG4gICAgMjogZW5kTGluZSxcbiAgICAzOiBlbmRDb2x1bW4sXG4gICAgaXNTY29wZSxcbiAgICBjYWxsc2l0ZSxcbiAgICBiaW5kaW5ncyxcbiAgfSA9IHJhbmdlO1xuXG4gIGlmIChzdGF0ZVswXSA8IHN0YXJ0TGluZSkge1xuICAgIGNhdGNodXBMaW5lKHdyaXRlciwgc3RhdGVbMF0sIHN0YXJ0TGluZSk7XG4gICAgc3RhdGVbMF0gPSBzdGFydExpbmU7XG4gICAgc3RhdGVbMV0gPSAwO1xuICB9IGVsc2UgaWYgKGluZGV4ID4gMCkge1xuICAgIHdyaXRlci53cml0ZShjb21tYSk7XG4gIH1cblxuICBzdGF0ZVsxXSA9IGVuY29kZUludGVnZXIod3JpdGVyLCByYW5nZVsxXSwgc3RhdGVbMV0pO1xuXG4gIGNvbnN0IGZpZWxkcyA9XG4gICAgKHJhbmdlLmxlbmd0aCA9PT0gNiA/IDBiMDAwMSA6IDApIHwgKGNhbGxzaXRlID8gMGIwMDEwIDogMCkgfCAoaXNTY29wZSA/IDBiMDEwMCA6IDApO1xuICBlbmNvZGVJbnRlZ2VyKHdyaXRlciwgZmllbGRzLCAwKTtcblxuICBpZiAocmFuZ2UubGVuZ3RoID09PSA2KSB7XG4gICAgY29uc3QgeyA0OiBzb3VyY2VzSW5kZXgsIDU6IHNjb3Blc0luZGV4IH0gPSByYW5nZTtcbiAgICBpZiAoc291cmNlc0luZGV4ICE9PSBzdGF0ZVsyXSkge1xuICAgICAgc3RhdGVbM10gPSAwO1xuICAgIH1cbiAgICBzdGF0ZVsyXSA9IGVuY29kZUludGVnZXIod3JpdGVyLCBzb3VyY2VzSW5kZXgsIHN0YXRlWzJdKTtcbiAgICBzdGF0ZVszXSA9IGVuY29kZUludGVnZXIod3JpdGVyLCBzY29wZXNJbmRleCwgc3RhdGVbM10pO1xuICB9XG5cbiAgaWYgKGNhbGxzaXRlKSB7XG4gICAgY29uc3QgeyAwOiBzb3VyY2VzSW5kZXgsIDE6IGNhbGxMaW5lLCAyOiBjYWxsQ29sdW1uIH0gPSByYW5nZS5jYWxsc2l0ZSE7XG4gICAgaWYgKHNvdXJjZXNJbmRleCAhPT0gc3RhdGVbNF0pIHtcbiAgICAgIHN0YXRlWzVdID0gMDtcbiAgICAgIHN0YXRlWzZdID0gMDtcbiAgICB9IGVsc2UgaWYgKGNhbGxMaW5lICE9PSBzdGF0ZVs1XSkge1xuICAgICAgc3RhdGVbNl0gPSAwO1xuICAgIH1cbiAgICBzdGF0ZVs0XSA9IGVuY29kZUludGVnZXIod3JpdGVyLCBzb3VyY2VzSW5kZXgsIHN0YXRlWzRdKTtcbiAgICBzdGF0ZVs1XSA9IGVuY29kZUludGVnZXIod3JpdGVyLCBjYWxsTGluZSwgc3RhdGVbNV0pO1xuICAgIHN0YXRlWzZdID0gZW5jb2RlSW50ZWdlcih3cml0ZXIsIGNhbGxDb2x1bW4sIHN0YXRlWzZdKTtcbiAgfVxuXG4gIGlmIChiaW5kaW5ncykge1xuICAgIGZvciAoY29uc3QgYmluZGluZyBvZiBiaW5kaW5ncykge1xuICAgICAgaWYgKGJpbmRpbmcubGVuZ3RoID4gMSkgZW5jb2RlSW50ZWdlcih3cml0ZXIsIC1iaW5kaW5nLmxlbmd0aCwgMCk7XG4gICAgICBjb25zdCBleHByZXNzaW9uID0gYmluZGluZ1swXVswXTtcbiAgICAgIGVuY29kZUludGVnZXIod3JpdGVyLCBleHByZXNzaW9uLCAwKTtcbiAgICAgIGxldCBiaW5kaW5nU3RhcnRMaW5lID0gc3RhcnRMaW5lO1xuICAgICAgbGV0IGJpbmRpbmdTdGFydENvbHVtbiA9IHN0YXJ0Q29sdW1uO1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBiaW5kaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGV4cFJhbmdlID0gYmluZGluZ1tpXTtcbiAgICAgICAgYmluZGluZ1N0YXJ0TGluZSA9IGVuY29kZUludGVnZXIod3JpdGVyLCBleHBSYW5nZVsxXSEsIGJpbmRpbmdTdGFydExpbmUpO1xuICAgICAgICBiaW5kaW5nU3RhcnRDb2x1bW4gPSBlbmNvZGVJbnRlZ2VyKHdyaXRlciwgZXhwUmFuZ2VbMl0hLCBiaW5kaW5nU3RhcnRDb2x1bW4pO1xuICAgICAgICBlbmNvZGVJbnRlZ2VyKHdyaXRlciwgZXhwUmFuZ2VbMF0hLCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKGluZGV4Kys7IGluZGV4IDwgcmFuZ2VzLmxlbmd0aDsgKSB7XG4gICAgY29uc3QgbmV4dCA9IHJhbmdlc1tpbmRleF07XG4gICAgY29uc3QgeyAwOiBsLCAxOiBjIH0gPSBuZXh0O1xuICAgIGlmIChsID4gZW5kTGluZSB8fCAobCA9PT0gZW5kTGluZSAmJiBjID49IGVuZENvbHVtbikpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpbmRleCA9IF9lbmNvZGVHZW5lcmF0ZWRSYW5nZXMocmFuZ2VzLCBpbmRleCwgd3JpdGVyLCBzdGF0ZSk7XG4gIH1cblxuICBpZiAoc3RhdGVbMF0gPCBlbmRMaW5lKSB7XG4gICAgY2F0Y2h1cExpbmUod3JpdGVyLCBzdGF0ZVswXSwgZW5kTGluZSk7XG4gICAgc3RhdGVbMF0gPSBlbmRMaW5lO1xuICAgIHN0YXRlWzFdID0gMDtcbiAgfSBlbHNlIHtcbiAgICB3cml0ZXIud3JpdGUoY29tbWEpO1xuICB9XG4gIHN0YXRlWzFdID0gZW5jb2RlSW50ZWdlcih3cml0ZXIsIGVuZENvbHVtbiwgc3RhdGVbMV0pO1xuXG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gY2F0Y2h1cExpbmUod3JpdGVyOiBTdHJpbmdXcml0ZXIsIGxhc3RMaW5lOiBudW1iZXIsIGxpbmU6IG51bWJlcikge1xuICBkbyB7XG4gICAgd3JpdGVyLndyaXRlKHNlbWljb2xvbik7XG4gIH0gd2hpbGUgKCsrbGFzdExpbmUgPCBsaW5lKTtcbn1cbiIsICJpbXBvcnQgeyBjb21tYSwgZGVjb2RlSW50ZWdlciwgZW5jb2RlSW50ZWdlciwgaGFzTW9yZVZscSwgc2VtaWNvbG9uIH0gZnJvbSAnLi92bHEnO1xuaW1wb3J0IHsgU3RyaW5nV3JpdGVyLCBTdHJpbmdSZWFkZXIgfSBmcm9tICcuL3N0cmluZ3MnO1xuXG5leHBvcnQge1xuICBkZWNvZGVPcmlnaW5hbFNjb3BlcyxcbiAgZW5jb2RlT3JpZ2luYWxTY29wZXMsXG4gIGRlY29kZUdlbmVyYXRlZFJhbmdlcyxcbiAgZW5jb2RlR2VuZXJhdGVkUmFuZ2VzLFxufSBmcm9tICcuL3Njb3Blcyc7XG5leHBvcnQgdHlwZSB7IE9yaWdpbmFsU2NvcGUsIEdlbmVyYXRlZFJhbmdlLCBDYWxsU2l0ZSwgQmluZGluZ0V4cHJlc3Npb25SYW5nZSB9IGZyb20gJy4vc2NvcGVzJztcblxuZXhwb3J0IHR5cGUgU291cmNlTWFwU2VnbWVudCA9XG4gIHwgW251bWJlcl1cbiAgfCBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXVxuICB8IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG5leHBvcnQgdHlwZSBTb3VyY2VNYXBMaW5lID0gU291cmNlTWFwU2VnbWVudFtdO1xuZXhwb3J0IHR5cGUgU291cmNlTWFwTWFwcGluZ3MgPSBTb3VyY2VNYXBMaW5lW107XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGUobWFwcGluZ3M6IHN0cmluZyk6IFNvdXJjZU1hcE1hcHBpbmdzIHtcbiAgY29uc3QgeyBsZW5ndGggfSA9IG1hcHBpbmdzO1xuICBjb25zdCByZWFkZXIgPSBuZXcgU3RyaW5nUmVhZGVyKG1hcHBpbmdzKTtcbiAgY29uc3QgZGVjb2RlZDogU291cmNlTWFwTWFwcGluZ3MgPSBbXTtcbiAgbGV0IGdlbkNvbHVtbiA9IDA7XG4gIGxldCBzb3VyY2VzSW5kZXggPSAwO1xuICBsZXQgc291cmNlTGluZSA9IDA7XG4gIGxldCBzb3VyY2VDb2x1bW4gPSAwO1xuICBsZXQgbmFtZXNJbmRleCA9IDA7XG5cbiAgZG8ge1xuICAgIGNvbnN0IHNlbWkgPSByZWFkZXIuaW5kZXhPZignOycpO1xuICAgIGNvbnN0IGxpbmU6IFNvdXJjZU1hcExpbmUgPSBbXTtcbiAgICBsZXQgc29ydGVkID0gdHJ1ZTtcbiAgICBsZXQgbGFzdENvbCA9IDA7XG4gICAgZ2VuQ29sdW1uID0gMDtcblxuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgc2VtaSkge1xuICAgICAgbGV0IHNlZzogU291cmNlTWFwU2VnbWVudDtcblxuICAgICAgZ2VuQ29sdW1uID0gZGVjb2RlSW50ZWdlcihyZWFkZXIsIGdlbkNvbHVtbik7XG4gICAgICBpZiAoZ2VuQ29sdW1uIDwgbGFzdENvbCkgc29ydGVkID0gZmFsc2U7XG4gICAgICBsYXN0Q29sID0gZ2VuQ29sdW1uO1xuXG4gICAgICBpZiAoaGFzTW9yZVZscShyZWFkZXIsIHNlbWkpKSB7XG4gICAgICAgIHNvdXJjZXNJbmRleCA9IGRlY29kZUludGVnZXIocmVhZGVyLCBzb3VyY2VzSW5kZXgpO1xuICAgICAgICBzb3VyY2VMaW5lID0gZGVjb2RlSW50ZWdlcihyZWFkZXIsIHNvdXJjZUxpbmUpO1xuICAgICAgICBzb3VyY2VDb2x1bW4gPSBkZWNvZGVJbnRlZ2VyKHJlYWRlciwgc291cmNlQ29sdW1uKTtcblxuICAgICAgICBpZiAoaGFzTW9yZVZscShyZWFkZXIsIHNlbWkpKSB7XG4gICAgICAgICAgbmFtZXNJbmRleCA9IGRlY29kZUludGVnZXIocmVhZGVyLCBuYW1lc0luZGV4KTtcbiAgICAgICAgICBzZWcgPSBbZ2VuQ29sdW1uLCBzb3VyY2VzSW5kZXgsIHNvdXJjZUxpbmUsIHNvdXJjZUNvbHVtbiwgbmFtZXNJbmRleF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VnID0gW2dlbkNvbHVtbiwgc291cmNlc0luZGV4LCBzb3VyY2VMaW5lLCBzb3VyY2VDb2x1bW5dO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWcgPSBbZ2VuQ29sdW1uXTtcbiAgICAgIH1cblxuICAgICAgbGluZS5wdXNoKHNlZyk7XG4gICAgICByZWFkZXIucG9zKys7XG4gICAgfVxuXG4gICAgaWYgKCFzb3J0ZWQpIHNvcnQobGluZSk7XG4gICAgZGVjb2RlZC5wdXNoKGxpbmUpO1xuICAgIHJlYWRlci5wb3MgPSBzZW1pICsgMTtcbiAgfSB3aGlsZSAocmVhZGVyLnBvcyA8PSBsZW5ndGgpO1xuXG4gIHJldHVybiBkZWNvZGVkO1xufVxuXG5mdW5jdGlvbiBzb3J0KGxpbmU6IFNvdXJjZU1hcFNlZ21lbnRbXSkge1xuICBsaW5lLnNvcnQoc29ydENvbXBhcmF0b3IpO1xufVxuXG5mdW5jdGlvbiBzb3J0Q29tcGFyYXRvcihhOiBTb3VyY2VNYXBTZWdtZW50LCBiOiBTb3VyY2VNYXBTZWdtZW50KTogbnVtYmVyIHtcbiAgcmV0dXJuIGFbMF0gLSBiWzBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKGRlY29kZWQ6IFNvdXJjZU1hcE1hcHBpbmdzKTogc3RyaW5nO1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZShkZWNvZGVkOiBSZWFkb25seTxTb3VyY2VNYXBNYXBwaW5ncz4pOiBzdHJpbmc7XG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKGRlY29kZWQ6IFJlYWRvbmx5PFNvdXJjZU1hcE1hcHBpbmdzPik6IHN0cmluZyB7XG4gIGNvbnN0IHdyaXRlciA9IG5ldyBTdHJpbmdXcml0ZXIoKTtcbiAgbGV0IHNvdXJjZXNJbmRleCA9IDA7XG4gIGxldCBzb3VyY2VMaW5lID0gMDtcbiAgbGV0IHNvdXJjZUNvbHVtbiA9IDA7XG4gIGxldCBuYW1lc0luZGV4ID0gMDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRlY29kZWQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBsaW5lID0gZGVjb2RlZFtpXTtcbiAgICBpZiAoaSA+IDApIHdyaXRlci53cml0ZShzZW1pY29sb24pO1xuICAgIGlmIChsaW5lLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG5cbiAgICBsZXQgZ2VuQ29sdW1uID0gMDtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZS5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3Qgc2VnbWVudCA9IGxpbmVbal07XG4gICAgICBpZiAoaiA+IDApIHdyaXRlci53cml0ZShjb21tYSk7XG5cbiAgICAgIGdlbkNvbHVtbiA9IGVuY29kZUludGVnZXIod3JpdGVyLCBzZWdtZW50WzBdLCBnZW5Db2x1bW4pO1xuXG4gICAgICBpZiAoc2VnbWVudC5sZW5ndGggPT09IDEpIGNvbnRpbnVlO1xuICAgICAgc291cmNlc0luZGV4ID0gZW5jb2RlSW50ZWdlcih3cml0ZXIsIHNlZ21lbnRbMV0sIHNvdXJjZXNJbmRleCk7XG4gICAgICBzb3VyY2VMaW5lID0gZW5jb2RlSW50ZWdlcih3cml0ZXIsIHNlZ21lbnRbMl0sIHNvdXJjZUxpbmUpO1xuICAgICAgc291cmNlQ29sdW1uID0gZW5jb2RlSW50ZWdlcih3cml0ZXIsIHNlZ21lbnRbM10sIHNvdXJjZUNvbHVtbik7XG5cbiAgICAgIGlmIChzZWdtZW50Lmxlbmd0aCA9PT0gNCkgY29udGludWU7XG4gICAgICBuYW1lc0luZGV4ID0gZW5jb2RlSW50ZWdlcih3cml0ZXIsIHNlZ21lbnRbNF0sIG5hbWVzSW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3cml0ZXIuZmx1c2goKTtcbn1cbiIsICJpbXBvcnQgeyBlbmNvZGUsIGRlY29kZSB9IGZyb20gJ0BqcmlkZ2V3ZWxsL3NvdXJjZW1hcC1jb2RlYyc7XG5cbmltcG9ydCByZXNvbHZlciBmcm9tICcuL3Jlc29sdmUnO1xuaW1wb3J0IG1heWJlU29ydCBmcm9tICcuL3NvcnQnO1xuaW1wb3J0IGJ1aWxkQnlTb3VyY2VzIGZyb20gJy4vYnktc291cmNlJztcbmltcG9ydCB7XG4gIG1lbW9pemVkU3RhdGUsXG4gIG1lbW9pemVkQmluYXJ5U2VhcmNoLFxuICB1cHBlckJvdW5kLFxuICBsb3dlckJvdW5kLFxuICBmb3VuZCBhcyBic0ZvdW5kLFxufSBmcm9tICcuL2JpbmFyeS1zZWFyY2gnO1xuaW1wb3J0IHtcbiAgQ09MVU1OLFxuICBTT1VSQ0VTX0lOREVYLFxuICBTT1VSQ0VfTElORSxcbiAgU09VUkNFX0NPTFVNTixcbiAgTkFNRVNfSU5ERVgsXG4gIFJFVl9HRU5FUkFURURfTElORSxcbiAgUkVWX0dFTkVSQVRFRF9DT0xVTU4sXG59IGZyb20gJy4vc291cmNlbWFwLXNlZ21lbnQnO1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tICcuL3R5cGVzJztcblxuaW1wb3J0IHR5cGUgeyBTb3VyY2VNYXBTZWdtZW50LCBSZXZlcnNlU2VnbWVudCB9IGZyb20gJy4vc291cmNlbWFwLXNlZ21lbnQnO1xuaW1wb3J0IHR5cGUge1xuICBTb3VyY2VNYXBWMyxcbiAgRGVjb2RlZFNvdXJjZU1hcCxcbiAgRW5jb2RlZFNvdXJjZU1hcCxcbiAgSW52YWxpZE9yaWdpbmFsTWFwcGluZyxcbiAgT3JpZ2luYWxNYXBwaW5nLFxuICBJbnZhbGlkR2VuZXJhdGVkTWFwcGluZyxcbiAgR2VuZXJhdGVkTWFwcGluZyxcbiAgU291cmNlTWFwSW5wdXQsXG4gIE5lZWRsZSxcbiAgU291cmNlTmVlZGxlLFxuICBTb3VyY2VNYXAsXG4gIEVhY2hNYXBwaW5nLFxuICBCaWFzLFxuICBYSW5wdXQsXG4gIFNlY3Rpb25lZFNvdXJjZU1hcCxcbiAgUm8sXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBTb3VyY2UgfSBmcm9tICcuL2J5LXNvdXJjZSc7XG5pbXBvcnQgdHlwZSB7IE1lbW9TdGF0ZSB9IGZyb20gJy4vYmluYXJ5LXNlYXJjaCc7XG5cbmV4cG9ydCB0eXBlIHsgU291cmNlTWFwU2VnbWVudCB9IGZyb20gJy4vc291cmNlbWFwLXNlZ21lbnQnO1xuZXhwb3J0IHR5cGUge1xuICBTb3VyY2VNYXAsXG4gIERlY29kZWRTb3VyY2VNYXAsXG4gIEVuY29kZWRTb3VyY2VNYXAsXG4gIFNlY3Rpb24sXG4gIFNlY3Rpb25lZFNvdXJjZU1hcCxcbiAgU291cmNlTWFwVjMsXG4gIEJpYXMsXG4gIEVhY2hNYXBwaW5nLFxuICBHZW5lcmF0ZWRNYXBwaW5nLFxuICBJbnZhbGlkR2VuZXJhdGVkTWFwcGluZyxcbiAgSW52YWxpZE9yaWdpbmFsTWFwcGluZyxcbiAgTmVlZGxlLFxuICBPcmlnaW5hbE1hcHBpbmcsXG4gIE9yaWdpbmFsTWFwcGluZyBhcyBNYXBwaW5nLFxuICBTZWN0aW9uZWRTb3VyY2VNYXBJbnB1dCxcbiAgU291cmNlTWFwSW5wdXQsXG4gIFNvdXJjZU5lZWRsZSxcbiAgWElucHV0LFxuICBFbmNvZGVkU291cmNlTWFwWElucHV0LFxuICBEZWNvZGVkU291cmNlTWFwWElucHV0LFxuICBTZWN0aW9uZWRTb3VyY2VNYXBYSW5wdXQsXG4gIFNlY3Rpb25YSW5wdXQsXG59IGZyb20gJy4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgUHVibGljTWFwIHtcbiAgX2VuY29kZWQ6IFRyYWNlTWFwWydfZW5jb2RlZCddO1xuICBfZGVjb2RlZDogVHJhY2VNYXBbJ19kZWNvZGVkJ107XG4gIF9kZWNvZGVkTWVtbzogVHJhY2VNYXBbJ19kZWNvZGVkTWVtbyddO1xuICBfYnlTb3VyY2VzOiBUcmFjZU1hcFsnX2J5U291cmNlcyddO1xuICBfYnlTb3VyY2VNZW1vczogVHJhY2VNYXBbJ19ieVNvdXJjZU1lbW9zJ107XG59XG5cbmNvbnN0IExJTkVfR1RSX1pFUk8gPSAnYGxpbmVgIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAgKGxpbmVzIHN0YXJ0IGF0IGxpbmUgMSknO1xuY29uc3QgQ09MX0dUUl9FUV9aRVJPID0gJ2Bjb2x1bW5gIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDAgKGNvbHVtbnMgc3RhcnQgYXQgY29sdW1uIDApJztcblxuZXhwb3J0IGNvbnN0IExFQVNUX1VQUEVSX0JPVU5EID0gLTE7XG5leHBvcnQgY29uc3QgR1JFQVRFU1RfTE9XRVJfQk9VTkQgPSAxO1xuXG5leHBvcnQgeyBGbGF0dGVuTWFwLCBGbGF0dGVuTWFwIGFzIEFueU1hcCB9IGZyb20gJy4vZmxhdHRlbi1tYXAnO1xuXG5leHBvcnQgY2xhc3MgVHJhY2VNYXAgaW1wbGVtZW50cyBTb3VyY2VNYXAge1xuICBkZWNsYXJlIHZlcnNpb246IFNvdXJjZU1hcFYzWyd2ZXJzaW9uJ107XG4gIGRlY2xhcmUgZmlsZTogU291cmNlTWFwVjNbJ2ZpbGUnXTtcbiAgZGVjbGFyZSBuYW1lczogU291cmNlTWFwVjNbJ25hbWVzJ107XG4gIGRlY2xhcmUgc291cmNlUm9vdDogU291cmNlTWFwVjNbJ3NvdXJjZVJvb3QnXTtcbiAgZGVjbGFyZSBzb3VyY2VzOiBTb3VyY2VNYXBWM1snc291cmNlcyddO1xuICBkZWNsYXJlIHNvdXJjZXNDb250ZW50OiBTb3VyY2VNYXBWM1snc291cmNlc0NvbnRlbnQnXTtcbiAgZGVjbGFyZSBpZ25vcmVMaXN0OiBTb3VyY2VNYXBWM1snaWdub3JlTGlzdCddO1xuXG4gIGRlY2xhcmUgcmVzb2x2ZWRTb3VyY2VzOiBzdHJpbmdbXTtcbiAgZGVjbGFyZSBwcml2YXRlIF9lbmNvZGVkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgZGVjbGFyZSBwcml2YXRlIF9kZWNvZGVkOiBTb3VyY2VNYXBTZWdtZW50W11bXSB8IHVuZGVmaW5lZDtcbiAgZGVjbGFyZSBwcml2YXRlIF9kZWNvZGVkTWVtbzogTWVtb1N0YXRlO1xuXG4gIGRlY2xhcmUgcHJpdmF0ZSBfYnlTb3VyY2VzOiBTb3VyY2VbXSB8IHVuZGVmaW5lZDtcbiAgZGVjbGFyZSBwcml2YXRlIF9ieVNvdXJjZU1lbW9zOiBNZW1vU3RhdGVbXSB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihtYXA6IFJvPFNvdXJjZU1hcElucHV0PiwgbWFwVXJsPzogc3RyaW5nIHwgbnVsbCkge1xuICAgIGNvbnN0IGlzU3RyaW5nID0gdHlwZW9mIG1hcCA9PT0gJ3N0cmluZyc7XG4gICAgaWYgKCFpc1N0cmluZyAmJiAobWFwIGFzIHVua25vd24gYXMgeyBfZGVjb2RlZE1lbW86IGFueSB9KS5fZGVjb2RlZE1lbW8pIHJldHVybiBtYXAgYXMgVHJhY2VNYXA7XG5cbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZShtYXAgYXMgRXhjbHVkZTxTb3VyY2VNYXBJbnB1dCwgVHJhY2VNYXA+KTtcblxuICAgIGNvbnN0IHsgdmVyc2lvbiwgZmlsZSwgbmFtZXMsIHNvdXJjZVJvb3QsIHNvdXJjZXMsIHNvdXJjZXNDb250ZW50IH0gPSBwYXJzZWQ7XG4gICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICB0aGlzLmZpbGUgPSBmaWxlO1xuICAgIHRoaXMubmFtZXMgPSBuYW1lcyB8fCBbXTtcbiAgICB0aGlzLnNvdXJjZVJvb3QgPSBzb3VyY2VSb290O1xuICAgIHRoaXMuc291cmNlcyA9IHNvdXJjZXM7XG4gICAgdGhpcy5zb3VyY2VzQ29udGVudCA9IHNvdXJjZXNDb250ZW50O1xuICAgIHRoaXMuaWdub3JlTGlzdCA9IHBhcnNlZC5pZ25vcmVMaXN0IHx8IChwYXJzZWQgYXMgWElucHV0KS54X2dvb2dsZV9pZ25vcmVMaXN0IHx8IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IHJlc29sdmUgPSByZXNvbHZlcihtYXBVcmwsIHNvdXJjZVJvb3QpO1xuICAgIHRoaXMucmVzb2x2ZWRTb3VyY2VzID0gc291cmNlcy5tYXAocmVzb2x2ZSk7XG5cbiAgICBjb25zdCB7IG1hcHBpbmdzIH0gPSBwYXJzZWQ7XG4gICAgaWYgKHR5cGVvZiBtYXBwaW5ncyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX2VuY29kZWQgPSBtYXBwaW5ncztcbiAgICAgIHRoaXMuX2RlY29kZWQgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG1hcHBpbmdzKSkge1xuICAgICAgdGhpcy5fZW5jb2RlZCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2RlY29kZWQgPSBtYXliZVNvcnQobWFwcGluZ3MsIGlzU3RyaW5nKTtcbiAgICB9IGVsc2UgaWYgKChwYXJzZWQgYXMgdW5rbm93biBhcyBTZWN0aW9uZWRTb3VyY2VNYXApLnNlY3Rpb25zKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRyYWNlTWFwIHBhc3NlZCBzZWN0aW9uZWQgc291cmNlIG1hcCwgcGxlYXNlIHVzZSBGbGF0dGVuTWFwIGV4cG9ydCBpbnN0ZWFkYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBzb3VyY2UgbWFwOiAke0pTT04uc3RyaW5naWZ5KHBhcnNlZCl9YCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZGVjb2RlZE1lbW8gPSBtZW1vaXplZFN0YXRlKCk7XG4gICAgdGhpcy5fYnlTb3VyY2VzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2J5U291cmNlTWVtb3MgPSB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBUeXBlc2NyaXB0IGRvZXNuJ3QgYWxsb3cgZnJpZW5kIGFjY2VzcyB0byBwcml2YXRlIGZpZWxkcywgc28gdGhpcyBqdXN0IGNhc3RzIHRoZSBtYXAgaW50byBhIHR5cGVcbiAqIHdpdGggcHVibGljIGFjY2VzcyBtb2RpZmllcnMuXG4gKi9cbmZ1bmN0aW9uIGNhc3QobWFwOiB1bmtub3duKTogUHVibGljTWFwIHtcbiAgcmV0dXJuIG1hcCBhcyBhbnk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZW5jb2RlZCAoVkxRIHN0cmluZykgZm9ybSBvZiB0aGUgU291cmNlTWFwJ3MgbWFwcGluZ3MgZmllbGQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVkTWFwcGluZ3MobWFwOiBUcmFjZU1hcCk6IEVuY29kZWRTb3VyY2VNYXBbJ21hcHBpbmdzJ10ge1xuICByZXR1cm4gKGNhc3QobWFwKS5fZW5jb2RlZCA/Pz0gZW5jb2RlKGNhc3QobWFwKS5fZGVjb2RlZCEpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkZWNvZGVkIChhcnJheSBvZiBsaW5lcyBvZiBzZWdtZW50cykgZm9ybSBvZiB0aGUgU291cmNlTWFwJ3MgbWFwcGluZ3MgZmllbGQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVkTWFwcGluZ3MobWFwOiBUcmFjZU1hcCk6IFJlYWRvbmx5PERlY29kZWRTb3VyY2VNYXBbJ21hcHBpbmdzJ10+IHtcbiAgcmV0dXJuIChjYXN0KG1hcCkuX2RlY29kZWQgfHw9IGRlY29kZShjYXN0KG1hcCkuX2VuY29kZWQhKSk7XG59XG5cbi8qKlxuICogQSBsb3ctbGV2ZWwgQVBJIHRvIGZpbmQgdGhlIHNlZ21lbnQgYXNzb2NpYXRlZCB3aXRoIGEgZ2VuZXJhdGVkIGxpbmUvY29sdW1uICh0aGluaywgZnJvbSBhXG4gKiBzdGFjayB0cmFjZSkuIExpbmUgYW5kIGNvbHVtbiBoZXJlIGFyZSAwLWJhc2VkLCB1bmxpa2UgYG9yaWdpbmFsUG9zaXRpb25Gb3JgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhY2VTZWdtZW50KFxuICBtYXA6IFRyYWNlTWFwLFxuICBsaW5lOiBudW1iZXIsXG4gIGNvbHVtbjogbnVtYmVyLFxuKTogUmVhZG9ubHk8U291cmNlTWFwU2VnbWVudD4gfCBudWxsIHtcbiAgY29uc3QgZGVjb2RlZCA9IGRlY29kZWRNYXBwaW5ncyhtYXApO1xuXG4gIC8vIEl0J3MgY29tbW9uIGZvciBwYXJlbnQgc291cmNlIG1hcHMgdG8gaGF2ZSBwb2ludGVycyB0byBsaW5lcyB0aGF0IGhhdmUgbm9cbiAgLy8gbWFwcGluZyAobGlrZSBhIFwiLy8jIHNvdXJjZU1hcHBpbmdVUkw9XCIpIGF0IHRoZSBlbmQgb2YgdGhlIGNoaWxkIGZpbGUuXG4gIGlmIChsaW5lID49IGRlY29kZWQubGVuZ3RoKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBzZWdtZW50cyA9IGRlY29kZWRbbGluZV07XG4gIGNvbnN0IGluZGV4ID0gdHJhY2VTZWdtZW50SW50ZXJuYWwoXG4gICAgc2VnbWVudHMsXG4gICAgY2FzdChtYXApLl9kZWNvZGVkTWVtbyxcbiAgICBsaW5lLFxuICAgIGNvbHVtbixcbiAgICBHUkVBVEVTVF9MT1dFUl9CT1VORCxcbiAgKTtcblxuICByZXR1cm4gaW5kZXggPT09IC0xID8gbnVsbCA6IHNlZ21lbnRzW2luZGV4XTtcbn1cblxuLyoqXG4gKiBBIGhpZ2hlci1sZXZlbCBBUEkgdG8gZmluZCB0aGUgc291cmNlL2xpbmUvY29sdW1uIGFzc29jaWF0ZWQgd2l0aCBhIGdlbmVyYXRlZCBsaW5lL2NvbHVtblxuICogKHRoaW5rLCBmcm9tIGEgc3RhY2sgdHJhY2UpLiBMaW5lIGlzIDEtYmFzZWQsIGJ1dCBjb2x1bW4gaXMgMC1iYXNlZCwgZHVlIHRvIGxlZ2FjeSBiZWhhdmlvciBpblxuICogYHNvdXJjZS1tYXBgIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcmlnaW5hbFBvc2l0aW9uRm9yKFxuICBtYXA6IFRyYWNlTWFwLFxuICBuZWVkbGU6IE5lZWRsZSxcbik6IE9yaWdpbmFsTWFwcGluZyB8IEludmFsaWRPcmlnaW5hbE1hcHBpbmcge1xuICBsZXQgeyBsaW5lLCBjb2x1bW4sIGJpYXMgfSA9IG5lZWRsZTtcbiAgbGluZS0tO1xuICBpZiAobGluZSA8IDApIHRocm93IG5ldyBFcnJvcihMSU5FX0dUUl9aRVJPKTtcbiAgaWYgKGNvbHVtbiA8IDApIHRocm93IG5ldyBFcnJvcihDT0xfR1RSX0VRX1pFUk8pO1xuXG4gIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVkTWFwcGluZ3MobWFwKTtcblxuICAvLyBJdCdzIGNvbW1vbiBmb3IgcGFyZW50IHNvdXJjZSBtYXBzIHRvIGhhdmUgcG9pbnRlcnMgdG8gbGluZXMgdGhhdCBoYXZlIG5vXG4gIC8vIG1hcHBpbmcgKGxpa2UgYSBcIi8vIyBzb3VyY2VNYXBwaW5nVVJMPVwiKSBhdCB0aGUgZW5kIG9mIHRoZSBjaGlsZCBmaWxlLlxuICBpZiAobGluZSA+PSBkZWNvZGVkLmxlbmd0aCkgcmV0dXJuIE9NYXBwaW5nKG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xuXG4gIGNvbnN0IHNlZ21lbnRzID0gZGVjb2RlZFtsaW5lXTtcbiAgY29uc3QgaW5kZXggPSB0cmFjZVNlZ21lbnRJbnRlcm5hbChcbiAgICBzZWdtZW50cyxcbiAgICBjYXN0KG1hcCkuX2RlY29kZWRNZW1vLFxuICAgIGxpbmUsXG4gICAgY29sdW1uLFxuICAgIGJpYXMgfHwgR1JFQVRFU1RfTE9XRVJfQk9VTkQsXG4gICk7XG5cbiAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIE9NYXBwaW5nKG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xuXG4gIGNvbnN0IHNlZ21lbnQgPSBzZWdtZW50c1tpbmRleF07XG4gIGlmIChzZWdtZW50Lmxlbmd0aCA9PT0gMSkgcmV0dXJuIE9NYXBwaW5nKG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xuXG4gIGNvbnN0IHsgbmFtZXMsIHJlc29sdmVkU291cmNlcyB9ID0gbWFwO1xuICByZXR1cm4gT01hcHBpbmcoXG4gICAgcmVzb2x2ZWRTb3VyY2VzW3NlZ21lbnRbU09VUkNFU19JTkRFWF1dLFxuICAgIHNlZ21lbnRbU09VUkNFX0xJTkVdICsgMSxcbiAgICBzZWdtZW50W1NPVVJDRV9DT0xVTU5dLFxuICAgIHNlZ21lbnQubGVuZ3RoID09PSA1ID8gbmFtZXNbc2VnbWVudFtOQU1FU19JTkRFWF1dIDogbnVsbCxcbiAgKTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgZ2VuZXJhdGVkIGxpbmUvY29sdW1uIHBvc2l0aW9uIG9mIHRoZSBwcm92aWRlZCBzb3VyY2UvbGluZS9jb2x1bW4gc291cmNlIHBvc2l0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVkUG9zaXRpb25Gb3IoXG4gIG1hcDogVHJhY2VNYXAsXG4gIG5lZWRsZTogU291cmNlTmVlZGxlLFxuKTogR2VuZXJhdGVkTWFwcGluZyB8IEludmFsaWRHZW5lcmF0ZWRNYXBwaW5nIHtcbiAgY29uc3QgeyBzb3VyY2UsIGxpbmUsIGNvbHVtbiwgYmlhcyB9ID0gbmVlZGxlO1xuICByZXR1cm4gZ2VuZXJhdGVkUG9zaXRpb24obWFwLCBzb3VyY2UsIGxpbmUsIGNvbHVtbiwgYmlhcyB8fCBHUkVBVEVTVF9MT1dFUl9CT1VORCwgZmFsc2UpO1xufVxuXG4vKipcbiAqIEZpbmRzIGFsbCBnZW5lcmF0ZWQgbGluZS9jb2x1bW4gcG9zaXRpb25zIG9mIHRoZSBwcm92aWRlZCBzb3VyY2UvbGluZS9jb2x1bW4gc291cmNlIHBvc2l0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWxsR2VuZXJhdGVkUG9zaXRpb25zRm9yKG1hcDogVHJhY2VNYXAsIG5lZWRsZTogU291cmNlTmVlZGxlKTogR2VuZXJhdGVkTWFwcGluZ1tdIHtcbiAgY29uc3QgeyBzb3VyY2UsIGxpbmUsIGNvbHVtbiwgYmlhcyB9ID0gbmVlZGxlO1xuICAvLyBTb3VyY2VNYXBDb25zdW1lciB1c2VzIExFQVNUX1VQUEVSX0JPVU5EIGZvciBzb21lIHJlYXNvbiwgc28gd2UgZm9sbG93IHN1aXQuXG4gIHJldHVybiBnZW5lcmF0ZWRQb3NpdGlvbihtYXAsIHNvdXJjZSwgbGluZSwgY29sdW1uLCBiaWFzIHx8IExFQVNUX1VQUEVSX0JPVU5ELCB0cnVlKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlcyBlYWNoIG1hcHBpbmcgaW4gZ2VuZXJhdGVkIHBvc2l0aW9uIG9yZGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFjaE1hcHBpbmcobWFwOiBUcmFjZU1hcCwgY2I6IChtYXBwaW5nOiBFYWNoTWFwcGluZykgPT4gdm9pZCk6IHZvaWQge1xuICBjb25zdCBkZWNvZGVkID0gZGVjb2RlZE1hcHBpbmdzKG1hcCk7XG4gIGNvbnN0IHsgbmFtZXMsIHJlc29sdmVkU291cmNlcyB9ID0gbWFwO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGVjb2RlZC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGxpbmUgPSBkZWNvZGVkW2ldO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZS5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3Qgc2VnID0gbGluZVtqXTtcblxuICAgICAgY29uc3QgZ2VuZXJhdGVkTGluZSA9IGkgKyAxO1xuICAgICAgY29uc3QgZ2VuZXJhdGVkQ29sdW1uID0gc2VnWzBdO1xuICAgICAgbGV0IHNvdXJjZSA9IG51bGw7XG4gICAgICBsZXQgb3JpZ2luYWxMaW5lID0gbnVsbDtcbiAgICAgIGxldCBvcmlnaW5hbENvbHVtbiA9IG51bGw7XG4gICAgICBsZXQgbmFtZSA9IG51bGw7XG4gICAgICBpZiAoc2VnLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICBzb3VyY2UgPSByZXNvbHZlZFNvdXJjZXNbc2VnWzFdXTtcbiAgICAgICAgb3JpZ2luYWxMaW5lID0gc2VnWzJdICsgMTtcbiAgICAgICAgb3JpZ2luYWxDb2x1bW4gPSBzZWdbM107XG4gICAgICB9XG4gICAgICBpZiAoc2VnLmxlbmd0aCA9PT0gNSkgbmFtZSA9IG5hbWVzW3NlZ1s0XV07XG5cbiAgICAgIGNiKHtcbiAgICAgICAgZ2VuZXJhdGVkTGluZSxcbiAgICAgICAgZ2VuZXJhdGVkQ29sdW1uLFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIG9yaWdpbmFsTGluZSxcbiAgICAgICAgb3JpZ2luYWxDb2x1bW4sXG4gICAgICAgIG5hbWUsXG4gICAgICB9IGFzIEVhY2hNYXBwaW5nKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc291cmNlSW5kZXgobWFwOiBUcmFjZU1hcCwgc291cmNlOiBzdHJpbmcpOiBudW1iZXIge1xuICBjb25zdCB7IHNvdXJjZXMsIHJlc29sdmVkU291cmNlcyB9ID0gbWFwO1xuICBsZXQgaW5kZXggPSBzb3VyY2VzLmluZGV4T2Yoc291cmNlKTtcbiAgaWYgKGluZGV4ID09PSAtMSkgaW5kZXggPSByZXNvbHZlZFNvdXJjZXMuaW5kZXhPZihzb3VyY2UpO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBzb3VyY2UgY29udGVudCBmb3IgYSBwYXJ0aWN1bGFyIHNvdXJjZSwgaWYgaXRzIGZvdW5kLiBSZXR1cm5zIG51bGwgaWYgbm90LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc291cmNlQ29udGVudEZvcihtYXA6IFRyYWNlTWFwLCBzb3VyY2U6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCB7IHNvdXJjZXNDb250ZW50IH0gPSBtYXA7XG4gIGlmIChzb3VyY2VzQ29udGVudCA9PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgaW5kZXggPSBzb3VyY2VJbmRleChtYXAsIHNvdXJjZSk7XG4gIHJldHVybiBpbmRleCA9PT0gLTEgPyBudWxsIDogc291cmNlc0NvbnRlbnRbaW5kZXhdO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIHNvdXJjZSBpcyBtYXJrZWQgdG8gaWdub3JlIGJ5IHRoZSBzb3VyY2UgbWFwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNJZ25vcmVkKG1hcDogVHJhY2VNYXAsIHNvdXJjZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IHsgaWdub3JlTGlzdCB9ID0gbWFwO1xuICBpZiAoaWdub3JlTGlzdCA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGluZGV4ID0gc291cmNlSW5kZXgobWFwLCBzb3VyY2UpO1xuICByZXR1cm4gaW5kZXggPT09IC0xID8gZmFsc2UgOiBpZ25vcmVMaXN0LmluY2x1ZGVzKGluZGV4KTtcbn1cblxuLyoqXG4gKiBBIGhlbHBlciB0aGF0IHNraXBzIHNvcnRpbmcgb2YgdGhlIGlucHV0IG1hcCdzIG1hcHBpbmdzIGFycmF5LCB3aGljaCBjYW4gYmUgZXhwZW5zaXZlIGZvciBsYXJnZXJcbiAqIG1hcHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVzb3J0ZWREZWNvZGVkTWFwKG1hcDogRGVjb2RlZFNvdXJjZU1hcCwgbWFwVXJsPzogc3RyaW5nKTogVHJhY2VNYXAge1xuICBjb25zdCB0cmFjZXIgPSBuZXcgVHJhY2VNYXAoY2xvbmUobWFwLCBbXSksIG1hcFVybCk7XG4gIGNhc3QodHJhY2VyKS5fZGVjb2RlZCA9IG1hcC5tYXBwaW5ncztcbiAgcmV0dXJuIHRyYWNlcjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc291cmNlbWFwIG9iamVjdCAod2l0aCBkZWNvZGVkIG1hcHBpbmdzKSBzdWl0YWJsZSBmb3IgcGFzc2luZyB0byBhIGxpYnJhcnkgdGhhdCBleHBlY3RzXG4gKiBhIHNvdXJjZW1hcCwgb3IgdG8gSlNPTi5zdHJpbmdpZnkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVkTWFwKFxuICBtYXA6IFRyYWNlTWFwLFxuKTogT21pdDxEZWNvZGVkU291cmNlTWFwLCAnbWFwcGluZ3MnPiAmIHsgbWFwcGluZ3M6IHJlYWRvbmx5IFNvdXJjZU1hcFNlZ21lbnRbXVtdIH0ge1xuICByZXR1cm4gY2xvbmUobWFwLCBkZWNvZGVkTWFwcGluZ3MobWFwKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHNvdXJjZW1hcCBvYmplY3QgKHdpdGggZW5jb2RlZCBtYXBwaW5ncykgc3VpdGFibGUgZm9yIHBhc3NpbmcgdG8gYSBsaWJyYXJ5IHRoYXQgZXhwZWN0c1xuICogYSBzb3VyY2VtYXAsIG9yIHRvIEpTT04uc3RyaW5naWZ5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlZE1hcChtYXA6IFRyYWNlTWFwKTogRW5jb2RlZFNvdXJjZU1hcCB7XG4gIHJldHVybiBjbG9uZShtYXAsIGVuY29kZWRNYXBwaW5ncyhtYXApKTtcbn1cblxuZnVuY3Rpb24gY2xvbmU8VCBleHRlbmRzIHN0cmluZyB8IHJlYWRvbmx5IFNvdXJjZU1hcFNlZ21lbnRbXVtdPihcbiAgbWFwOiBUcmFjZU1hcCB8IERlY29kZWRTb3VyY2VNYXAsXG4gIG1hcHBpbmdzOiBULFxuKTogVCBleHRlbmRzIHN0cmluZyA/IEVuY29kZWRTb3VyY2VNYXAgOiBEZWNvZGVkU291cmNlTWFwIHtcbiAgcmV0dXJuIHtcbiAgICB2ZXJzaW9uOiBtYXAudmVyc2lvbixcbiAgICBmaWxlOiBtYXAuZmlsZSxcbiAgICBuYW1lczogbWFwLm5hbWVzLFxuICAgIHNvdXJjZVJvb3Q6IG1hcC5zb3VyY2VSb290LFxuICAgIHNvdXJjZXM6IG1hcC5zb3VyY2VzLFxuICAgIHNvdXJjZXNDb250ZW50OiBtYXAuc291cmNlc0NvbnRlbnQsXG4gICAgbWFwcGluZ3MsXG4gICAgaWdub3JlTGlzdDogbWFwLmlnbm9yZUxpc3QgfHwgKG1hcCBhcyBYSW5wdXQpLnhfZ29vZ2xlX2lnbm9yZUxpc3QsXG4gIH0gYXMgYW55O1xufVxuXG5mdW5jdGlvbiBPTWFwcGluZyhzb3VyY2U6IG51bGwsIGxpbmU6IG51bGwsIGNvbHVtbjogbnVsbCwgbmFtZTogbnVsbCk6IEludmFsaWRPcmlnaW5hbE1hcHBpbmc7XG5mdW5jdGlvbiBPTWFwcGluZyhcbiAgc291cmNlOiBzdHJpbmcsXG4gIGxpbmU6IG51bWJlcixcbiAgY29sdW1uOiBudW1iZXIsXG4gIG5hbWU6IHN0cmluZyB8IG51bGwsXG4pOiBPcmlnaW5hbE1hcHBpbmc7XG5mdW5jdGlvbiBPTWFwcGluZyhcbiAgc291cmNlOiBzdHJpbmcgfCBudWxsLFxuICBsaW5lOiBudW1iZXIgfCBudWxsLFxuICBjb2x1bW46IG51bWJlciB8IG51bGwsXG4gIG5hbWU6IHN0cmluZyB8IG51bGwsXG4pOiBPcmlnaW5hbE1hcHBpbmcgfCBJbnZhbGlkT3JpZ2luYWxNYXBwaW5nIHtcbiAgcmV0dXJuIHsgc291cmNlLCBsaW5lLCBjb2x1bW4sIG5hbWUgfSBhcyBhbnk7XG59XG5cbmZ1bmN0aW9uIEdNYXBwaW5nKGxpbmU6IG51bGwsIGNvbHVtbjogbnVsbCk6IEludmFsaWRHZW5lcmF0ZWRNYXBwaW5nO1xuZnVuY3Rpb24gR01hcHBpbmcobGluZTogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IEdlbmVyYXRlZE1hcHBpbmc7XG5mdW5jdGlvbiBHTWFwcGluZyhcbiAgbGluZTogbnVtYmVyIHwgbnVsbCxcbiAgY29sdW1uOiBudW1iZXIgfCBudWxsLFxuKTogR2VuZXJhdGVkTWFwcGluZyB8IEludmFsaWRHZW5lcmF0ZWRNYXBwaW5nIHtcbiAgcmV0dXJuIHsgbGluZSwgY29sdW1uIH0gYXMgYW55O1xufVxuXG5mdW5jdGlvbiB0cmFjZVNlZ21lbnRJbnRlcm5hbChcbiAgc2VnbWVudHM6IFNvdXJjZU1hcFNlZ21lbnRbXSxcbiAgbWVtbzogTWVtb1N0YXRlLFxuICBsaW5lOiBudW1iZXIsXG4gIGNvbHVtbjogbnVtYmVyLFxuICBiaWFzOiBCaWFzLFxuKTogbnVtYmVyO1xuZnVuY3Rpb24gdHJhY2VTZWdtZW50SW50ZXJuYWwoXG4gIHNlZ21lbnRzOiBSZXZlcnNlU2VnbWVudFtdLFxuICBtZW1vOiBNZW1vU3RhdGUsXG4gIGxpbmU6IG51bWJlcixcbiAgY29sdW1uOiBudW1iZXIsXG4gIGJpYXM6IEJpYXMsXG4pOiBudW1iZXI7XG5mdW5jdGlvbiB0cmFjZVNlZ21lbnRJbnRlcm5hbChcbiAgc2VnbWVudHM6IFNvdXJjZU1hcFNlZ21lbnRbXSB8IFJldmVyc2VTZWdtZW50W10sXG4gIG1lbW86IE1lbW9TdGF0ZSxcbiAgbGluZTogbnVtYmVyLFxuICBjb2x1bW46IG51bWJlcixcbiAgYmlhczogQmlhcyxcbik6IG51bWJlciB7XG4gIGxldCBpbmRleCA9IG1lbW9pemVkQmluYXJ5U2VhcmNoKHNlZ21lbnRzLCBjb2x1bW4sIG1lbW8sIGxpbmUpO1xuICBpZiAoYnNGb3VuZCkge1xuICAgIGluZGV4ID0gKGJpYXMgPT09IExFQVNUX1VQUEVSX0JPVU5EID8gdXBwZXJCb3VuZCA6IGxvd2VyQm91bmQpKHNlZ21lbnRzLCBjb2x1bW4sIGluZGV4KTtcbiAgfSBlbHNlIGlmIChiaWFzID09PSBMRUFTVF9VUFBFUl9CT1VORCkgaW5kZXgrKztcblxuICBpZiAoaW5kZXggPT09IC0xIHx8IGluZGV4ID09PSBzZWdtZW50cy5sZW5ndGgpIHJldHVybiAtMTtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzbGljZUdlbmVyYXRlZFBvc2l0aW9ucyhcbiAgc2VnbWVudHM6IFJldmVyc2VTZWdtZW50W10sXG4gIG1lbW86IE1lbW9TdGF0ZSxcbiAgbGluZTogbnVtYmVyLFxuICBjb2x1bW46IG51bWJlcixcbiAgYmlhczogQmlhcyxcbik6IEdlbmVyYXRlZE1hcHBpbmdbXSB7XG4gIGxldCBtaW4gPSB0cmFjZVNlZ21lbnRJbnRlcm5hbChzZWdtZW50cywgbWVtbywgbGluZSwgY29sdW1uLCBHUkVBVEVTVF9MT1dFUl9CT1VORCk7XG5cbiAgLy8gV2UgaWdub3JlZCB0aGUgYmlhcyB3aGVuIHRyYWNpbmcgdGhlIHNlZ21lbnQgc28gdGhhdCB3ZSdyZSBndWFybmF0ZWVkIHRvIGZpbmQgdGhlIGZpcnN0IChpblxuICAvLyBpbnNlcnRpb24gb3JkZXIpIHNlZ21lbnQgdGhhdCBtYXRjaGVkLiBFdmVuIGlmIHdlIGRpZCByZXNwZWN0IHRoZSBiaWFzIHdoZW4gdHJhY2luZywgd2Ugd291bGRcbiAgLy8gc3RpbGwgbmVlZCB0byBjYWxsIGBsb3dlckJvdW5kKClgIHRvIGZpbmQgdGhlIGZpcnN0IHNlZ21lbnQsIHdoaWNoIGlzIHNsb3dlciB0aGFuIGp1c3QgbG9va2luZ1xuICAvLyBmb3IgdGhlIEdSRUFURVNUX0xPV0VSX0JPVU5EIHRvIGJlZ2luIHdpdGguIFRoZSBvbmx5IGRpZmZlcmVuY2UgdGhhdCBtYXR0ZXJzIGZvciB1cyBpcyB3aGVuIHRoZVxuICAvLyBiaW5hcnkgc2VhcmNoIGRpZG4ndCBtYXRjaCwgaW4gd2hpY2ggY2FzZSBHUkVBVEVTVF9MT1dFUl9CT1VORCBqdXN0IG5lZWRzIHRvIGluY3JlbWVudCB0b1xuICAvLyBtYXRjaCBMRUFTVF9VUFBFUl9CT1VORC5cbiAgaWYgKCFic0ZvdW5kICYmIGJpYXMgPT09IExFQVNUX1VQUEVSX0JPVU5EKSBtaW4rKztcblxuICBpZiAobWluID09PSAtMSB8fCBtaW4gPT09IHNlZ21lbnRzLmxlbmd0aCkgcmV0dXJuIFtdO1xuXG4gIC8vIFdlIG1heSBoYXZlIGZvdW5kIHRoZSBzZWdtZW50IHRoYXQgc3RhcnRlZCBhdCBhbiBlYXJsaWVyIGNvbHVtbi4gSWYgdGhpcyBpcyB0aGUgY2FzZSwgdGhlbiB3ZVxuICAvLyBuZWVkIHRvIHNsaWNlIGFsbCBnZW5lcmF0ZWQgc2VnbWVudHMgdGhhdCBtYXRjaCBfdGhhdF8gY29sdW1uLCBiZWNhdXNlIGFsbCBzdWNoIHNlZ21lbnRzIHNwYW5cbiAgLy8gdG8gb3VyIGRlc2lyZWQgY29sdW1uLlxuICBjb25zdCBtYXRjaGVkQ29sdW1uID0gYnNGb3VuZCA/IGNvbHVtbiA6IHNlZ21lbnRzW21pbl1bQ09MVU1OXTtcblxuICAvLyBUaGUgYmluYXJ5IHNlYXJjaCBpcyBub3QgZ3VhcmFudGVlZCB0byBmaW5kIHRoZSBsb3dlciBib3VuZCB3aGVuIGEgbWF0Y2ggd2Fzbid0IGZvdW5kLlxuICBpZiAoIWJzRm91bmQpIG1pbiA9IGxvd2VyQm91bmQoc2VnbWVudHMsIG1hdGNoZWRDb2x1bW4sIG1pbik7XG4gIGNvbnN0IG1heCA9IHVwcGVyQm91bmQoc2VnbWVudHMsIG1hdGNoZWRDb2x1bW4sIG1pbik7XG5cbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAoOyBtaW4gPD0gbWF4OyBtaW4rKykge1xuICAgIGNvbnN0IHNlZ21lbnQgPSBzZWdtZW50c1ttaW5dO1xuICAgIHJlc3VsdC5wdXNoKEdNYXBwaW5nKHNlZ21lbnRbUkVWX0dFTkVSQVRFRF9MSU5FXSArIDEsIHNlZ21lbnRbUkVWX0dFTkVSQVRFRF9DT0xVTU5dKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVkUG9zaXRpb24oXG4gIG1hcDogVHJhY2VNYXAsXG4gIHNvdXJjZTogc3RyaW5nLFxuICBsaW5lOiBudW1iZXIsXG4gIGNvbHVtbjogbnVtYmVyLFxuICBiaWFzOiBCaWFzLFxuICBhbGw6IGZhbHNlLFxuKTogR2VuZXJhdGVkTWFwcGluZyB8IEludmFsaWRHZW5lcmF0ZWRNYXBwaW5nO1xuZnVuY3Rpb24gZ2VuZXJhdGVkUG9zaXRpb24oXG4gIG1hcDogVHJhY2VNYXAsXG4gIHNvdXJjZTogc3RyaW5nLFxuICBsaW5lOiBudW1iZXIsXG4gIGNvbHVtbjogbnVtYmVyLFxuICBiaWFzOiBCaWFzLFxuICBhbGw6IHRydWUsXG4pOiBHZW5lcmF0ZWRNYXBwaW5nW107XG5mdW5jdGlvbiBnZW5lcmF0ZWRQb3NpdGlvbihcbiAgbWFwOiBUcmFjZU1hcCxcbiAgc291cmNlOiBzdHJpbmcsXG4gIGxpbmU6IG51bWJlcixcbiAgY29sdW1uOiBudW1iZXIsXG4gIGJpYXM6IEJpYXMsXG4gIGFsbDogYm9vbGVhbixcbik6IEdlbmVyYXRlZE1hcHBpbmcgfCBJbnZhbGlkR2VuZXJhdGVkTWFwcGluZyB8IEdlbmVyYXRlZE1hcHBpbmdbXSB7XG4gIGxpbmUtLTtcbiAgaWYgKGxpbmUgPCAwKSB0aHJvdyBuZXcgRXJyb3IoTElORV9HVFJfWkVSTyk7XG4gIGlmIChjb2x1bW4gPCAwKSB0aHJvdyBuZXcgRXJyb3IoQ09MX0dUUl9FUV9aRVJPKTtcblxuICBjb25zdCB7IHNvdXJjZXMsIHJlc29sdmVkU291cmNlcyB9ID0gbWFwO1xuICBsZXQgc291cmNlSW5kZXggPSBzb3VyY2VzLmluZGV4T2Yoc291cmNlKTtcbiAgaWYgKHNvdXJjZUluZGV4ID09PSAtMSkgc291cmNlSW5kZXggPSByZXNvbHZlZFNvdXJjZXMuaW5kZXhPZihzb3VyY2UpO1xuICBpZiAoc291cmNlSW5kZXggPT09IC0xKSByZXR1cm4gYWxsID8gW10gOiBHTWFwcGluZyhudWxsLCBudWxsKTtcblxuICBjb25zdCBnZW5lcmF0ZWQgPSAoY2FzdChtYXApLl9ieVNvdXJjZXMgfHw9IGJ1aWxkQnlTb3VyY2VzKFxuICAgIGRlY29kZWRNYXBwaW5ncyhtYXApLFxuICAgIChjYXN0KG1hcCkuX2J5U291cmNlTWVtb3MgPSBzb3VyY2VzLm1hcChtZW1vaXplZFN0YXRlKSksXG4gICkpO1xuXG4gIGNvbnN0IHNlZ21lbnRzID0gZ2VuZXJhdGVkW3NvdXJjZUluZGV4XVtsaW5lXTtcbiAgaWYgKHNlZ21lbnRzID09IG51bGwpIHJldHVybiBhbGwgPyBbXSA6IEdNYXBwaW5nKG51bGwsIG51bGwpO1xuXG4gIGNvbnN0IG1lbW8gPSBjYXN0KG1hcCkuX2J5U291cmNlTWVtb3MhW3NvdXJjZUluZGV4XTtcblxuICBpZiAoYWxsKSByZXR1cm4gc2xpY2VHZW5lcmF0ZWRQb3NpdGlvbnMoc2VnbWVudHMsIG1lbW8sIGxpbmUsIGNvbHVtbiwgYmlhcyk7XG5cbiAgY29uc3QgaW5kZXggPSB0cmFjZVNlZ21lbnRJbnRlcm5hbChzZWdtZW50cywgbWVtbywgbGluZSwgY29sdW1uLCBiaWFzKTtcbiAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIEdNYXBwaW5nKG51bGwsIG51bGwpO1xuXG4gIGNvbnN0IHNlZ21lbnQgPSBzZWdtZW50c1tpbmRleF07XG4gIHJldHVybiBHTWFwcGluZyhzZWdtZW50W1JFVl9HRU5FUkFURURfTElORV0gKyAxLCBzZWdtZW50W1JFVl9HRU5FUkFURURfQ09MVU1OXSk7XG59XG4iLCAiaW1wb3J0IHJlc29sdmVVcmkgZnJvbSAnQGpyaWRnZXdlbGwvcmVzb2x2ZS11cmknO1xuaW1wb3J0IHN0cmlwRmlsZW5hbWUgZnJvbSAnLi9zdHJpcC1maWxlbmFtZSc7XG5cbnR5cGUgUmVzb2x2ZSA9IChzb3VyY2U6IHN0cmluZyB8IG51bGwpID0+IHN0cmluZztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc29sdmVyKFxuICBtYXBVcmw6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQsXG4gIHNvdXJjZVJvb3Q6IHN0cmluZyB8IHVuZGVmaW5lZCxcbik6IFJlc29sdmUge1xuICBjb25zdCBmcm9tID0gc3RyaXBGaWxlbmFtZShtYXBVcmwpO1xuICAvLyBUaGUgc291cmNlUm9vdCBpcyBhbHdheXMgdHJlYXRlZCBhcyBhIGRpcmVjdG9yeSwgaWYgaXQncyBub3QgZW1wdHkuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3NvdXJjZS1tYXAvYmxvYi84Y2IzZWU1Ny9saWIvdXRpbC5qcyNMMzI3XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jaHJvbWl1bS9jaHJvbWl1bS9ibG9iL2RhNGFkYmIzL3RoaXJkX3BhcnR5L2JsaW5rL3JlbmRlcmVyL2RldnRvb2xzL2Zyb250X2VuZC9zZGsvU291cmNlTWFwLmpzI0w0MDAtTDQwMVxuICBjb25zdCBwcmVmaXggPSBzb3VyY2VSb290ID8gc291cmNlUm9vdCArICcvJyA6ICcnO1xuXG4gIHJldHVybiAoc291cmNlKSA9PiByZXNvbHZlVXJpKHByZWZpeCArIChzb3VyY2UgfHwgJycpLCBmcm9tKTtcbn1cbiIsICIvKipcbiAqIFJlbW92ZXMgZXZlcnl0aGluZyBhZnRlciB0aGUgbGFzdCBcIi9cIiwgYnV0IGxlYXZlcyB0aGUgc2xhc2guXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0cmlwRmlsZW5hbWUocGF0aDogc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbCk6IHN0cmluZyB7XG4gIGlmICghcGF0aCkgcmV0dXJuICcnO1xuICBjb25zdCBpbmRleCA9IHBhdGgubGFzdEluZGV4T2YoJy8nKTtcbiAgcmV0dXJuIHBhdGguc2xpY2UoMCwgaW5kZXggKyAxKTtcbn1cbiIsICJ0eXBlIEdlbmVyYXRlZENvbHVtbiA9IG51bWJlcjtcbnR5cGUgU291cmNlc0luZGV4ID0gbnVtYmVyO1xudHlwZSBTb3VyY2VMaW5lID0gbnVtYmVyO1xudHlwZSBTb3VyY2VDb2x1bW4gPSBudW1iZXI7XG50eXBlIE5hbWVzSW5kZXggPSBudW1iZXI7XG5cbnR5cGUgR2VuZXJhdGVkTGluZSA9IG51bWJlcjtcblxuZXhwb3J0IHR5cGUgU291cmNlTWFwU2VnbWVudCA9XG4gIHwgW0dlbmVyYXRlZENvbHVtbl1cbiAgfCBbR2VuZXJhdGVkQ29sdW1uLCBTb3VyY2VzSW5kZXgsIFNvdXJjZUxpbmUsIFNvdXJjZUNvbHVtbl1cbiAgfCBbR2VuZXJhdGVkQ29sdW1uLCBTb3VyY2VzSW5kZXgsIFNvdXJjZUxpbmUsIFNvdXJjZUNvbHVtbiwgTmFtZXNJbmRleF07XG5cbmV4cG9ydCB0eXBlIFJldmVyc2VTZWdtZW50ID0gW1NvdXJjZUNvbHVtbiwgR2VuZXJhdGVkTGluZSwgR2VuZXJhdGVkQ29sdW1uXTtcblxuZXhwb3J0IGNvbnN0IENPTFVNTiA9IDA7XG5leHBvcnQgY29uc3QgU09VUkNFU19JTkRFWCA9IDE7XG5leHBvcnQgY29uc3QgU09VUkNFX0xJTkUgPSAyO1xuZXhwb3J0IGNvbnN0IFNPVVJDRV9DT0xVTU4gPSAzO1xuZXhwb3J0IGNvbnN0IE5BTUVTX0lOREVYID0gNDtcblxuZXhwb3J0IGNvbnN0IFJFVl9HRU5FUkFURURfTElORSA9IDE7XG5leHBvcnQgY29uc3QgUkVWX0dFTkVSQVRFRF9DT0xVTU4gPSAyO1xuIiwgImltcG9ydCB7IENPTFVNTiB9IGZyb20gJy4vc291cmNlbWFwLXNlZ21lbnQnO1xuXG5pbXBvcnQgdHlwZSB7IFNvdXJjZU1hcFNlZ21lbnQgfSBmcm9tICcuL3NvdXJjZW1hcC1zZWdtZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWF5YmVTb3J0KFxuICBtYXBwaW5nczogU291cmNlTWFwU2VnbWVudFtdW10sXG4gIG93bmVkOiBib29sZWFuLFxuKTogU291cmNlTWFwU2VnbWVudFtdW10ge1xuICBjb25zdCB1bnNvcnRlZEluZGV4ID0gbmV4dFVuc29ydGVkU2VnbWVudExpbmUobWFwcGluZ3MsIDApO1xuICBpZiAodW5zb3J0ZWRJbmRleCA9PT0gbWFwcGluZ3MubGVuZ3RoKSByZXR1cm4gbWFwcGluZ3M7XG5cbiAgLy8gSWYgd2Ugb3duIHRoZSBhcnJheSAobWVhbmluZyB3ZSBwYXJzZWQgaXQgZnJvbSBKU09OKSwgdGhlbiB3ZSdyZSBmcmVlIHRvIGRpcmVjdGx5IG11dGF0ZSBpdC4gSWZcbiAgLy8gbm90LCB3ZSBkbyBub3Qgd2FudCB0byBtb2RpZnkgdGhlIGNvbnN1bWVyJ3MgaW5wdXQgYXJyYXkuXG4gIGlmICghb3duZWQpIG1hcHBpbmdzID0gbWFwcGluZ3Muc2xpY2UoKTtcblxuICBmb3IgKGxldCBpID0gdW5zb3J0ZWRJbmRleDsgaSA8IG1hcHBpbmdzLmxlbmd0aDsgaSA9IG5leHRVbnNvcnRlZFNlZ21lbnRMaW5lKG1hcHBpbmdzLCBpICsgMSkpIHtcbiAgICBtYXBwaW5nc1tpXSA9IHNvcnRTZWdtZW50cyhtYXBwaW5nc1tpXSwgb3duZWQpO1xuICB9XG4gIHJldHVybiBtYXBwaW5ncztcbn1cblxuZnVuY3Rpb24gbmV4dFVuc29ydGVkU2VnbWVudExpbmUobWFwcGluZ3M6IFNvdXJjZU1hcFNlZ21lbnRbXVtdLCBzdGFydDogbnVtYmVyKTogbnVtYmVyIHtcbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgbWFwcGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWlzU29ydGVkKG1hcHBpbmdzW2ldKSkgcmV0dXJuIGk7XG4gIH1cbiAgcmV0dXJuIG1hcHBpbmdzLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gaXNTb3J0ZWQobGluZTogU291cmNlTWFwU2VnbWVudFtdKTogYm9vbGVhbiB7XG4gIGZvciAobGV0IGogPSAxOyBqIDwgbGluZS5sZW5ndGg7IGorKykge1xuICAgIGlmIChsaW5lW2pdW0NPTFVNTl0gPCBsaW5lW2ogLSAxXVtDT0xVTU5dKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBzb3J0U2VnbWVudHMobGluZTogU291cmNlTWFwU2VnbWVudFtdLCBvd25lZDogYm9vbGVhbik6IFNvdXJjZU1hcFNlZ21lbnRbXSB7XG4gIGlmICghb3duZWQpIGxpbmUgPSBsaW5lLnNsaWNlKCk7XG4gIHJldHVybiBsaW5lLnNvcnQoc29ydENvbXBhcmF0b3IpO1xufVxuXG5mdW5jdGlvbiBzb3J0Q29tcGFyYXRvcihhOiBTb3VyY2VNYXBTZWdtZW50LCBiOiBTb3VyY2VNYXBTZWdtZW50KTogbnVtYmVyIHtcbiAgcmV0dXJuIGFbQ09MVU1OXSAtIGJbQ09MVU1OXTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFNvdXJjZU1hcFNlZ21lbnQsIFJldmVyc2VTZWdtZW50IH0gZnJvbSAnLi9zb3VyY2VtYXAtc2VnbWVudCc7XG5pbXBvcnQgeyBDT0xVTU4gfSBmcm9tICcuL3NvdXJjZW1hcC1zZWdtZW50JztcblxuZXhwb3J0IHR5cGUgTWVtb1N0YXRlID0ge1xuICBsYXN0S2V5OiBudW1iZXI7XG4gIGxhc3ROZWVkbGU6IG51bWJlcjtcbiAgbGFzdEluZGV4OiBudW1iZXI7XG59O1xuXG5leHBvcnQgbGV0IGZvdW5kID0gZmFsc2U7XG5cbi8qKlxuICogQSBiaW5hcnkgc2VhcmNoIGltcGxlbWVudGF0aW9uIHRoYXQgcmV0dXJucyB0aGUgaW5kZXggaWYgYSBtYXRjaCBpcyBmb3VuZC5cbiAqIElmIG5vIG1hdGNoIGlzIGZvdW5kLCB0aGVuIHRoZSBsZWZ0LWluZGV4ICh0aGUgaW5kZXggYXNzb2NpYXRlZCB3aXRoIHRoZSBpdGVtIHRoYXQgY29tZXMganVzdFxuICogYmVmb3JlIHRoZSBkZXNpcmVkIGluZGV4KSBpcyByZXR1cm5lZC4gVG8gbWFpbnRhaW4gcHJvcGVyIHNvcnQgb3JkZXIsIGEgc3BsaWNlIHdvdWxkIGhhcHBlbiBhdFxuICogdGhlIG5leHQgaW5kZXg6XG4gKlxuICogYGBganNcbiAqIGNvbnN0IGFycmF5ID0gWzEsIDNdO1xuICogY29uc3QgbmVlZGxlID0gMjtcbiAqIGNvbnN0IGluZGV4ID0gYmluYXJ5U2VhcmNoKGFycmF5LCBuZWVkbGUsIChpdGVtLCBuZWVkbGUpID0+IGl0ZW0gLSBuZWVkbGUpO1xuICpcbiAqIGFzc2VydC5lcXVhbChpbmRleCwgMCk7XG4gKiBhcnJheS5zcGxpY2UoaW5kZXggKyAxLCAwLCBuZWVkbGUpO1xuICogYXNzZXJ0LmRlZXBFcXVhbChhcnJheSwgWzEsIDIsIDNdKTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoKFxuICBoYXlzdGFjazogU291cmNlTWFwU2VnbWVudFtdIHwgUmV2ZXJzZVNlZ21lbnRbXSxcbiAgbmVlZGxlOiBudW1iZXIsXG4gIGxvdzogbnVtYmVyLFxuICBoaWdoOiBudW1iZXIsXG4pOiBudW1iZXIge1xuICB3aGlsZSAobG93IDw9IGhpZ2gpIHtcbiAgICBjb25zdCBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpID4+IDEpO1xuICAgIGNvbnN0IGNtcCA9IGhheXN0YWNrW21pZF1bQ09MVU1OXSAtIG5lZWRsZTtcblxuICAgIGlmIChjbXAgPT09IDApIHtcbiAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgIHJldHVybiBtaWQ7XG4gICAgfVxuXG4gICAgaWYgKGNtcCA8IDApIHtcbiAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZ2ggPSBtaWQgLSAxO1xuICAgIH1cbiAgfVxuXG4gIGZvdW5kID0gZmFsc2U7XG4gIHJldHVybiBsb3cgLSAxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBwZXJCb3VuZChcbiAgaGF5c3RhY2s6IFNvdXJjZU1hcFNlZ21lbnRbXSB8IFJldmVyc2VTZWdtZW50W10sXG4gIG5lZWRsZTogbnVtYmVyLFxuICBpbmRleDogbnVtYmVyLFxuKTogbnVtYmVyIHtcbiAgZm9yIChsZXQgaSA9IGluZGV4ICsgMTsgaSA8IGhheXN0YWNrLmxlbmd0aDsgaW5kZXggPSBpKyspIHtcbiAgICBpZiAoaGF5c3RhY2tbaV1bQ09MVU1OXSAhPT0gbmVlZGxlKSBicmVhaztcbiAgfVxuICByZXR1cm4gaW5kZXg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb3dlckJvdW5kKFxuICBoYXlzdGFjazogU291cmNlTWFwU2VnbWVudFtdIHwgUmV2ZXJzZVNlZ21lbnRbXSxcbiAgbmVlZGxlOiBudW1iZXIsXG4gIGluZGV4OiBudW1iZXIsXG4pOiBudW1iZXIge1xuICBmb3IgKGxldCBpID0gaW5kZXggLSAxOyBpID49IDA7IGluZGV4ID0gaS0tKSB7XG4gICAgaWYgKGhheXN0YWNrW2ldW0NPTFVNTl0gIT09IG5lZWRsZSkgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIGluZGV4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZWRTdGF0ZSgpOiBNZW1vU3RhdGUge1xuICByZXR1cm4ge1xuICAgIGxhc3RLZXk6IC0xLFxuICAgIGxhc3ROZWVkbGU6IC0xLFxuICAgIGxhc3RJbmRleDogLTEsXG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBvdmVybHkgY29tcGxpY2F0ZWQgYmVhc3QgaXMganVzdCB0byByZWNvcmQgdGhlIGxhc3QgdGVzdGVkIGxpbmUvY29sdW1uIGFuZCB0aGUgcmVzdWx0aW5nXG4gKiBpbmRleCwgYWxsb3dpbmcgdXMgdG8gc2tpcCBhIGZldyB0ZXN0cyBpZiBtYXBwaW5ncyBhcmUgbW9ub3RvbmljYWxseSBpbmNyZWFzaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZWRCaW5hcnlTZWFyY2goXG4gIGhheXN0YWNrOiBTb3VyY2VNYXBTZWdtZW50W10gfCBSZXZlcnNlU2VnbWVudFtdLFxuICBuZWVkbGU6IG51bWJlcixcbiAgc3RhdGU6IE1lbW9TdGF0ZSxcbiAga2V5OiBudW1iZXIsXG4pOiBudW1iZXIge1xuICBjb25zdCB7IGxhc3RLZXksIGxhc3ROZWVkbGUsIGxhc3RJbmRleCB9ID0gc3RhdGU7XG5cbiAgbGV0IGxvdyA9IDA7XG4gIGxldCBoaWdoID0gaGF5c3RhY2subGVuZ3RoIC0gMTtcbiAgaWYgKGtleSA9PT0gbGFzdEtleSkge1xuICAgIGlmIChuZWVkbGUgPT09IGxhc3ROZWVkbGUpIHtcbiAgICAgIGZvdW5kID0gbGFzdEluZGV4ICE9PSAtMSAmJiBoYXlzdGFja1tsYXN0SW5kZXhdW0NPTFVNTl0gPT09IG5lZWRsZTtcbiAgICAgIHJldHVybiBsYXN0SW5kZXg7XG4gICAgfVxuXG4gICAgaWYgKG5lZWRsZSA+PSBsYXN0TmVlZGxlKSB7XG4gICAgICAvLyBsYXN0SW5kZXggbWF5IGJlIC0xIGlmIHRoZSBwcmV2aW91cyBuZWVkbGUgd2FzIG5vdCBmb3VuZC5cbiAgICAgIGxvdyA9IGxhc3RJbmRleCA9PT0gLTEgPyAwIDogbGFzdEluZGV4O1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWdoID0gbGFzdEluZGV4O1xuICAgIH1cbiAgfVxuICBzdGF0ZS5sYXN0S2V5ID0ga2V5O1xuICBzdGF0ZS5sYXN0TmVlZGxlID0gbmVlZGxlO1xuXG4gIHJldHVybiAoc3RhdGUubGFzdEluZGV4ID0gYmluYXJ5U2VhcmNoKGhheXN0YWNrLCBuZWVkbGUsIGxvdywgaGlnaCkpO1xufVxuIiwgImltcG9ydCB7IENPTFVNTiwgU09VUkNFU19JTkRFWCwgU09VUkNFX0xJTkUsIFNPVVJDRV9DT0xVTU4gfSBmcm9tICcuL3NvdXJjZW1hcC1zZWdtZW50JztcbmltcG9ydCB7IG1lbW9pemVkQmluYXJ5U2VhcmNoLCB1cHBlckJvdW5kIH0gZnJvbSAnLi9iaW5hcnktc2VhcmNoJztcblxuaW1wb3J0IHR5cGUgeyBSZXZlcnNlU2VnbWVudCwgU291cmNlTWFwU2VnbWVudCB9IGZyb20gJy4vc291cmNlbWFwLXNlZ21lbnQnO1xuaW1wb3J0IHR5cGUgeyBNZW1vU3RhdGUgfSBmcm9tICcuL2JpbmFyeS1zZWFyY2gnO1xuXG5leHBvcnQgdHlwZSBTb3VyY2UgPSB7XG4gIF9fcHJvdG9fXzogbnVsbDtcbiAgW2xpbmU6IG51bWJlcl06IEV4Y2x1ZGU8UmV2ZXJzZVNlZ21lbnQsIFtudW1iZXJdPltdO1xufTtcblxuLy8gUmVidWlsZHMgdGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlcywgd2l0aCBtYXBwaW5ncyB0aGF0IGFyZSBvcmRlcmVkIGJ5IHNvdXJjZSBsaW5lL2NvbHVtbiBpbnN0ZWFkXG4vLyBvZiBnZW5lcmF0ZWQgbGluZS9jb2x1bW4uXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZEJ5U291cmNlcyhcbiAgZGVjb2RlZDogcmVhZG9ubHkgU291cmNlTWFwU2VnbWVudFtdW10sXG4gIG1lbW9zOiBNZW1vU3RhdGVbXSxcbik6IFNvdXJjZVtdIHtcbiAgY29uc3Qgc291cmNlczogU291cmNlW10gPSBtZW1vcy5tYXAoYnVpbGROdWxsQXJyYXkpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGVjb2RlZC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGxpbmUgPSBkZWNvZGVkW2ldO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZS5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3Qgc2VnID0gbGluZVtqXTtcbiAgICAgIGlmIChzZWcubGVuZ3RoID09PSAxKSBjb250aW51ZTtcblxuICAgICAgY29uc3Qgc291cmNlSW5kZXggPSBzZWdbU09VUkNFU19JTkRFWF07XG4gICAgICBjb25zdCBzb3VyY2VMaW5lID0gc2VnW1NPVVJDRV9MSU5FXTtcbiAgICAgIGNvbnN0IHNvdXJjZUNvbHVtbiA9IHNlZ1tTT1VSQ0VfQ09MVU1OXTtcbiAgICAgIGNvbnN0IG9yaWdpbmFsU291cmNlID0gc291cmNlc1tzb3VyY2VJbmRleF07XG4gICAgICBjb25zdCBvcmlnaW5hbExpbmUgPSAob3JpZ2luYWxTb3VyY2Vbc291cmNlTGluZV0gfHw9IFtdKTtcbiAgICAgIGNvbnN0IG1lbW8gPSBtZW1vc1tzb3VyY2VJbmRleF07XG5cbiAgICAgIC8vIFRoZSBiaW5hcnkgc2VhcmNoIGVpdGhlciBmb3VuZCBhIG1hdGNoLCBvciBpdCBmb3VuZCB0aGUgbGVmdC1pbmRleCBqdXN0IGJlZm9yZSB3aGVyZSB0aGVcbiAgICAgIC8vIHNlZ21lbnQgc2hvdWxkIGdvLiBFaXRoZXIgd2F5LCB3ZSB3YW50IHRvIGluc2VydCBhZnRlciB0aGF0LiBBbmQgdGhlcmUgbWF5IGJlIG11bHRpcGxlXG4gICAgICAvLyBnZW5lcmF0ZWQgc2VnbWVudHMgYXNzb2NpYXRlZCB3aXRoIGFuIG9yaWdpbmFsIGxvY2F0aW9uLCBzbyB0aGVyZSBtYXkgbmVlZCB0byBtb3ZlIHNldmVyYWxcbiAgICAgIC8vIGluZGV4ZXMgYmVmb3JlIHdlIGZpbmQgd2hlcmUgd2UgbmVlZCB0byBpbnNlcnQuXG4gICAgICBsZXQgaW5kZXggPSB1cHBlckJvdW5kKFxuICAgICAgICBvcmlnaW5hbExpbmUsXG4gICAgICAgIHNvdXJjZUNvbHVtbixcbiAgICAgICAgbWVtb2l6ZWRCaW5hcnlTZWFyY2gob3JpZ2luYWxMaW5lLCBzb3VyY2VDb2x1bW4sIG1lbW8sIHNvdXJjZUxpbmUpLFxuICAgICAgKTtcblxuICAgICAgbWVtby5sYXN0SW5kZXggPSArK2luZGV4O1xuICAgICAgaW5zZXJ0KG9yaWdpbmFsTGluZSwgaW5kZXgsIFtzb3VyY2VDb2x1bW4sIGksIHNlZ1tDT0xVTU5dXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNvdXJjZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydDxUPihhcnJheTogVFtdLCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVCkge1xuICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoOyBpID4gaW5kZXg7IGktLSkge1xuICAgIGFycmF5W2ldID0gYXJyYXlbaSAtIDFdO1xuICB9XG4gIGFycmF5W2luZGV4XSA9IHZhbHVlO1xufVxuXG4vLyBOdWxsIGFycmF5cyBhbGxvdyB1cyB0byB1c2Ugb3JkZXJlZCBpbmRleCBrZXlzIHdpdGhvdXQgYWN0dWFsbHkgYWxsb2NhdGluZyBjb250aWd1b3VzIG1lbW9yeSBsaWtlXG4vLyBhIHJlYWwgYXJyYXkuIFdlIHVzZSBhIG51bGwtcHJvdG90eXBlIG9iamVjdCB0byBhdm9pZCBwcm90b3R5cGUgcG9sbHV0aW9uIGFuZCBkZW9wdGltaXphdGlvbnMuXG4vLyBOdW1lcmljIHByb3BlcnRpZXMgb24gb2JqZWN0cyBhcmUgbWFnaWNhbGx5IHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIGVuZ2luZSByZWdhcmRsZXNzIG9mXG4vLyB0aGUgaW5zZXJ0aW9uIG9yZGVyLiBTbywgYnkgc2V0dGluZyBhbnkgbnVtZXJpYyBrZXlzLCBldmVuIG91dCBvZiBvcmRlciwgd2UnbGwgZ2V0IGFzY2VuZGluZ1xuLy8gb3JkZXIgd2hlbiBpdGVyYXRpbmcgd2l0aCBmb3ItaW4uXG5mdW5jdGlvbiBidWlsZE51bGxBcnJheTxUIGV4dGVuZHMgeyBfX3Byb3RvX186IG51bGwgfT4oKTogVCB7XG4gIHJldHVybiB7IF9fcHJvdG9fXzogbnVsbCB9IGFzIFQ7XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBTb3VyY2VNYXBTZWdtZW50IH0gZnJvbSAnLi9zb3VyY2VtYXAtc2VnbWVudCc7XG5pbXBvcnQgdHlwZSB7IEdSRUFURVNUX0xPV0VSX0JPVU5ELCBMRUFTVF9VUFBFUl9CT1VORCwgVHJhY2VNYXAgfSBmcm9tICcuL3RyYWNlLW1hcHBpbmcnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNvdXJjZU1hcFYzIHtcbiAgZmlsZT86IHN0cmluZyB8IG51bGw7XG4gIG5hbWVzOiBzdHJpbmdbXTtcbiAgc291cmNlUm9vdD86IHN0cmluZztcbiAgc291cmNlczogKHN0cmluZyB8IG51bGwpW107XG4gIHNvdXJjZXNDb250ZW50PzogKHN0cmluZyB8IG51bGwpW107XG4gIHZlcnNpb246IDM7XG4gIGlnbm9yZUxpc3Q/OiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbmNvZGVkU291cmNlTWFwIGV4dGVuZHMgU291cmNlTWFwVjMge1xuICBtYXBwaW5nczogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlY29kZWRTb3VyY2VNYXAgZXh0ZW5kcyBTb3VyY2VNYXBWMyB7XG4gIG1hcHBpbmdzOiBTb3VyY2VNYXBTZWdtZW50W11bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZWN0aW9uIHtcbiAgb2Zmc2V0OiB7IGxpbmU6IG51bWJlcjsgY29sdW1uOiBudW1iZXIgfTtcbiAgbWFwOiBFbmNvZGVkU291cmNlTWFwIHwgRGVjb2RlZFNvdXJjZU1hcCB8IFNlY3Rpb25lZFNvdXJjZU1hcDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZWN0aW9uZWRTb3VyY2VNYXAge1xuICBmaWxlPzogc3RyaW5nIHwgbnVsbDtcbiAgc2VjdGlvbnM6IFNlY3Rpb25bXTtcbiAgdmVyc2lvbjogMztcbn1cblxuZXhwb3J0IHR5cGUgT3JpZ2luYWxNYXBwaW5nID0ge1xuICBzb3VyY2U6IHN0cmluZyB8IG51bGw7XG4gIGxpbmU6IG51bWJlcjtcbiAgY29sdW1uOiBudW1iZXI7XG4gIG5hbWU6IHN0cmluZyB8IG51bGw7XG59O1xuXG5leHBvcnQgdHlwZSBJbnZhbGlkT3JpZ2luYWxNYXBwaW5nID0ge1xuICBzb3VyY2U6IG51bGw7XG4gIGxpbmU6IG51bGw7XG4gIGNvbHVtbjogbnVsbDtcbiAgbmFtZTogbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIEdlbmVyYXRlZE1hcHBpbmcgPSB7XG4gIGxpbmU6IG51bWJlcjtcbiAgY29sdW1uOiBudW1iZXI7XG59O1xuZXhwb3J0IHR5cGUgSW52YWxpZEdlbmVyYXRlZE1hcHBpbmcgPSB7XG4gIGxpbmU6IG51bGw7XG4gIGNvbHVtbjogbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIEJpYXMgPSB0eXBlb2YgR1JFQVRFU1RfTE9XRVJfQk9VTkQgfCB0eXBlb2YgTEVBU1RfVVBQRVJfQk9VTkQ7XG5cbmV4cG9ydCB0eXBlIFhJbnB1dCA9IHsgeF9nb29nbGVfaWdub3JlTGlzdD86IFNvdXJjZU1hcFYzWydpZ25vcmVMaXN0J10gfTtcbmV4cG9ydCB0eXBlIEVuY29kZWRTb3VyY2VNYXBYSW5wdXQgPSBFbmNvZGVkU291cmNlTWFwICYgWElucHV0O1xuZXhwb3J0IHR5cGUgRGVjb2RlZFNvdXJjZU1hcFhJbnB1dCA9IERlY29kZWRTb3VyY2VNYXAgJiBYSW5wdXQ7XG5leHBvcnQgdHlwZSBTZWN0aW9uZWRTb3VyY2VNYXBYSW5wdXQgPSBPbWl0PFNlY3Rpb25lZFNvdXJjZU1hcCwgJ3NlY3Rpb25zJz4gJiB7XG4gIHNlY3Rpb25zOiBTZWN0aW9uWElucHV0W107XG59O1xuZXhwb3J0IHR5cGUgU2VjdGlvblhJbnB1dCA9IE9taXQ8U2VjdGlvbiwgJ21hcCc+ICYge1xuICBtYXA6IFNlY3Rpb25lZFNvdXJjZU1hcElucHV0O1xufTtcblxuZXhwb3J0IHR5cGUgU291cmNlTWFwSW5wdXQgPSBzdHJpbmcgfCBFbmNvZGVkU291cmNlTWFwWElucHV0IHwgRGVjb2RlZFNvdXJjZU1hcFhJbnB1dCB8IFRyYWNlTWFwO1xuZXhwb3J0IHR5cGUgU2VjdGlvbmVkU291cmNlTWFwSW5wdXQgPSBTb3VyY2VNYXBJbnB1dCB8IFNlY3Rpb25lZFNvdXJjZU1hcFhJbnB1dDtcblxuZXhwb3J0IHR5cGUgTmVlZGxlID0geyBsaW5lOiBudW1iZXI7IGNvbHVtbjogbnVtYmVyOyBiaWFzPzogQmlhcyB9O1xuZXhwb3J0IHR5cGUgU291cmNlTmVlZGxlID0geyBzb3VyY2U6IHN0cmluZzsgbGluZTogbnVtYmVyOyBjb2x1bW46IG51bWJlcjsgYmlhcz86IEJpYXMgfTtcblxuZXhwb3J0IHR5cGUgRWFjaE1hcHBpbmcgPVxuICB8IHtcbiAgICAgIGdlbmVyYXRlZExpbmU6IG51bWJlcjtcbiAgICAgIGdlbmVyYXRlZENvbHVtbjogbnVtYmVyO1xuICAgICAgc291cmNlOiBudWxsO1xuICAgICAgb3JpZ2luYWxMaW5lOiBudWxsO1xuICAgICAgb3JpZ2luYWxDb2x1bW46IG51bGw7XG4gICAgICBuYW1lOiBudWxsO1xuICAgIH1cbiAgfCB7XG4gICAgICBnZW5lcmF0ZWRMaW5lOiBudW1iZXI7XG4gICAgICBnZW5lcmF0ZWRDb2x1bW46IG51bWJlcjtcbiAgICAgIHNvdXJjZTogc3RyaW5nIHwgbnVsbDtcbiAgICAgIG9yaWdpbmFsTGluZTogbnVtYmVyO1xuICAgICAgb3JpZ2luYWxDb2x1bW46IG51bWJlcjtcbiAgICAgIG5hbWU6IHN0cmluZyB8IG51bGw7XG4gICAgfTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNvdXJjZU1hcCB7XG4gIGRlY2xhcmUgdmVyc2lvbjogU291cmNlTWFwVjNbJ3ZlcnNpb24nXTtcbiAgZGVjbGFyZSBmaWxlOiBTb3VyY2VNYXBWM1snZmlsZSddO1xuICBkZWNsYXJlIG5hbWVzOiBTb3VyY2VNYXBWM1snbmFtZXMnXTtcbiAgZGVjbGFyZSBzb3VyY2VSb290OiBTb3VyY2VNYXBWM1snc291cmNlUm9vdCddO1xuICBkZWNsYXJlIHNvdXJjZXM6IFNvdXJjZU1hcFYzWydzb3VyY2VzJ107XG4gIGRlY2xhcmUgc291cmNlc0NvbnRlbnQ6IFNvdXJjZU1hcFYzWydzb3VyY2VzQ29udGVudCddO1xuICBkZWNsYXJlIHJlc29sdmVkU291cmNlczogU291cmNlTWFwVjNbJ3NvdXJjZXMnXTtcbiAgZGVjbGFyZSBpZ25vcmVMaXN0OiBTb3VyY2VNYXBWM1snaWdub3JlTGlzdCddO1xufVxuXG5leHBvcnQgdHlwZSBSbzxUPiA9XG4gIFQgZXh0ZW5kcyBBcnJheTxpbmZlciBWPlxuICAgID8gVltdIHwgUmVhZG9ubHk8VltdPiB8IFJvQXJyYXk8Vj4gfCBSZWFkb25seTxSb0FycmF5PFY+PlxuICAgIDogVCBleHRlbmRzIG9iamVjdFxuICAgICAgPyBUIHwgUmVhZG9ubHk8VD4gfCBSb09iamVjdDxUPiB8IFJlYWRvbmx5PFJvT2JqZWN0PFQ+PlxuICAgICAgOiBUO1xudHlwZSBSb0FycmF5PFQ+ID0gUm88VD5bXTtcbnR5cGUgUm9PYmplY3Q8VD4gPSB7IFtLIGluIGtleW9mIFRdOiBUW0tdIHwgUm88VFtLXT4gfTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlPFQ+KG1hcDogVCk6IEV4Y2x1ZGU8VCwgc3RyaW5nPiB7XG4gIHJldHVybiB0eXBlb2YgbWFwID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UobWFwKSA6IChtYXAgYXMgRXhjbHVkZTxULCBzdHJpbmc+KTtcbn1cbiIsICJpbXBvcnQgeyBUcmFjZU1hcCwgcHJlc29ydGVkRGVjb2RlZE1hcCwgZGVjb2RlZE1hcHBpbmdzIH0gZnJvbSAnLi90cmFjZS1tYXBwaW5nJztcbmltcG9ydCB7XG4gIENPTFVNTixcbiAgU09VUkNFU19JTkRFWCxcbiAgU09VUkNFX0xJTkUsXG4gIFNPVVJDRV9DT0xVTU4sXG4gIE5BTUVTX0lOREVYLFxufSBmcm9tICcuL3NvdXJjZW1hcC1zZWdtZW50JztcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSAnLi90eXBlcyc7XG5cbmltcG9ydCB0eXBlIHtcbiAgRGVjb2RlZFNvdXJjZU1hcCxcbiAgRGVjb2RlZFNvdXJjZU1hcFhJbnB1dCxcbiAgRW5jb2RlZFNvdXJjZU1hcFhJbnB1dCxcbiAgU2VjdGlvbmVkU291cmNlTWFwWElucHV0LFxuICBTZWN0aW9uZWRTb3VyY2VNYXBJbnB1dCxcbiAgU2VjdGlvblhJbnB1dCxcbiAgUm8sXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBTb3VyY2VNYXBTZWdtZW50IH0gZnJvbSAnLi9zb3VyY2VtYXAtc2VnbWVudCc7XG5cbnR5cGUgRmxhdHRlbk1hcCA9IHtcbiAgbmV3IChtYXA6IFJvPFNlY3Rpb25lZFNvdXJjZU1hcElucHV0PiwgbWFwVXJsPzogc3RyaW5nIHwgbnVsbCk6IFRyYWNlTWFwO1xuICAobWFwOiBSbzxTZWN0aW9uZWRTb3VyY2VNYXBJbnB1dD4sIG1hcFVybD86IHN0cmluZyB8IG51bGwpOiBUcmFjZU1hcDtcbn07XG5cbmV4cG9ydCBjb25zdCBGbGF0dGVuTWFwOiBGbGF0dGVuTWFwID0gZnVuY3Rpb24gKG1hcCwgbWFwVXJsKSB7XG4gIGNvbnN0IHBhcnNlZCA9IHBhcnNlKG1hcCBhcyBTZWN0aW9uZWRTb3VyY2VNYXBJbnB1dCk7XG5cbiAgaWYgKCEoJ3NlY3Rpb25zJyBpbiBwYXJzZWQpKSB7XG4gICAgcmV0dXJuIG5ldyBUcmFjZU1hcChwYXJzZWQgYXMgRGVjb2RlZFNvdXJjZU1hcFhJbnB1dCB8IEVuY29kZWRTb3VyY2VNYXBYSW5wdXQsIG1hcFVybCk7XG4gIH1cblxuICBjb25zdCBtYXBwaW5nczogU291cmNlTWFwU2VnbWVudFtdW10gPSBbXTtcbiAgY29uc3Qgc291cmNlczogc3RyaW5nW10gPSBbXTtcbiAgY29uc3Qgc291cmNlc0NvbnRlbnQ6IChzdHJpbmcgfCBudWxsKVtdID0gW107XG4gIGNvbnN0IG5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuICBjb25zdCBpZ25vcmVMaXN0OiBudW1iZXJbXSA9IFtdO1xuXG4gIHJlY3Vyc2UoXG4gICAgcGFyc2VkLFxuICAgIG1hcFVybCxcbiAgICBtYXBwaW5ncyxcbiAgICBzb3VyY2VzLFxuICAgIHNvdXJjZXNDb250ZW50LFxuICAgIG5hbWVzLFxuICAgIGlnbm9yZUxpc3QsXG4gICAgMCxcbiAgICAwLFxuICAgIEluZmluaXR5LFxuICAgIEluZmluaXR5LFxuICApO1xuXG4gIGNvbnN0IGpvaW5lZDogRGVjb2RlZFNvdXJjZU1hcCA9IHtcbiAgICB2ZXJzaW9uOiAzLFxuICAgIGZpbGU6IHBhcnNlZC5maWxlLFxuICAgIG5hbWVzLFxuICAgIHNvdXJjZXMsXG4gICAgc291cmNlc0NvbnRlbnQsXG4gICAgbWFwcGluZ3MsXG4gICAgaWdub3JlTGlzdCxcbiAgfTtcblxuICByZXR1cm4gcHJlc29ydGVkRGVjb2RlZE1hcChqb2luZWQpO1xufSBhcyBGbGF0dGVuTWFwO1xuXG5mdW5jdGlvbiByZWN1cnNlKFxuICBpbnB1dDogU2VjdGlvbmVkU291cmNlTWFwWElucHV0LFxuICBtYXBVcmw6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQsXG4gIG1hcHBpbmdzOiBTb3VyY2VNYXBTZWdtZW50W11bXSxcbiAgc291cmNlczogc3RyaW5nW10sXG4gIHNvdXJjZXNDb250ZW50OiAoc3RyaW5nIHwgbnVsbClbXSxcbiAgbmFtZXM6IHN0cmluZ1tdLFxuICBpZ25vcmVMaXN0OiBudW1iZXJbXSxcbiAgbGluZU9mZnNldDogbnVtYmVyLFxuICBjb2x1bW5PZmZzZXQ6IG51bWJlcixcbiAgc3RvcExpbmU6IG51bWJlcixcbiAgc3RvcENvbHVtbjogbnVtYmVyLFxuKSB7XG4gIGNvbnN0IHsgc2VjdGlvbnMgfSA9IGlucHV0O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgeyBtYXAsIG9mZnNldCB9ID0gc2VjdGlvbnNbaV07XG5cbiAgICBsZXQgc2wgPSBzdG9wTGluZTtcbiAgICBsZXQgc2MgPSBzdG9wQ29sdW1uO1xuICAgIGlmIChpICsgMSA8IHNlY3Rpb25zLmxlbmd0aCkge1xuICAgICAgY29uc3QgbmV4dE9mZnNldCA9IHNlY3Rpb25zW2kgKyAxXS5vZmZzZXQ7XG4gICAgICBzbCA9IE1hdGgubWluKHN0b3BMaW5lLCBsaW5lT2Zmc2V0ICsgbmV4dE9mZnNldC5saW5lKTtcblxuICAgICAgaWYgKHNsID09PSBzdG9wTGluZSkge1xuICAgICAgICBzYyA9IE1hdGgubWluKHN0b3BDb2x1bW4sIGNvbHVtbk9mZnNldCArIG5leHRPZmZzZXQuY29sdW1uKTtcbiAgICAgIH0gZWxzZSBpZiAoc2wgPCBzdG9wTGluZSkge1xuICAgICAgICBzYyA9IGNvbHVtbk9mZnNldCArIG5leHRPZmZzZXQuY29sdW1uO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFkZFNlY3Rpb24oXG4gICAgICBtYXAsXG4gICAgICBtYXBVcmwsXG4gICAgICBtYXBwaW5ncyxcbiAgICAgIHNvdXJjZXMsXG4gICAgICBzb3VyY2VzQ29udGVudCxcbiAgICAgIG5hbWVzLFxuICAgICAgaWdub3JlTGlzdCxcbiAgICAgIGxpbmVPZmZzZXQgKyBvZmZzZXQubGluZSxcbiAgICAgIGNvbHVtbk9mZnNldCArIG9mZnNldC5jb2x1bW4sXG4gICAgICBzbCxcbiAgICAgIHNjLFxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkU2VjdGlvbihcbiAgaW5wdXQ6IFNlY3Rpb25YSW5wdXRbJ21hcCddLFxuICBtYXBVcmw6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQsXG4gIG1hcHBpbmdzOiBTb3VyY2VNYXBTZWdtZW50W11bXSxcbiAgc291cmNlczogc3RyaW5nW10sXG4gIHNvdXJjZXNDb250ZW50OiAoc3RyaW5nIHwgbnVsbClbXSxcbiAgbmFtZXM6IHN0cmluZ1tdLFxuICBpZ25vcmVMaXN0OiBudW1iZXJbXSxcbiAgbGluZU9mZnNldDogbnVtYmVyLFxuICBjb2x1bW5PZmZzZXQ6IG51bWJlcixcbiAgc3RvcExpbmU6IG51bWJlcixcbiAgc3RvcENvbHVtbjogbnVtYmVyLFxuKSB7XG4gIGNvbnN0IHBhcnNlZCA9IHBhcnNlKGlucHV0KTtcbiAgaWYgKCdzZWN0aW9ucycgaW4gcGFyc2VkKSByZXR1cm4gcmVjdXJzZSguLi4oYXJndW1lbnRzIGFzIHVua25vd24gYXMgUGFyYW1ldGVyczx0eXBlb2YgcmVjdXJzZT4pKTtcblxuICBjb25zdCBtYXAgPSBuZXcgVHJhY2VNYXAocGFyc2VkLCBtYXBVcmwpO1xuICBjb25zdCBzb3VyY2VzT2Zmc2V0ID0gc291cmNlcy5sZW5ndGg7XG4gIGNvbnN0IG5hbWVzT2Zmc2V0ID0gbmFtZXMubGVuZ3RoO1xuICBjb25zdCBkZWNvZGVkID0gZGVjb2RlZE1hcHBpbmdzKG1hcCk7XG4gIGNvbnN0IHsgcmVzb2x2ZWRTb3VyY2VzLCBzb3VyY2VzQ29udGVudDogY29udGVudHMsIGlnbm9yZUxpc3Q6IGlnbm9yZXMgfSA9IG1hcDtcblxuICBhcHBlbmQoc291cmNlcywgcmVzb2x2ZWRTb3VyY2VzKTtcbiAgYXBwZW5kKG5hbWVzLCBtYXAubmFtZXMpO1xuXG4gIGlmIChjb250ZW50cykgYXBwZW5kKHNvdXJjZXNDb250ZW50LCBjb250ZW50cyk7XG4gIGVsc2UgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNvbHZlZFNvdXJjZXMubGVuZ3RoOyBpKyspIHNvdXJjZXNDb250ZW50LnB1c2gobnVsbCk7XG5cbiAgaWYgKGlnbm9yZXMpIGZvciAobGV0IGkgPSAwOyBpIDwgaWdub3Jlcy5sZW5ndGg7IGkrKykgaWdub3JlTGlzdC5wdXNoKGlnbm9yZXNbaV0gKyBzb3VyY2VzT2Zmc2V0KTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRlY29kZWQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBsaW5lSSA9IGxpbmVPZmZzZXQgKyBpO1xuXG4gICAgLy8gV2UgY2FuIG9ubHkgYWRkIHNvIG1hbnkgbGluZXMgYmVmb3JlIHdlIHN0ZXAgaW50byB0aGUgcmFuZ2UgdGhhdCB0aGUgbmV4dCBzZWN0aW9uJ3MgbWFwXG4gICAgLy8gY29udHJvbHMuIFdoZW4gd2UgZ2V0IHRvIHRoZSBsYXN0IGxpbmUsIHRoZW4gd2UnbGwgc3RhcnQgY2hlY2tpbmcgdGhlIHNlZ21lbnRzIHRvIHNlZSBpZlxuICAgIC8vIHRoZXkndmUgY3Jvc3NlZCBpbnRvIHRoZSBjb2x1bW4gcmFuZ2UuIEJ1dCBpdCBtYXkgbm90IGhhdmUgYW55IGNvbHVtbnMgdGhhdCBvdmVyc3RlcCwgc28gd2VcbiAgICAvLyBzdGlsbCBuZWVkIHRvIGNoZWNrIHRoYXQgd2UgZG9uJ3Qgb3ZlcnN0ZXAgbGluZXMsIHRvby5cbiAgICBpZiAobGluZUkgPiBzdG9wTGluZSkgcmV0dXJuO1xuXG4gICAgLy8gVGhlIG91dCBsaW5lIG1heSBhbHJlYWR5IGV4aXN0IGluIG1hcHBpbmdzIChpZiB3ZSdyZSBjb250aW51aW5nIHRoZSBsaW5lIHN0YXJ0ZWQgYnkgYVxuICAgIC8vIHByZXZpb3VzIHNlY3Rpb24pLiBPciwgd2UgbWF5IGhhdmUganVtcGVkIGFoZWFkIHNldmVyYWwgbGluZXMgdG8gc3RhcnQgdGhpcyBzZWN0aW9uLlxuICAgIGNvbnN0IG91dCA9IGdldExpbmUobWFwcGluZ3MsIGxpbmVJKTtcbiAgICAvLyBPbiB0aGUgMHRoIGxvb3AsIHRoZSBzZWN0aW9uJ3MgY29sdW1uIG9mZnNldCBzaGlmdHMgdXMgZm9yd2FyZC4gT24gYWxsIG90aGVyIGxpbmVzIChzaW5jZSB0aGVcbiAgICAvLyBtYXAgY2FuIGJlIG11bHRpcGxlIGxpbmVzKSwgaXQgZG9lc24ndC5cbiAgICBjb25zdCBjT2Zmc2V0ID0gaSA9PT0gMCA/IGNvbHVtbk9mZnNldCA6IDA7XG5cbiAgICBjb25zdCBsaW5lID0gZGVjb2RlZFtpXTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmUubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IHNlZyA9IGxpbmVbal07XG4gICAgICBjb25zdCBjb2x1bW4gPSBjT2Zmc2V0ICsgc2VnW0NPTFVNTl07XG5cbiAgICAgIC8vIElmIHRoaXMgc2VnbWVudCBzdGVwcyBpbnRvIHRoZSBjb2x1bW4gcmFuZ2UgdGhhdCB0aGUgbmV4dCBzZWN0aW9uJ3MgbWFwIGNvbnRyb2xzLCB3ZSBuZWVkXG4gICAgICAvLyB0byBzdG9wIGVhcmx5LlxuICAgICAgaWYgKGxpbmVJID09PSBzdG9wTGluZSAmJiBjb2x1bW4gPj0gc3RvcENvbHVtbikgcmV0dXJuO1xuXG4gICAgICBpZiAoc2VnLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBvdXQucHVzaChbY29sdW1uXSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzb3VyY2VzSW5kZXggPSBzb3VyY2VzT2Zmc2V0ICsgc2VnW1NPVVJDRVNfSU5ERVhdO1xuICAgICAgY29uc3Qgc291cmNlTGluZSA9IHNlZ1tTT1VSQ0VfTElORV07XG4gICAgICBjb25zdCBzb3VyY2VDb2x1bW4gPSBzZWdbU09VUkNFX0NPTFVNTl07XG4gICAgICBvdXQucHVzaChcbiAgICAgICAgc2VnLmxlbmd0aCA9PT0gNFxuICAgICAgICAgID8gW2NvbHVtbiwgc291cmNlc0luZGV4LCBzb3VyY2VMaW5lLCBzb3VyY2VDb2x1bW5dXG4gICAgICAgICAgOiBbY29sdW1uLCBzb3VyY2VzSW5kZXgsIHNvdXJjZUxpbmUsIHNvdXJjZUNvbHVtbiwgbmFtZXNPZmZzZXQgKyBzZWdbTkFNRVNfSU5ERVhdXSxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGVuZDxUPihhcnI6IFRbXSwgb3RoZXI6IFRbXSkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG90aGVyLmxlbmd0aDsgaSsrKSBhcnIucHVzaChvdGhlcltpXSk7XG59XG5cbmZ1bmN0aW9uIGdldExpbmU8VD4oYXJyOiBUW11bXSwgaW5kZXg6IG51bWJlcik6IFRbXSB7XG4gIGZvciAobGV0IGkgPSBhcnIubGVuZ3RoOyBpIDw9IGluZGV4OyBpKyspIGFycltpXSA9IFtdO1xuICByZXR1cm4gYXJyW2luZGV4XTtcbn1cbiIsICJpbXBvcnQgKiBhcyBzdGFja1RyYWNlUGFyc2VyIGZyb20gJ3N0YWNrdHJhY2UtcGFyc2VyJztcbmltcG9ydCB7VHJhY2VNYXAsIG9yaWdpbmFsUG9zaXRpb25Gb3J9IGZyb20gJ0BqcmlkZ2V3ZWxsL3RyYWNlLW1hcHBpbmcnO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGgtYnJvd3NlcmlmeVwiO1xuXG5jb25zdCBmaWxlVXJsVG9QYXRoID0gdXJsID0+XG5cdGRlY29kZVVSSUNvbXBvbmVudChuZXcgVVJMKHVybCkucGF0aG5hbWUpLnJlcGxhY2UoL15cXC8oW2EtekEtWl06KS8sICckMScpO1xuXG5mdW5jdGlvbiBleHRyYWN0U291cmNlTWFwKHNvdXJjZSkge1xuICAgIGxldCBtYXRjaD1zb3VyY2UubWF0Y2goL1xcL1xcLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uXFwvanNvblteLF0rYmFzZTY0LChbQS1aYS16MC05Ky89XSspLyk7XG4gICAgaWYgKCFtYXRjaClcbiAgICBcdHJldHVybjtcblxuICAgIGxldCBtYXBKc29uPUpTT04ucGFyc2UoYXRvYihtYXRjaFsxXSkpO1xuICAgIHJldHVybiBtYXBKc29uO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXJyb3JDcmVhdGVTdGFja0ZyYW1lcyh7c3RhY2ssIGZzLCBzb3VyY2VSb290LCBzb3VyY2VtYXB9KSB7XG5cdGxldCB0aHJvd25GcmFtZXM9c3RhY2tUcmFjZVBhcnNlci5wYXJzZShzdGFjayk7XG5cdGxldCBmaWxlTmFtZXM9Wy4uLm5ldyBTZXQodGhyb3duRnJhbWVzLm1hcChmPT5mLmZpbGUpKV07XG5cblx0bGV0IHRyYWNlTWFwcz17fTtcblx0aWYgKHNvdXJjZW1hcCkge1xuXHRcdGZvciAobGV0IGZuIG9mIGZpbGVOYW1lcykge1xuXHRcdFx0bGV0IGZpbGVDb250ZW50O1xuXHRcdFx0aWYgKGZuLnN0YXJ0c1dpdGgoXCJmaWxlOi8vXCIpKVxuXHRcdFx0XHRmaWxlQ29udGVudD1hd2FpdCBmcy5wcm9taXNlcy5yZWFkRmlsZShmaWxlVXJsVG9QYXRoKGZuKSxcInV0ZjhcIik7XG5cblx0XHRcdGlmIChmbi5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSB8fCBmbi5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIikpXG5cdFx0XHRcdGZpbGVDb250ZW50PWF3YWl0IChhd2FpdCBmZXRjaChmbikpLnRleHQoKTtcblxuXHRcdFx0aWYgKGZpbGVDb250ZW50KSB7XG5cdFx0XHRcdGxldCBzb3VyY2VNYXA9ZXh0cmFjdFNvdXJjZU1hcChmaWxlQ29udGVudCk7XG5cdFx0XHRcdGlmIChzb3VyY2VNYXApXG5cdFx0XHRcdFx0dHJhY2VNYXBzW2ZuXT1uZXcgVHJhY2VNYXAoc291cmNlTWFwKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRsZXQgZnJhbWVzPVtdO1xuXHRmb3IgKGxldCB0aHJvd24gb2YgdGhyb3duRnJhbWVzKSB7XG5cdFx0bGV0IGZyYW1lPXtcblx0XHRcdHRocm93bjogdGhyb3duXG5cdFx0fVxuXG5cdFx0aWYgKHRyYWNlTWFwc1t0aHJvd24uZmlsZV0pIHtcblx0XHRcdGZyYW1lLm9yaWc9b3JpZ2luYWxQb3NpdGlvbkZvcih0cmFjZU1hcHNbdGhyb3duLmZpbGVdLHtcblx0XHRcdFx0bGluZTogdGhyb3duLmxpbmVOdW1iZXIsXG5cdFx0XHRcdGNvbHVtbjogdGhyb3duLmNvbHVtblxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChmcmFtZS5vcmlnICYmIGZyYW1lLm9yaWcuc291cmNlKSB7XG5cdFx0XHRcdGZyYW1lLmxpbmU9ZnJhbWUub3JpZy5saW5lO1xuXHRcdFx0XHRmcmFtZS5jb2x1bW49ZnJhbWUub3JpZy5jb2x1bW47XG5cdFx0XHRcdGZyYW1lLm5hbWU9ZnJhbWUub3JpZy5uYW1lO1xuXHRcdFx0XHRpZiAoc291cmNlUm9vdClcblx0XHRcdFx0XHRmcmFtZS5maWxlPXBhdGgucmVsYXRpdmUoc291cmNlUm9vdCxmcmFtZS5vcmlnLnNvdXJjZSk7XG5cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdGZyYW1lLmZpbGU9ZnJhbWUub3JpZy5zb3VyY2U7XG5cblx0XHRcdFx0aWYgKGZyYW1lLm9yaWcuc291cmNlLmluY2x1ZGVzKFwibm9kZV9tb2R1bGVzXCIpIHx8XG5cdFx0XHRcdFx0XHRmcmFtZS5maWxlLnN0YXJ0c1dpdGgoXCIuLlwiKSlcblx0XHRcdFx0XHRmcmFtZS5ub2lzeT10cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICghZnJhbWUub3JpZyB8fCAhZnJhbWUub3JpZy5zb3VyY2UpIHtcblx0XHRcdGZyYW1lLmZpbGU9ZnJhbWUudGhyb3duLmZpbGU7XG5cdFx0XHRmcmFtZS5uYW1lPWZyYW1lLnRocm93bi5tZXRob2ROYW1lO1xuXHRcdFx0ZnJhbWUubGluZT1mcmFtZS50aHJvd24ubGluZU51bWJlcjtcblx0XHRcdGZyYW1lLmNvbHVtbj1mcmFtZS50aHJvd24uY29sdW1uO1xuXHRcdH1cblxuXHRcdGZyYW1lcy5wdXNoKGZyYW1lKTtcblx0fVxuXG5cdHJldHVybiBmcmFtZXM7XG59IiwgImltcG9ydCB7Y3JlYXRlQ29udGV4dH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHt1c2VDb250ZXh0fSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQge0lzb1JlZkNvbnRleHR9IGZyb20gXCIuL2lzby1yZWYuanNcIjtcbmltcG9ydCB7Um91dGVyfSBmcm9tIFwiLi9yb3V0ZXIuanN4XCI7XG5pbXBvcnQge0lzb1JlZlN0YXRlfSBmcm9tIFwiLi9pc28tcmVmLmpzXCI7XG5pbXBvcnQge1JvdXRlclN0YXRlfSBmcm9tIFwiLi9yb3V0ZXIuanN4XCI7XG5pbXBvcnQge0lzb0Vycm9yQm91bmRhcnksIERlZmF1bHRFcnJvckZhbGxiYWNrfSBmcm9tIFwiLi9Jc29FcnJvckJvdW5kYXJ5LmpzeFwiO1xuaW1wb3J0IHtlcnJvckNyZWF0ZVN0YWNrRnJhbWVzfSBmcm9tIFwiLi4vdXRpbHMvZXJyb3ItdXRpbC5qc1wiO1xuaW1wb3J0IHtUcmFjZU1hcCwgb3JpZ2luYWxQb3NpdGlvbkZvcn0gZnJvbSAnQGpyaWRnZXdlbGwvdHJhY2UtbWFwcGluZyc7XG5cbmV4cG9ydCBjbGFzcyBJc29TdGF0ZSB7XG5cdGNvbnN0cnVjdG9yKHtyZWZzLCBwcm9wcywgdXJsLCBsb2NhbEZldGNoLCBzb3VyY2VSb290LCBzb3VyY2VtYXAsIGZzLCByZXF1ZXN0fT17fSkge1xuXHRcdC8vY29uc29sZS5sb2coXCJpc28gc3RhdGUgY29uc3RydWN0b3IsIHNvdXJjZW1hcD1cIitzb3VyY2VtYXApO1xuXG5cdFx0dGhpcy5pc29SZWZTdGF0ZT1uZXcgSXNvUmVmU3RhdGUoe2luaXRpYWxSZWZWYWx1ZXM6IHJlZnN9KTtcblx0XHR0aGlzLnJvdXRlclN0YXRlPW5ldyBSb3V0ZXJTdGF0ZSh7dXJsfSk7XG5cdFx0dGhpcy51cmw9dXJsO1xuXHRcdHRoaXMucHJvcHM9cHJvcHM7XG5cdFx0dGhpcy5oZWFkQ2hpbGRyZW49W107XG5cdFx0dGhpcy5sb2NhbEZldGNoPWxvY2FsRmV0Y2g7XG5cdFx0dGhpcy5lcnJvckZhbGxiYWNrPURlZmF1bHRFcnJvckZhbGxiYWNrO1xuXHRcdHRoaXMuc291cmNlUm9vdD1zb3VyY2VSb290O1xuXHRcdHRoaXMuc291cmNlbWFwPXNvdXJjZW1hcDtcblx0XHR0aGlzLmZzPWZzO1xuXHRcdHRoaXMucmVxdWVzdD1yZXF1ZXN0O1xuXHR9XG5cblx0aXNTc3IoKSB7XG5cdFx0Ly9jb25zb2xlLmxvZyhcImlzIHNzciBjYWxsZWRcIik7XG5cblx0XHRyZXR1cm4gIWdsb2JhbFRoaXMud2luZG93O1xuXHR9XG5cblx0Z2V0RGF0YSgpIHtcblx0XHRyZXR1cm4gKHtcblx0XHRcdHJlZnM6IHRoaXMuaXNvUmVmU3RhdGUuZ2V0U2hhcmVkUmVmVmFsdWVzKCksXG5cdFx0XHRwcm9wczogdGhpcy5wcm9wc1xuXHRcdH0pO1xuXHR9XG5cblx0ZmV0Y2g9YXN5bmMgKHVybCwgb3B0aW9ucz17fSk9Pntcblx0XHRpZiAodGhpcy5pc1NzcigpICYmIHVybC5zdGFydHNXaXRoKFwiL1wiKSAmJiB0aGlzLmxvY2FsRmV0Y2gpIHtcblx0XHRcdHVybD1uZXcgVVJMKHRoaXMucmVxdWVzdC51cmwpLm9yaWdpbit1cmw7XG5cdFx0XHRsZXQgcmVxdWVzdD1uZXcgUmVxdWVzdCh1cmwudG9TdHJpbmcoKSxvcHRpb25zKTtcblxuXHRcdFx0aWYgKHRoaXMucmVxdWVzdC5oZWFkZXJzLmdldChcImNvb2tpZVwiKSlcblx0XHRcdFx0cmVxdWVzdC5oZWFkZXJzLnNldChcImNvb2tpZVwiLHRoaXMucmVxdWVzdC5oZWFkZXJzLmdldChcImNvb2tpZVwiKSk7XG5cblx0XHRcdGxldCBsb2NhbEZldGNoUmVzcG9uc2U9YXdhaXQgdGhpcy5sb2NhbEZldGNoKHJlcXVlc3QpO1xuXHRcdFx0aWYgKGxvY2FsRmV0Y2hSZXNwb25zZS5zdGF0dXMhPTIwMCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcIioqKioqKiBsb2NhbCBmZXRjaCBmYWlsZWRcIik7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coXCJsb2NhbCBmZXRjaCByZXF1ZXN0OiBcIixyZXEpO1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKFwibG9jYWwgZmV0Y2ggcmVxdWVzdDogXCIsbG9jYWxGZXRjaFJlc3BvbnNlKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxvY2FsRmV0Y2hSZXNwb25zZTtcblx0XHR9XG5cblx0XHRpZiAodXJsLnN0YXJ0c1dpdGgoXCIvXCIpKVxuXHRcdFx0dXJsPW5ldyBVUkwodGhpcy51cmwpLm9yaWdpbit1cmw7XG5cblx0XHRyZXR1cm4gYXdhaXQgZ2xvYmFsVGhpcy5mZXRjaCh1cmwsb3B0aW9ucyk7XG5cdH1cblxuXHRhc3luYyBwcm9jZXNzRXJyb3IoZXJyb3IpIHtcblx0XHRlcnJvci5zdGFja0ZyYW1lcz1hd2FpdCBlcnJvckNyZWF0ZVN0YWNrRnJhbWVzKHtcblx0XHRcdHN0YWNrOiBlcnJvci5zdGFjaywgXG5cdFx0XHRzb3VyY2VSb290OiB0aGlzLnNvdXJjZVJvb3QsXG5cdFx0XHRzb3VyY2VtYXA6IHRoaXMuc291cmNlbWFwLFxuXHRcdFx0ZnM6IHRoaXMuZnMsXG5cdFx0fSk7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUlzb1N0YXRlKHtyZWZzLCBwcm9wcywgdXJsfT17fSkge1xuXHRyZXR1cm4gbmV3IElzb1N0YXRlKHtyZWZzLCBwcm9wcywgdXJsfSk7XG59XG5cbmV4cG9ydCBjb25zdCBJc29Db250ZXh0PWNyZWF0ZUNvbnRleHQoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUlzb0NvbnRleHQoKSB7XG5cdHJldHVybiB1c2VDb250ZXh0KElzb0NvbnRleHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSXNvQ29udGV4dFByb3ZpZGVyKHtpc29TdGF0ZSwgY2hpbGRyZW59KSB7XG5cdC8qcmV0dXJuIChcblx0XHQ8SXNvQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17aXNvU3RhdGV9PlxuXHRcdFx0XHRcdFx0e2NoaWxkcmVufVxuXHRcdDwvSXNvQ29udGV4dC5Qcm92aWRlcj5cblx0KTsqL1xuXG5cdHJldHVybiAoXG5cdFx0PElzb0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2lzb1N0YXRlfT5cblx0XHRcdDxJc29FcnJvckJvdW5kYXJ5IGZhbGxiYWNrPXtEZWZhdWx0RXJyb3JGYWxsYmFja30+XG5cdFx0XHRcdDxJc29SZWZDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtpc29TdGF0ZS5pc29SZWZTdGF0ZX0+XG5cdFx0XHRcdFx0PFJvdXRlciByb3V0ZXJTdGF0ZT17aXNvU3RhdGUucm91dGVyU3RhdGV9PlxuXHRcdFx0XHRcdFx0e2NoaWxkcmVufVxuXHRcdFx0XHRcdDwvUm91dGVyPlxuXHRcdFx0XHQ8L0lzb1JlZkNvbnRleHQuUHJvdmlkZXI+XG5cdFx0XHQ8L0lzb0Vycm9yQm91bmRhcnk+XG5cdFx0PC9Jc29Db250ZXh0LlByb3ZpZGVyPlxuXHQpO1xufVxuIiwgImltcG9ydCB7dXNlUmVkaXJlY3R9IGZyb20gXCIuL3JvdXRlci5qc3hcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIExpbmsoe2hyZWYsIHRvLCAuLi5wcm9wc30pIHtcblx0aWYgKHRvICYmICFocmVmKVxuXHRcdGhyZWY9dG87XG5cblx0bGV0IHJlZGlyZWN0PXVzZVJlZGlyZWN0KCk7XG5cdGxldCBFbGVtZW50PVwiYVwiO1xuXG5cdGZ1bmN0aW9uIG9uTGlua0NsaWNrKGV2KSB7XG5cdFx0aWYgKHByb3BzLm9uQ2xpY2spXG5cdFx0XHRwcm9wcy5vbkNsaWNrKGV2KTtcblxuXHRcdGlmIChwcm9wcy5vbmNsaWNrKVxuXHRcdFx0cHJvcHMub25jbGljayhldik7XG5cblx0XHRpZiAoZXYuZGVmYXVsdFByZXZlbnRlZClcblx0XHRcdHJldHVybjtcblxuXHRcdGV2LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0aWYgKGhyZWYpXG5cdFx0XHRyZWRpcmVjdChocmVmKTtcblx0fVxuXG5cdHJldHVybiA8RWxlbWVudCBocmVmPXtocmVmfSB7Li4ucHJvcHN9IG9uQ2xpY2s9e29uTGlua0NsaWNrfT57cHJvcHMuY2hpbGRyZW59PC9FbGVtZW50PlxufVxuIiwgImltcG9ydCB7dXNlSXNvUmVmLCBMaW5rLCBSb3V0ZSwgSXNvRXJyb3JCb3VuZGFyeX0gZnJvbSBcImlzb3FcIjtcblxuZnVuY3Rpb24gUGFnZW9uZSgpIHtcblx0cmV0dXJuIDxkaXY+VGhpcyBpcyBwYWdlIG9uZTwvZGl2Pjtcbn1cblxuZnVuY3Rpb24gUGFnZXR3bygpIHtcblx0dGhyb3cgbmV3IEVycm9yKFwidGhpcyBpcyBhbiBlcnJvci4uLlwiKTtcblx0cmV0dXJuIDxkaXY+VGhpcyBpcyBwYWdlIHR3bzwvZGl2Pjtcbn1cblxuZnVuY3Rpb24gRXJyb3JGYWxsYmFjayh7ZXJyb3J9KSB7XG5cdHJldHVybiA8ZGl2PlRoZXJlIGlzIGFuIGVycm9yOiB7ZXJyb3IubWVzc2FnZX08L2Rpdj5cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oe2hlbGxvfSkge1xuXHRsZXQgcmVmPXVzZUlzb1JlZigpO1xuXHRpZiAoIXJlZi5jdXJyZW50KSB7XG5cdFx0Ly9jb25zb2xlLmxvZyhcInNldHRpbmcgcmVmLmN1cnJlbnRcIik7XG5cdFx0cmVmLmN1cnJlbnQ9MTIzO1xuXHR9XG5cblx0Ly90aHJvdyBuZXcgRXJyb3IoXCJub3BlLi4uXCIpO1xuXHQvKlx0PElzb0Vycm9yQm91bmRhcnkgZmFsbGJhY2s9e0Vycm9yRmFsbGJhY2t9PlxuXHRcdDwvSXNvRXJyb3JCb3VuZGFyeT4qL1xuXG5cdHJldHVybiAoPD5cblx0XHRcdHJlZjoge3JlZi5jdXJyZW50fVxuXHRcdFx0aGVsbG86IHtoZWxsb31cblx0XHRcdDxkaXY+XG5cdFx0XHRcdDxMaW5rIGhyZWY9XCIvcGFnZW9uZVwiPk9uZTwvTGluaz5cblx0XHRcdFx0PExpbmsgaHJlZj1cIi9wYWdldHdvXCI+VHdvPC9MaW5rPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8Um91dGUgcGF0aD1cIi9wYWdlb25lXCI+PFBhZ2VvbmUvPjwvUm91dGU+XG5cdFx0XHQ8Um91dGUgcGF0aD1cIi9wYWdldHdvXCI+PFBhZ2V0d28vPjwvUm91dGU+XG5cdDwvPik7XG59XG5cbiIsICJcblxuLy9cbi8vIFRoaXMgZmlsZSBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZC5cbi8vXG4vLyBEb24ndCBlZGl0IHRoaXMgZmlsZSwgYW5kIGRvbid0IHB1dCBpdCB1bmRlciB2ZXJzaW9uIGNvbnRyb2whXG4vL1xuXG5pbXBvcnQge0lzb1N0YXRlLCBJc29Db250ZXh0UHJvdmlkZXIsIElzb0NvbnRleHR9IGZyb20gXCJpc29xXCI7XG5pbXBvcnQge2h5ZHJhdGUsIGNyZWF0ZUVsZW1lbnQsIHJlbmRlcn0gZnJvbSBcInByZWFjdFwiO1xuLy9pbXBvcnQge3JlbmRlclRvU3RyaW5nQXN5bmN9IGZyb20gXCJwcmVhY3QtcmVuZGVyLXRvLXN0cmluZ1wiO1xuXG5pbXBvcnQgRW50cnlwb2ludCBmcm9tIFwiL2hvbWUvbWlja2UvUmVwby9pc29xL2V4YW1wbGVzL2Jhc2ljL2luZGV4LmpzeFwiXG5jb25zdCBfX3dyYXBwZXJzPVtdO1xuY29uc3Qgb3B0aW9ucz17XCJzb3VyY2VSb290XCI6XCIvaG9tZS9taWNrZS9SZXBvL2lzb3EvZXhhbXBsZXMvYmFzaWNcIixcInNvdXJjZW1hcFwiOnRydWV9O1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUlzb1N0YXRlKGlzb1N0YXRlUGFyYW1zKSB7XG5cdHJldHVybiBuZXcgSXNvU3RhdGUoe1xuXHRcdHNvdXJjZVJvb3Q6IG9wdGlvbnMuc291cmNlUm9vdCxcblx0XHRzb3VyY2VtYXA6IG9wdGlvbnMuc291cmNlbWFwLFxuXHRcdC4uLmlzb1N0YXRlUGFyYW1zXG5cdH0pO1xufVxuXG5mdW5jdGlvbiBFbGVtZW50KHtpc29TdGF0ZX0pIHtcblx0bGV0IGNvbnRlbnQ9PEVudHJ5cG9pbnQgey4uLmlzb1N0YXRlLnByb3BzfS8+O1xuXHRmb3IgKGxldCBXIG9mIFsuLi5fX3dyYXBwZXJzXS5yZXZlcnNlKCkpXG5cdFx0Y29udGVudD08VyB7Li4uaXNvU3RhdGUucHJvcHN9Pntjb250ZW50fTwvVz5cblxuXHRyZXR1cm4gKFxuXHRcdDxJc29Db250ZXh0UHJvdmlkZXIgaXNvU3RhdGU9e2lzb1N0YXRlfT5cblx0XHRcdHtjb250ZW50fVxuXHRcdDwvSXNvQ29udGV4dFByb3ZpZGVyPlxuXHQpO1xufVxuXG5pZiAoZ2xvYmFsVGhpcy53aW5kb3cgJiYgZ2xvYmFsVGhpcy53aW5kb3cuX19pc28pIHtcblx0bGV0IGlzb1N0YXRlPWNyZWF0ZUlzb1N0YXRlKHtcblx0XHRyZWZzOiBnbG9iYWxUaGlzLndpbmRvdy5fX2lzby5yZWZzLFxuXHRcdHByb3BzOiBnbG9iYWxUaGlzLndpbmRvdy5fX2lzby5wcm9wcyxcblx0XHR1cmw6IGdsb2JhbFRoaXMud2luZG93LmxvY2F0aW9uLFxuXHR9KTtcblxuXHRsZXQgZWxlbWVudD08RWxlbWVudCBpc29TdGF0ZT17aXNvU3RhdGV9Lz5cblx0aHlkcmF0ZShlbGVtZW50LGdsb2JhbFRoaXMud2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaXNvcVwiKSk7XG5cdC8vcmVuZGVyKGVsZW1lbnQsZ2xvYmFsVGhpcy53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpc29xXCIpKTtcbn1cblxuIl0sCiAgIm1hcHBpbmdzIjogIjJ2QkFDQSxJQUFNQSxFQUFjLGlCQVlkQyxFQUFXLDJFQVdYQyxFQUFZLGtFQXVCbEIsU0FBU0MsRUFBY0MsRUFBYSxDQUNsQyxPQUFPSixFQUFZLEtBQUtJLENBQUssQ0FDL0IsQ0FFQSxTQUFTQyxFQUFvQkQsRUFBYSxDQUN4QyxPQUFPQSxFQUFNLFdBQVcsSUFBSSxDQUM5QixDQUVBLFNBQVNFLEVBQWVGLEVBQWEsQ0FDbkMsT0FBT0EsRUFBTSxXQUFXLEdBQUcsQ0FDN0IsQ0FFQSxTQUFTRyxFQUFVSCxFQUFhLENBQzlCLE9BQU9BLEVBQU0sV0FBVyxPQUFPLENBQ2pDLENBRUEsU0FBU0ksRUFBV0osRUFBYSxDQUMvQixNQUFPLFNBQVMsS0FBS0EsQ0FBSyxDQUM1QixDQUVBLFNBQVNLLEVBQWlCTCxFQUFhLENBQ3JDLElBQU1NLEVBQVFULEVBQVMsS0FBS0csQ0FBSyxFQUNqQyxPQUFPTyxFQUNMRCxFQUFNLENBQUMsRUFDUEEsRUFBTSxDQUFDLEdBQUssR0FDWkEsRUFBTSxDQUFDLEVBQ1BBLEVBQU0sQ0FBQyxHQUFLLEdBQ1pBLEVBQU0sQ0FBQyxHQUFLLElBQ1pBLEVBQU0sQ0FBQyxHQUFLLEdBQ1pBLEVBQU0sQ0FBQyxHQUFLLEVBQUUsQ0FFbEIsQ0FFQSxTQUFTRSxFQUFhUixFQUFhLENBQ2pDLElBQU1NLEVBQVFSLEVBQVUsS0FBS0UsQ0FB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QUFLLFdBQVcsT0FBTyxRQUN4QixDQUFDLEVBR0RVLEdBRFlKLEVBQUNILEdBQUEsQ0FBUSxTQUFVQyxFQUFTLEVBQ3hCLFdBQVcsT0FBTyxTQUFTLGVBQWUsTUFBTSxDQUFDLENBRWxFIiwKICAibmFtZXMiOiBbInNjaGVtZVJlZ2V4IiwgInVybFJlZ2V4IiwgImZpbGVSZWdleCIsICJpc0Fic29sdXRlVXJsIiwgImlucHV0IiwgImlzU2NoZW1lUmVsYXRpdmVVcmwiLCAiaXNBYnNvbHV0ZVBhdGgiLCAiaXNGaWxlVXJsIiwgImlzUmVsYXRpdmUiLCAicGFyc2VBYnNvbHV0ZVVybCIsICJtYXRjaCIsICJtYWtlVXJsIiwgInBhcnNlRmlsZVVybCIsICJwYXRoIiwgInNjaGVtZSIsICJ1c2VyIiwgImhvc3QiLCAicG9ydCIsICJxdWVyeSIsICJoYXNoIiwgInBhcnNlVXJsIiwgInVybCIsICJzdHJpcFBhdGhGaWxlbmFtZSIsICJpbmRleCIsICJtZXJnZVBhdGhzIiwgImJhc2UiLCAibm9ybWFsaXplUGF0aCIsICJ0eXBlIiwgInJlbCIsICJwaWVjZXMiLCAicG9pbnRlciIsICJwb3NpdGl2ZSIsICJhZGRUcmFpbGluZ1NsYXNoIiwgImkiLCAicGllY2UiLCAicmVzb2x2ZSIsICJpbnB1dFR5cGUiLCAiYmFzZVVybCIsICJiYXNlVHlwZSIsICJxdWVyeUhhc2giLCAicmVxdWlyZV9wYXRoX2Jyb3dzZXJpZnkiLCAiX19jb21tb25KU01pbiIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJhc3NlcnRQYXRoIiwgInBhdGgiLCAibm9ybWFsaXplU3RyaW5nUG9zaXgiLCAiYWxsb3dBYm92ZVJvb3QiLCAicmVzIiwgImxhc3RTZWdtZW50TGVuZ3RoIiwgImxhc3RTbGFzaCIsICJkb3RzIiwgImNvZGUiLCAiaSIsICJsYXN0U2xhc2hJbmRleCIsICJfZm9ybWF0IiwgInNlcCIsICJwYXRoT2JqZWN0IiwgImRpciIsICJiYXNlIiwgInBvc2l4IiwgInJlc29sdmVkUGF0aCIsICJyZXNvbHZlZEFic29sdXRlIiwgImN3ZCIsICJpc0Fic29sdXRlIiwgInRyYWlsaW5nU2VwYXJhdG9yIiwgImpvaW5lZCIsICJhcmciLCAiZnJvbSIsICJ0byIsICJmcm9tU3RhcnQiLCAiZnJvbUVuZCIsICJmcm9tTGVuIiwgInRvU3RhcnQiLCAidG9FbmQiLCAidG9MZW4iLCAibGVuZ3RoIiwgImxhc3RDb21tb25TZXAiLCAiZnJvbUNvZGUiLCAidG9Db2RlIiwgIm91dCIsICJoYXNSb290IiwgImVuZCIsICJtYXRjaGVkU2xhc2giLCAiZXh0IiwgInN0YXJ0IiwgImV4dElkeCIsICJmaXJzdE5vblNsYXNoRW5kIiwgInN0YXJ0RG90IiwgInN0YXJ0UGFydCIsICJwcmVEb3RTdGF0ZSIsICJyZXQiLCAic2xpY2UiLCAib3B0aW9ucyIsICJ2bm9kZUlkIiwgImlzVmFsaWRFbGVtZW50IiwgInJlcmVuZGVyUXVldWUiLCAicHJldkRlYm91bmNlIiwgImRlZmVyIiwgImRlcHRoU29ydCIsICJDQVBUVVJFX1JFR0VYIiwgImV2ZW50Q2xvY2siLCAiZXZlbnRQcm94eSIsICJldmVudFByb3h5Q2FwdHVyZSIsICJpIiwgIkVNUFRZX09CSiIsICJFTVBUWV9BUlIiLCAiSVNfTk9OX0RJTUVOU0lPTkFMIiwgImlzQXJyYXkiLCAiQXJyYXkiLCAiYXNzaWduIiwgIm9iaiIsICJwcm9wcyIsICJyZW1vdmVOb2RlIiwgIm5vZGUiLCAicGFyZW50Tm9kZSIsICJyZW1vdmVDaGlsZCIsICJjcmVhdGVFbGVtZW50IiwgInR5cGUiLCAiY2hpbGRyZW4iLCAia2V5IiwgInJlZiIsICJub3JtYWxpemVkUHJvcHMiLCAiYXJndW1lbnRzIiwgImxlbmd0aCIsICJjYWxsIiwgImRlZmF1bHRQcm9wcyIsICJjcmVhdGVWTm9kZSIsICJvcmlnaW5hbCIsICJ2bm9kZSIsICJfX2siLCAiX18iLCAiX19iIiwgIl9fZSIsICJfX2MiLCAiY29uc3RydWN0b3IiLCAiX192IiwgIl9faSIsICJfX3UiLCAiRnJhZ21lbnQiLCAicHJvcHMiLCAiY2hpbGRyZW4iLCAiQmFzZUNvbXBvbmVudCIsICJjb250ZXh0IiwgInRoaXMiLCAiZ2V0RG9tU2libGluZyIsICJ2bm9kZSIsICJjaGlsZEluZGV4IiwgIl9fIiwgIl9faSIsICJzaWJsaW5nIiwgIl9fayIsICJsZW5ndGgiLCAiX19lIiwgInR5cGUiLCAidXBkYXRlUGFyZW50RG9tUG9pbnRlcnMiLCAiaSIsICJjaGlsZCIsICJfX2MiLCAiYmFzZSIsICJlbnF1ZXVlUmVuZGVyIiwgImMiLCAiX19kIiwgInJlcmVuZGVyUXVldWUiLCAicHVzaCIsICJwcm9jZXNzIiwgIl9fciIsICJwcmV2RGVib3VuY2UiLCAib3B0aW9ucyIsICJkZWJvdW5jZVJlbmRlcmluZyIsICJkZWZlciIsICJjb21wb25lbnQiLCAibmV3Vk5vZGUiLCAib2xkVk5vZGUiLCAib2xkRG9tIiwgImNvbW1pdFF1ZXVlIiwgInJlZlF1ZXVlIiwgImwiLCAic29ydCIsICJkZXB0aFNvcnQiLCAic2hpZnQiLCAiX192IiwgIl9fUCIsICJhc3NpZ24iLCAiZGlmZiIsICJfX24iLCAibmFtZXNwYWNlVVJJIiwgIl9fdSIsICJjb21taXRSb290IiwgImRpZmZDaGlsZHJlbiIsICJwYXJlbnREb20iLCAicmVuZGVyUmVzdWx0IiwgIm5ld1BhcmVudFZOb2RlIiwgIm9sZFBhcmVudFZOb2RlIiwgImdsb2JhbENvbnRleHQiLCAibmFtZXNwYWNlIiwgImV4Y2Vzc0RvbUNoaWxkcmVuIiwgImlzSHlkcmF0aW5nIiwgImNoaWxkVk5vZGUiLCAibmV3RG9tIiwgImZpcnN0Q2hpbGREb20iLCAicmVzdWx0IiwgIm9sZENoaWxkcmVuIiwgIkVNUFRZX0FSUiIsICJuZXdDaGlsZHJlbkxlbmd0aCIsICJjb25zdHJ1Y3ROZXdDaGlsZHJlbkFycmF5IiwgIkVNUFRZX09CSiIsICJyZWYiLCAiYXBwbHlSZWYiLCAiaW5zZXJ0IiwgIm5leHRTaWJsaW5nIiwgInNrZXdlZEluZGV4IiwgIm1hdGNoaW5nSW5kZXgiLCAib2xkQ2hpbGRyZW5MZW5ndGgiLCAicmVtYWluaW5nT2xkQ2hpbGRyZW4iLCAic2tldyIsICJBcnJheSIsICJjb25zdHJ1Y3RvciIsICJTdHJpbmciLCAiY3JlYXRlVk5vZGUiLCAiaXNBcnJheSIsICJ1bmRlZmluZWQiLCAiX19iIiwgImtleSIsICJmaW5kTWF0Y2hpbmdJbmRleCIsICJ1bm1vdW50IiwgInBhcmVudFZOb2RlIiwgImNvbnRhaW5zIiwgImluc2VydEJlZm9yZSIsICJub2RlVHlwZSIsICJ0b0NoaWxkQXJyYXkiLCAib3V0IiwgInNvbWUiLCAieCIsICJ5IiwgIm1hdGNoZWQiLCAic2hvdWxkU2VhcmNoIiwgInNldFN0eWxlIiwgInN0eWxlIiwgInZhbHVlIiwgInNldFByb3BlcnR5IiwgIklTX05PTl9ESU1FTlNJT05BTCIsICJ0ZXN0IiwgImRvbSIsICJuYW1lIiwgIm9sZFZhbHVlIiwgInVzZUNhcHR1cmUiLCAibG93ZXJDYXNlTmFtZSIsICJvIiwgImNzc1RleHQiLCAicmVwbGFjZSIsICJDQVBUVVJFX1JFR0VYIiwgInRvTG93ZXJDYXNlIiwgInNsaWNlIiwgIl9hdHRhY2hlZCIsICJldmVudENsb2NrIiwgImFkZEV2ZW50TGlzdGVuZXIiLCAiZXZlbnRQcm94eUNhcHR1cmUiLCAiZXZlbnRQcm94eSIsICJyZW1vdmVFdmVudExpc3RlbmVyIiwgImUiLCAicmVtb3ZlQXR0cmlidXRlIiwgInNldEF0dHJpYnV0ZSIsICJjcmVhdGVFdmVudFByb3h5IiwgImV2ZW50SGFuZGxlciIsICJfZGlzcGF0Y2hlZCIsICJldmVudCIsICJ0bXAiLCAiaXNOZXciLCAib2xkUHJvcHMiLCAib2xkU3RhdGUiLCAic25hcHNob3QiLCAiY2xlYXJQcm9jZXNzaW5nRXhjZXB0aW9uIiwgIm5ld1Byb3BzIiwgImlzQ2xhc3NDb21wb25lbnQiLCAicHJvdmlkZXIiLCAiY29tcG9uZW50Q29udGV4dCIsICJyZW5kZXJIb29rIiwgImNvdW50IiwgIm5ld1R5cGUiLCAib3V0ZXIiLCAicHJvdG90eXBlIiwgInJlbmRlciIsICJjb250ZXh0VHlwZSIsICJfX0UiLCAiZG9SZW5kZXIiLCAic3ViIiwgInN0YXRlIiwgIl9faCIsICJfc2IiLCAiX19zIiwgImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsICJjb21wb25lbnRXaWxsTW91bnQiLCAiY29tcG9uZW50RGlkTW91bnQiLCAiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsICJzaG91bGRDb21wb25lbnRVcGRhdGUiLCAiY29tcG9uZW50V2lsbFVwZGF0ZSIsICJjb21wb25lbnREaWRVcGRhdGUiLCAiZ2V0Q2hpbGRDb250ZXh0IiwgImdldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwgImNsb25lTm9kZSIsICJ0aGVuIiwgIk1PREVfSFlEUkFURSIsICJpbmRleE9mIiwgInJlbW92ZU5vZGUiLCAibWFya0FzRm9yY2UiLCAiZGlmZkVsZW1lbnROb2RlcyIsICJkaWZmZWQiLCAiZm9yRWFjaCIsICJyb290IiwgImNiIiwgImNhbGwiLCAibm9kZSIsICJtYXAiLCAibmV3SHRtbCIsICJvbGRIdG1sIiwgIm5ld0NoaWxkcmVuIiwgImlucHV0VmFsdWUiLCAiY2hlY2tlZCIsICJsb2NhbE5hbWUiLCAiZG9jdW1lbnQiLCAiY3JlYXRlVGV4dE5vZGUiLCAiY3JlYXRlRWxlbWVudE5TIiwgImlzIiwgIl9fbSIsICJkYXRhIiwgImNoaWxkTm9kZXMiLCAiYXR0cmlidXRlcyIsICJfX2h0bWwiLCAiaW5uZXJIVE1MIiwgImNvbnRlbnQiLCAiaGFzUmVmVW5tb3VudCIsICJjdXJyZW50IiwgInNraXBSZW1vdmUiLCAiciIsICJjb21wb25lbnRXaWxsVW5tb3VudCIsICJyZXBsYWNlTm9kZSIsICJkb2N1bWVudEVsZW1lbnQiLCAiY3JlYXRlRWxlbWVudCIsICJmaXJzdENoaWxkIiwgImh5ZHJhdGUiLCAiY3JlYXRlQ29udGV4dCIsICJkZWZhdWx0VmFsdWUiLCAiQ29udGV4dCIsICJwcm9wcyIsICJzdWJzIiwgImN0eCIsICJ0aGlzIiwgImdldENoaWxkQ29udGV4dCIsICJTZXQiLCAiX19jIiwgImNvbXBvbmVudFdpbGxVbm1vdW50IiwgInNob3VsZENvbXBvbmVudFVwZGF0ZSIsICJfcHJvcHMiLCAidmFsdWUiLCAiZm9yRWFjaCIsICJjIiwgIl9fZSIsICJlbnF1ZXVlUmVuZGVyIiwgInN1YiIsICJhZGQiLCAib2xkIiwgImRlbGV0ZSIsICJjYWxsIiwgImNoaWxkcmVuIiwgImkiLCAiX18iLCAiUHJvdmlkZXIiLCAiX19sIiwgIkNvbnN1bWVyIiwgImNvbnRleHRWYWx1ZSIsICJjb250ZXh0VHlwZSIsICJzbGljZSIsICJFTVBUWV9BUlIiLCAib3B0aW9ucyIsICJlcnJvciIsICJ2bm9kZSIsICJvbGRWTm9kZSIsICJlcnJvckluZm8iLCAiY29tcG9uZW50IiwgImN0b3IiLCAiaGFuZGxlZCIsICJjb25zdHJ1Y3RvciIsICJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCAic2V0U3RhdGUiLCAiX19kIiwgImNvbXBvbmVudERpZENhdGNoIiwgIl9fRSIsICJlIiwgInZub2RlSWQiLCAiaXNWYWxpZEVsZW1lbnQiLCAidW5kZWZpbmVkIiwgIkJhc2VDb21wb25lbnQiLCAicHJvdG90eXBlIiwgInVwZGF0ZSIsICJjYWxsYmFjayIsICJzIiwgIl9fcyIsICJzdGF0ZSIsICJhc3NpZ24iLCAiX192IiwgIl9zYiIsICJwdXNoIiwgImZvcmNlVXBkYXRlIiwgIl9faCIsICJyZW5kZXIiLCAiRnJhZ21lbnQiLCAicmVyZW5kZXJRdWV1ZSIsICJkZWZlciIsICJQcm9taXNlIiwgInRoZW4iLCAiYmluZCIsICJyZXNvbHZlIiwgInNldFRpbWVvdXQiLCAiZGVwdGhTb3J0IiwgImEiLCAiYiIsICJfX2IiLCAicHJvY2VzcyIsICJfX3IiLCAiQ0FQVFVSRV9SRUdFWCIsICJldmVudENsb2NrIiwgImV2ZW50UHJveHkiLCAiY3JlYXRlRXZlbnRQcm94eSIsICJldmVudFByb3h5Q2FwdHVyZSIsICJjdXJyZW50SW5kZXgiLCAiY3VycmVudENvbXBvbmVudCIsICJwcmV2aW91c0NvbXBvbmVudCIsICJwcmV2UmFmIiwgImN1cnJlbnRIb29rIiwgImFmdGVyUGFpbnRFZmZlY3RzIiwgIm9wdGlvbnMiLCAiX29wdGlvbnMiLCAib2xkQmVmb3JlRGlmZiIsICJfX2IiLCAib2xkQmVmb3JlUmVuZGVyIiwgIl9fciIsICJvbGRBZnRlckRpZmYiLCAiZGlmZmVkIiwgIm9sZENvbW1pdCIsICJfX2MiLCAib2xkQmVmb3JlVW5tb3VudCIsICJ1bm1vdW50IiwgIm9sZFJvb3QiLCAiX18iLCAiZ2V0SG9va1N0YXRlIiwgImluZGV4IiwgInR5cGUiLCAiX19oIiwgImhvb2tzIiwgIl9fSCIsICJsZW5ndGgiLCAicHVzaCIsICJ1c2VTdGF0ZSIsICJpbml0aWFsU3RhdGUiLCAidXNlUmVkdWNlciIsICJpbnZva2VPclJldHVybiIsICJyZWR1Y2VyIiwgImluaXQiLCAiaG9va1N0YXRlIiwgIl9yZWR1Y2VyIiwgImFjdGlvbiIsICJjdXJyZW50VmFsdWUiLCAiX19OIiwgIm5leHRWYWx1ZSIsICJzZXRTdGF0ZSIsICJfX2YiLCAidXBkYXRlSG9va1N0YXRlIiwgInAiLCAicyIsICJjIiwgInN0YXRlSG9va3MiLCAiZmlsdGVyIiwgIngiLCAiZXZlcnkiLCAicHJldlNjdSIsICJjYWxsIiwgInRoaXMiLCAic2hvdWxkVXBkYXRlIiwgInByb3BzIiwgImZvckVhY2giLCAiaG9va0l0ZW0iLCAic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwgInByZXZDV1UiLCAiY29tcG9uZW50V2lsbFVwZGF0ZSIsICJfX2UiLCAidG1wIiwgInVzZUVmZmVjdCIsICJjYWxsYmFjayIsICJhcmdzIiwgInN0YXRlIiwgIl9fcyIsICJhcmdzQ2hhbmdlZCIsICJfcGVuZGluZ0FyZ3MiLCAidXNlTGF5b3V0RWZmZWN0IiwgInVzZVJlZiIsICJpbml0aWFsVmFsdWUiLCAidXNlTWVtbyIsICJjdXJyZW50IiwgInVzZU1lbW8iLCAiZmFjdG9yeSIsICJhcmdzIiwgInN0YXRlIiwgImdldEhvb2tTdGF0ZSIsICJjdXJyZW50SW5kZXgiLCAiYXJnc0NoYW5nZWQiLCAiX19IIiwgIl9fIiwgIl9faCIsICJ1c2VDYWxsYmFjayIsICJjYWxsYmFjayIsICJjdXJyZW50SG9vayIsICJ1c2VDb250ZXh0IiwgImNvbnRleHQiLCAicHJvdmlkZXIiLCAiY3VycmVudENvbXBvbmVudCIsICJfX2MiLCAiYyIsICJzdWIiLCAicHJvcHMiLCAidmFsdWUiLCAiZmx1c2hBZnRlclBhaW50RWZmZWN0cyIsICJjb21wb25lbnQiLCAiYWZ0ZXJQYWludEVmZmVjdHMiLCAic2hpZnQiLCAiX19QIiwgIl9fSCIsICJfX2giLCAiZm9yRWFjaCIsICJpbnZva2VDbGVhbnVwIiwgImludm9rZUVmZmVjdCIsICJlIiwgIm9wdGlvbnMiLCAiX19lIiwgIl9fdiIsICJfX2IiLCAidm5vZGUiLCAiY3VycmVudENvbXBvbmVudCIsICJvbGRCZWZvcmVEaWZmIiwgIl9fIiwgInBhcmVudERvbSIsICJfX2siLCAiX19tIiwgIm9sZFJvb3QiLCAiX19yIiwgIm9sZEJlZm9yZVJlbmRlciIsICJjdXJyZW50SW5kZXgiLCAiaG9va3MiLCAiX19jIiwgInByZXZpb3VzQ29tcG9uZW50IiwgImhvb2tJdGVtIiwgIl9fTiIsICJfcGVuZGluZ0FyZ3MiLCAiZGlmZmVkIiwgIm9sZEFmdGVyRGlmZiIsICJjIiwgImxlbmd0aCIsICJwdXNoIiwgInByZXZSYWYiLCAicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwgImFmdGVyTmV4dEZyYW1lIiwgImNvbW1pdFF1ZXVlIiwgInNvbWUiLCAiZmlsdGVyIiwgImNiIiwgIm9sZENvbW1pdCIsICJ1bm1vdW50IiwgIm9sZEJlZm9yZVVubW91bnQiLCAiaGFzRXJyb3JlZCIsICJzIiwgIkhBU19SQUYiLCAiY2FsbGJhY2siLCAicmFmIiwgImRvbmUiLCAiY2xlYXJUaW1lb3V0IiwgInRpbWVvdXQiLCAiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCAic2V0VGltZW91dCIsICJob29rIiwgImNvbXAiLCAiY2xlYW51cCIsICJhcmdzQ2hhbmdlZCIsICJvbGRBcmdzIiwgIm5ld0FyZ3MiLCAiYXJnIiwgImluZGV4IiwgImludm9rZU9yUmV0dXJuIiwgImYiLCAiYXNzaWduIiwgIm9iaiIsICJwcm9wcyIsICJpIiwgInNoYWxsb3dEaWZmZXJzIiwgImEiLCAiYiIsICJ1c2VMYXlvdXRFZmZlY3QiLCAiUHVyZUNvbXBvbmVudCIsICJwIiwgImMiLCAidGhpcyIsICJwcm9wcyIsICJjb250ZXh0IiwgIlB1cmVDb21wb25lbnQiLCAicHJvdG90eXBlIiwgIkNvbXBvbmVudCIsICJpc1B1cmVSZWFjdENvbXBvbmVudCIsICJzaG91bGRDb21wb25lbnRVcGRhdGUiLCAicHJvcHMiLCAic3RhdGUiLCAic2hhbGxvd0RpZmZlcnMiLCAidGhpcyIsICJvbGREaWZmSG9vayIsICJvcHRpb25zIiwgIl9fYiIsICJ2bm9kZSIsICJ0eXBlIiwgIl9fZiIsICJyZWYiLCAiUkVBQ1RfRk9SV0FSRF9TWU1CT0wiLCAiU3ltYm9sIiwgImZvciIsICJvbGRDYXRjaEVycm9yIiwgIm9wdGlvbnMiLCAiX19lIiwgImVycm9yIiwgIm5ld1ZOb2RlIiwgIm9sZFZOb2RlIiwgImVycm9ySW5mbyIsICJ0aGVuIiwgImNvbXBvbmVudCIsICJ2bm9kZSIsICJfXyIsICJfX2MiLCAiX19rIiwgIm9sZFVubW91bnQiLCAidW5tb3VudCIsICJkZXRhY2hlZENsb25lIiwgImRldGFjaGVkUGFyZW50IiwgInBhcmVudERvbSIsICJfX0giLCAiZm9yRWFjaCIsICJlZmZlY3QiLCAiYXNzaWduIiwgIl9fUCIsICJtYXAiLCAiY2hpbGQiLCAicmVtb3ZlT3JpZ2luYWwiLCAib3JpZ2luYWxQYXJlbnQiLCAiX192IiwgImFwcGVuZENoaWxkIiwgIlN1c3BlbnNlIiwgInRoaXMiLCAiX191IiwgIl9zdXNwZW5kZXJzIiwgIl9fYiIsICJzdXNwZW5kZWQiLCAiX19hIiwgIlN1c3BlbnNlTGlzdCIsICJ0aGlzIiwgIl9uZXh0IiwgIl9tYXAiLCAib3B0aW9ucyIsICJ1bm1vdW50IiwgInZub2RlIiwgImNvbXBvbmVudCIsICJfX2MiLCAiX19SIiwgIl9fdSIsICJ0eXBlIiwgIm9sZFVubW91bnQiLCAiU3VzcGVuc2UiLCAicHJvdG90eXBlIiwgIkNvbXBvbmVudCIsICJwcm9taXNlIiwgInN1c3BlbmRpbmdWTm9kZSIsICJzdXNwZW5kaW5nQ29tcG9uZW50IiwgImMiLCAiX3N1c3BlbmRlcnMiLCAicHVzaCIsICJyZXNvbHZlIiwgInN1c3BlbmRlZCIsICJfX3YiLCAicmVzb2x2ZWQiLCAib25SZXNvbHZlZCIsICJvblN1c3BlbnNpb25Db21wbGV0ZSIsICJzdGF0ZSIsICJfX2EiLCAic3VzcGVuZGVkVk5vZGUiLCAiX19rIiwgInJlbW92ZU9yaWdpbmFsIiwgIl9fUCIsICJfX08iLCAic2V0U3RhdGUiLCAiX19iIiwgInBvcCIsICJmb3JjZVVwZGF0ZSIsICJ0aGVuIiwgImNvbXBvbmVudFdpbGxVbm1vdW50IiwgInJlbmRlciIsICJwcm9wcyIsICJkZXRhY2hlZFBhcmVudCIsICJkb2N1bWVudCIsICJjcmVhdGVFbGVtZW50IiwgImRldGFjaGVkQ29tcG9uZW50IiwgImRldGFjaGVkQ2xvbmUiLCAiZmFsbGJhY2siLCAiRnJhZ21lbnQiLCAiY2hpbGRyZW4iLCAibGlzdCIsICJjaGlsZCIsICJub2RlIiwgImRlbGV0ZSIsICJyZXZlYWxPcmRlciIsICJzaXplIiwgImxlbmd0aCIsICJTdXNwZW5zZUxpc3QiLCAicHJvdG90eXBlIiwgIkNvbXBvbmVudCIsICJfX2EiLCAiY2hpbGQiLCAibGlzdCIsICJ0aGlzIiwgImRlbGVnYXRlZCIsICJzdXNwZW5kZWQiLCAiX192IiwgIm5vZGUiLCAiX21hcCIsICJnZXQiLCAidW5zdXNwZW5kIiwgIndyYXBwZWRVbnN1c3BlbmQiLCAicHJvcHMiLCAicmV2ZWFsT3JkZXIiLCAicHVzaCIsICJyZXNvbHZlIiwgInJlbmRlciIsICJfbmV4dCIsICJNYXAiLCAiY2hpbGRyZW4iLCAidG9DaGlsZEFycmF5IiwgInJldmVyc2UiLCAiaSIsICJsZW5ndGgiLCAic2V0IiwgImNvbXBvbmVudERpZFVwZGF0ZSIsICJjb21wb25lbnREaWRNb3VudCIsICJfdGhpcyIsICJmb3JFYWNoIiwgIlJFQUNUX0VMRU1FTlRfVFlQRSIsICJTeW1ib2wiLCAiZm9yIiwgIkNBTUVMX1BST1BTIiwgIk9OX0FOSSIsICJDQU1FTF9SRVBMQUNFIiwgIklTX0RPTSIsICJkb2N1bWVudCIsICJvbkNoYW5nZUlucHV0VHlwZSIsICJ0eXBlIiwgInRlc3QiLCAiQ29tcG9uZW50IiwgInByb3RvdHlwZSIsICJpc1JlYWN0Q29tcG9uZW50IiwgImZvckVhY2giLCAia2V5IiwgIk9iamVjdCIsICJkZWZpbmVQcm9wZXJ0eSIsICJjb25maWd1cmFibGUiLCAiZ2V0IiwgInRoaXMiLCAic2V0IiwgInYiLCAid3JpdGFibGUiLCAidmFsdWUiLCAib2xkRXZlbnRIb29rIiwgIm9wdGlvbnMiLCAiZXZlbnQiLCAiZW1wdHkiLCAiaXNQcm9wYWdhdGlvblN0b3BwZWQiLCAiY2FuY2VsQnViYmxlIiwgImlzRGVmYXVsdFByZXZlbnRlZCIsICJkZWZhdWx0UHJldmVudGVkIiwgImUiLCAicGVyc2lzdCIsICJuYXRpdmVFdmVudCIsICJjdXJyZW50Q29tcG9uZW50IiwgImNsYXNzTmFtZURlc2NyaXB0b3JOb25FbnVtYmVyYWJsZSIsICJlbnVtZXJhYmxlIiwgImNsYXNzIiwgIm9sZFZOb2RlSG9vayIsICJ2bm9kZSIsICJ0eXBlIiwgInByb3BzIiwgIm5vcm1hbGl6ZWRQcm9wcyIsICJpc05vbkRhc2hlZFR5cGUiLCAiaW5kZXhPZiIsICJpIiwgIklTX0RPTSIsICJsb3dlckNhc2VkIiwgInRvTG93ZXJDYXNlIiwgIm9uQ2hhbmdlSW5wdXRUeXBlIiwgIk9OX0FOSSIsICJ0ZXN0IiwgIkNBTUVMX1BST1BTIiwgInJlcGxhY2UiLCAiQ0FNRUxfUkVQTEFDRSIsICJtdWx0aXBsZSIsICJBcnJheSIsICJpc0FycmF5IiwgInRvQ2hpbGRBcnJheSIsICJjaGlsZHJlbiIsICJjaGlsZCIsICJzZWxlY3RlZCIsICJkZWZhdWx0VmFsdWUiLCAiY2xhc3NOYW1lIiwgIiQkdHlwZW9mIiwgIlJFQUNUX0VMRU1FTlRfVFlQRSIsICJvbGRCZWZvcmVSZW5kZXIiLCAiX19yIiwgIl9fYyIsICJvbGREaWZmZWQiLCAiZGlmZmVkIiwgImRvbSIsICJfX2UiLCAiY3VycmVudFZOb2RlIiwgInJlZkluZGV4IiwgImluY2x1ZGVGbmFtZXMiLCAib2xkUmVuZGVyIiwgImwiLCAidm5vZGUiLCAidm5vZGVQYXRoIiwgIm5hbWUiLCAia2V5IiwgInBhcmVudFBhdGgiLCAidXNlUmVmSWQiLCAic3BsaXRQYXRoIiwgInBhdGhuYW1lIiwgInMiLCAibWF0Y2hQYXRoQXJyYXkiLCAicGF0aCIsICJleHByIiwgImhlbHBlciIsICJwaSIsICJlaSIsICJjYXB0dXJlcyIsICJ0b2tlbiIsICJ6ZXJvIiwgIm5leHQiLCAiY2FwdHVyZWQiLCAidXJsTWF0Y2hQYXRoIiwgInVybCIsICJ1IiwgInVybFNwbGl0IiwgInNwbGl0UGF0aCIsICJwYXRoU3BsaXQiLCAiYXJyYXlSZW1vdmUiLCAiYXJyYXkiLCAiaXRlbSIsICJpbmRleCIsICJJc29SZWZDb250ZXh0IiwgIlEiLCAiSXNvUmVmIiwgImlzb1JlZlN0YXRlIiwgImluaXRpYWxWYWx1ZSIsICJvcHRpb25zIiwgImlkIiwgImFycmF5UmVtb3ZlIiwgIklzb1JlZlN0YXRlIiwgImluaXRpYWxSZWZWYWx1ZXMiLCAiayIsICJyZWZWYWx1ZXMiLCAiSXNvU3VzcGVuc2UiLCAiY2hpbGRyZW4iLCAiZmFsbGJhY2siLCAieCIsICJyZWZJZCIsICJ1c2VSZWZJZCIsICJGYWxsYmFja1dyYXBwZXIiLCAiXyIsICJQIiwgInVzZUlzb1JlZiIsICJyZWYiLCAidXNlRXZlbnRMaXN0ZW5lciIsICJvIiwgImV2IiwgImZuIiwgIl8iLCAidXNlRXZlbnRVcGRhdGUiLCAic2V0RHVtbXlTdGF0ZSIsICJkIiwgImZvcmNlVXBkYXRlIiwgInEiLCAidm5vZGVJZCIsICJpc0FycmF5IiwgIkFycmF5IiwgImNyZWF0ZVZOb2RlIiwgInR5cGUiLCAicHJvcHMiLCAia2V5IiwgImlzU3RhdGljQ2hpbGRyZW4iLCAiX19zb3VyY2UiLCAiX19zZWxmIiwgInJlZiIsICJpIiwgIm5vcm1hbGl6ZWRQcm9wcyIsICJ2bm9kZSIsICJfX2siLCAiX18iLCAiX19iIiwgIl9fZSIsICJfX2MiLCAiY29uc3RydWN0b3IiLCAiX192IiwgIl9faSIsICJfX3UiLCAiZGVmYXVsdFByb3BzIiwgIm9wdGlvbnMiLCAiUm91dGVyQ29udGV4dCIsICJRIiwgIlJvdXRlQ29udGV4dCIsICJSb3V0ZU1hdGNoQ29udGV4dCIsICJ1c2VSZWRpcmVjdCIsICJyZWRpcmVjdGVkUmVmIiwgIkEiLCAicm91dGVyU3RhdGUiLCAieCIsICJ1cmwiLCAiUm91dGUiLCAicGF0aCIsICJjaGlsZHJlbiIsICJyb3V0ZVZhbHVlIiwgIngiLCAiUm91dGVDb250ZXh0IiwgInVybE1hdGNoUGF0aCIsICJ1IiwgIlJvdXRlTWF0Y2hDb250ZXh0IiwgIlJvdXRlclN0YXRlIiwgInVybCIsICJlIiwgIndpbiIsICJlbCIsICJoYXNoIiwgImVscyIsICJ3IiwgIkNoZWNrTW91bnQiLCAib25Nb3VudCIsICJ5IiwgIlJvdXRlciIsICJyb3V0ZXJTdGF0ZSIsICJ1c2VFdmVudFVwZGF0ZSIsICJSb3V0ZXJDb250ZXh0IiwgIklzb1N1c3BlbnNlIiwgIkRlZmF1bHRFcnJvckZhbGxiYWNrIiwgImVycm9yIiwgInNob3dOb2lzeSIsICJzZXRTaG93Tm9pc3kiLCAiZCIsICJzdHlsZSIsICJhU3R5bGUiLCAidSIsICJmIiwgIkVycm9yQm91bmRhcnkiLCAieCIsICJwcm9wcyIsICJpbmZvIiwgIl8iLCAic3RhdGUiLCAiSXNvRXJyb3JCb3VuZGFyeSIsICJmYWxsYmFjayIsICJjaGlsZHJlbiIsICJzZXRFcnJvciIsICJpc28iLCAidXNlSXNvQ29udGV4dCIsICJoYW5kbGVFcnJvciIsICJlIiwgInRtcEVycm9yIiwgIkZhbGxiYWNrIiwgIlVOS05PV05fRlVOQ1RJT04iLCAicGFyc2UiLCAic3RhY2tTdHJpbmciLCAibGluZXMiLCAic3RhY2siLCAibGluZSIsICJwYXJzZVJlc3VsdCIsICJwYXJzZUNocm9tZSIsICJwYXJzZVdpbmpzIiwgInBhcnNlR2Vja28iLCAicGFyc2VOb2RlIiwgInBhcnNlSlNDIiwgImNocm9tZVJlIiwgImNocm9tZUV2YWxSZSIsICJwYXJ0cyIsICJpc05hdGl2ZSIsICJpc0V2YWwiLCAic3VibWF0Y2giLCAid2luanNSZSIsICJnZWNrb1JlIiwgImdlY2tvRXZhbFJlIiwgImphdmFTY3JpcHRDb3JlUmUiLCAibm9kZVJlIiwgImNvbW1hIiwgImNoYXJzIiwgImludFRvQ2hhciIsICJjaGFyVG9JbnQiLCAiaSIsICJjIiwgImRlY29kZUludGVnZXIiLCAicmVhZGVyIiwgInJlbGF0aXZlIiwgInZhbHVlIiwgInNoaWZ0IiwgImludGVnZXIiLCAic2hvdWxkTmVnYXRlIiwgImhhc01vcmVWbHEiLCAicmVhZGVyIiwgIm1heCIsICJjb21tYSIsICJidWZMZW5ndGgiLCAiU3RyaW5nUmVhZGVyIiwgImJ1ZmZlciIsICJjaGFyIiwgInBvcyIsICJpZHgiLCAiZGVjb2RlIiwgIm1hcHBpbmdzIiwgImxlbmd0aCIsICJyZWFkZXIiLCAiU3RyaW5nUmVhZGVyIiwgImRlY29kZWQiLCAiZ2VuQ29sdW1uIiwgInNvdXJjZXNJbmRleCIsICJzb3VyY2VMaW5lIiwgInNvdXJjZUNvbHVtbiIsICJuYW1lc0luZGV4IiwgInNlbWkiLCAibGluZSIsICJzb3J0ZWQiLCAibGFzdENvbCIsICJzZWciLCAiZGVjb2RlSW50ZWdlciIsICJoYXNNb3JlVmxxIiwgInNvcnQiLCAic29ydENvbXBhcmF0b3IiLCAiYSIsICJiIiwgImltcG9ydF9yZXNvbHZlX3VyaSIsICJzdHJpcEZpbGVuYW1lIiwgInBhdGgiLCAiaW5kZXgiLCAicmVzb2x2ZXIiLCAibWFwVXJsIiwgInNvdXJjZVJvb3QiLCAiZnJvbSIsICJwcmVmaXgiLCAic291cmNlIiwgInJlc29sdmVVcmkiLCAiQ09MVU1OIiwgIlNPVVJDRVNfSU5ERVgiLCAiU09VUkNFX0xJTkUiLCAiU09VUkNFX0NPTFVNTiIsICJOQU1FU19JTkRFWCIsICJtYXliZVNvcnQiLCAibWFwcGluZ3MiLCAib3duZWQiLCAidW5zb3J0ZWRJbmRleCIsICJuZXh0VW5zb3J0ZWRTZWdtZW50TGluZSIsICJpIiwgInNvcnRTZWdtZW50cyIsICJzdGFydCIsICJpc1NvcnRlZCIsICJsaW5lIiwgImoiLCAiQ09MVU1OIiwgInNvcnRDb21wYXJhdG9yIiwgImEiLCAiYiIsICJmb3VuZCIsICJiaW5hcnlTZWFyY2giLCAiaGF5c3RhY2siLCAibmVlZGxlIiwgImxvdyIsICJoaWdoIiwgIm1pZCIsICJjbXAiLCAidXBwZXJCb3VuZCIsICJpbmRleCIsICJsb3dlckJvdW5kIiwgIm1lbW9pemVkU3RhdGUiLCAibWVtb2l6ZWRCaW5hcnlTZWFyY2giLCAic3RhdGUiLCAia2V5IiwgImxhc3RLZXkiLCAibGFzdE5lZWRsZSIsICJsYXN0SW5kZXgiLCAicGFyc2UiLCAibWFwIiwgIkxJTkVfR1RSX1pFUk8iLCAiQ09MX0dUUl9FUV9aRVJPIiwgIkxFQVNUX1VQUEVSX0JPVU5EIiwgIkdSRUFURVNUX0xPV0VSX0JPVU5EIiwgIlRyYWNlTWFwIiwgIm1hcCIsICJtYXBVcmwiLCAiaXNTdHJpbmciLCAicGFyc2VkIiwgInBhcnNlIiwgInZlcnNpb24iLCAiZmlsZSIsICJuYW1lcyIsICJzb3VyY2VSb290IiwgInNvdXJjZXMiLCAic291cmNlc0NvbnRlbnQiLCAicmVzb2x2ZSIsICJyZXNvbHZlciIsICJtYXBwaW5ncyIsICJtYXliZVNvcnQiLCAibWVtb2l6ZWRTdGF0ZSIsICJkZWNvZGVkTWFwcGluZ3MiLCAibWFwIiwgIl9hIiwgImRlY29kZSIsICJvcmlnaW5hbFBvc2l0aW9uRm9yIiwgIm1hcCIsICJuZWVkbGUiLCAibGluZSIsICJjb2x1bW4iLCAiYmlhcyIsICJMSU5FX0dUUl9aRVJPIiwgIkNPTF9HVFJfRVFfWkVSTyIsICJkZWNvZGVkIiwgImRlY29kZWRNYXBwaW5ncyIsICJPTWFwcGluZyIsICJzZWdtZW50cyIsICJpbmRleCIsICJ0cmFjZVNlZ21lbnRJbnRlcm5hbCIsICJHUkVBVEVTVF9MT1dFUl9CT1VORCIsICJzZWdtZW50IiwgIm5hbWVzIiwgInJlc29sdmVkU291cmNlcyIsICJTT1VSQ0VTX0lOREVYIiwgIlNPVVJDRV9MSU5FIiwgIlNPVVJDRV9DT0xVTU4iLCAiTkFNRVNfSU5ERVgiLCAiT01hcHBpbmciLCAic291cmNlIiwgImxpbmUiLCAiY29sdW1uIiwgIm5hbWUiLCAidHJhY2VTZWdtZW50SW50ZXJuYWwiLCAic2VnbWVudHMiLCAibWVtbyIsICJsaW5lIiwgImNvbHVtbiIsICJiaWFzIiwgImluZGV4IiwgIm1lbW9pemVkQmluYXJ5U2VhcmNoIiwgImZvdW5kIiwgIkxFQVNUX1VQUEVSX0JPVU5EIiwgInVwcGVyQm91bmQiLCAibG93ZXJCb3VuZCIsICJpbXBvcnRfcGF0aF9icm93c2VyaWZ5IiwgImZpbGVVcmxUb1BhdGgiLCAidXJsIiwgImV4dHJhY3RTb3VyY2VNYXAiLCAic291cmNlIiwgIm1hdGNoIiwgImVycm9yQ3JlYXRlU3RhY2tGcmFtZXMiLCAic3RhY2siLCAiZnMiLCAic291cmNlUm9vdCIsICJzb3VyY2VtYXAiLCAidGhyb3duRnJhbWVzIiwgInBhcnNlIiwgImZpbGVOYW1lcyIsICJmIiwgInRyYWNlTWFwcyIsICJmbiIsICJmaWxlQ29udGVudCIsICJzb3VyY2VNYXAiLCAiVHJhY2VNYXAiLCAiZnJhbWVzIiwgInRocm93biIsICJmcmFtZSIsICJvcmlnaW5hbFBvc2l0aW9uRm9yIiwgInBhdGgiLCAiSXNvU3RhdGUiLCAicmVmcyIsICJwcm9wcyIsICJ1cmwiLCAibG9jYWxGZXRjaCIsICJzb3VyY2VSb290IiwgInNvdXJjZW1hcCIsICJmcyIsICJyZXF1ZXN0IiwgIklzb1JlZlN0YXRlIiwgIlJvdXRlclN0YXRlIiwgIkRlZmF1bHRFcnJvckZhbGxiYWNrIiwgIm9wdGlvbnMiLCAibG9jYWxGZXRjaFJlc3BvbnNlIiwgImVycm9yIiwgImVycm9yQ3JlYXRlU3RhY2tGcmFtZXMiLCAiSXNvQ29udGV4dCIsICJRIiwgInVzZUlzb0NvbnRleHQiLCAieCIsICJJc29Db250ZXh0UHJvdmlkZXIiLCAiaXNvU3RhdGUiLCAiY2hpbGRyZW4iLCAidSIsICJJc29FcnJvckJvdW5kYXJ5IiwgIkRlZmF1bHRFcnJvckZhbGxiYWNrIiwgIklzb1JlZkNvbnRleHQiLCAiUm91dGVyIiwgIkxpbmsiLCAiaHJlZiIsICJ0byIsICJwcm9wcyIsICJyZWRpcmVjdCIsICJ1c2VSZWRpcmVjdCIsICJFbGVtZW50IiwgIm9uTGlua0NsaWNrIiwgImV2IiwgInUiLCAiUGFnZW9uZSIsICJ1IiwgIlBhZ2V0d28iLCAiYmFzaWNfZGVmYXVsdCIsICJoZWxsbyIsICJyZWYiLCAidXNlSXNvUmVmIiwgInUiLCAiTGluayIsICJSb3V0ZSIsICJQYWdlb25lIiwgIlBhZ2V0d28iLCAiX193cmFwcGVycyIsICJvcHRpb25zIiwgImNyZWF0ZUlzb1N0YXRlIiwgImlzb1N0YXRlUGFyYW1zIiwgIklzb1N0YXRlIiwgIkVsZW1lbnQiLCAiaXNvU3RhdGUiLCAiY29udGVudCIsICJ1IiwgImJhc2ljX2RlZmF1bHQiLCAiVyIsICJJc29Db250ZXh0UHJvdmlkZXIiLCAiSiJdCn0K\n";

import fs from "fs";

let requestHandlerInstance=new IsoqRequestHandler({
	clientModule: clientModule,
	clientSource: clientSource,
	fs: fs,
	...{}
});

let requestHandler=requestHandlerInstance.handleRequest;

export default requestHandler;
